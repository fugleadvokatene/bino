function cl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var si={exports:{}},oi={exports:{}};var ul=oi.exports,rs;function fl(){return rs||(rs=1,(function(e){(function(t,i){e.exports=t.document?i(t,!0):function(s){if(!s.document)throw new Error("jQuery requires a window with a document");return i(s)}})(typeof window<"u"?window:ul,function(t,i){var s=[],o=Object.getPrototypeOf,f=s.slice,u=s.flat?function(n){return s.flat.call(n)}:function(n){return s.concat.apply([],n)},g=s.push,p=s.indexOf,I={},E=I.toString,T=I.hasOwnProperty,y=T.toString,A=y.call(Object),R={},v=function(r){return typeof r=="function"&&typeof r.nodeType!="number"&&typeof r.item!="function"},C=function(r){return r!=null&&r===r.window},M=t.document,O={type:!0,src:!0,nonce:!0,noModule:!0};function L(n,r,a){a=a||M;var c,d,h=a.createElement("script");if(h.text=n,r)for(c in O)d=r[c]||r.getAttribute&&r.getAttribute(c),d&&h.setAttribute(c,d);a.head.appendChild(h).parentNode.removeChild(h)}function x(n){return n==null?n+"":typeof n=="object"||typeof n=="function"?I[E.call(n)]||"object":typeof n}var V="3.7.1",j=/HTML$/i,l=function(n,r){return new l.fn.init(n,r)};l.fn=l.prototype={jquery:V,constructor:l,length:0,toArray:function(){return f.call(this)},get:function(n){return n==null?f.call(this):n<0?this[n+this.length]:this[n]},pushStack:function(n){var r=l.merge(this.constructor(),n);return r.prevObject=this,r},each:function(n){return l.each(this,n)},map:function(n){return this.pushStack(l.map(this,function(r,a){return n.call(r,a,r)}))},slice:function(){return this.pushStack(f.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(l.grep(this,function(n,r){return(r+1)%2}))},odd:function(){return this.pushStack(l.grep(this,function(n,r){return r%2}))},eq:function(n){var r=this.length,a=+n+(n<0?r:0);return this.pushStack(a>=0&&a<r?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:s.sort,splice:s.splice},l.extend=l.fn.extend=function(){var n,r,a,c,d,h,m=arguments[0]||{},w=1,b=arguments.length,D=!1;for(typeof m=="boolean"&&(D=m,m=arguments[w]||{},w++),typeof m!="object"&&!v(m)&&(m={}),w===b&&(m=this,w--);w<b;w++)if((n=arguments[w])!=null)for(r in n)c=n[r],!(r==="__proto__"||m===c)&&(D&&c&&(l.isPlainObject(c)||(d=Array.isArray(c)))?(a=m[r],d&&!Array.isArray(a)?h=[]:!d&&!l.isPlainObject(a)?h={}:h=a,d=!1,m[r]=l.extend(D,h,c)):c!==void 0&&(m[r]=c));return m},l.extend({expando:"jQuery"+(V+Math.random()).replace(/\D/g,""),isReady:!0,error:function(n){throw new Error(n)},noop:function(){},isPlainObject:function(n){var r,a;return!n||E.call(n)!=="[object Object]"?!1:(r=o(n),r?(a=T.call(r,"constructor")&&r.constructor,typeof a=="function"&&y.call(a)===A):!0)},isEmptyObject:function(n){var r;for(r in n)return!1;return!0},globalEval:function(n,r,a){L(n,{nonce:r&&r.nonce},a)},each:function(n,r){var a,c=0;if(F(n))for(a=n.length;c<a&&r.call(n[c],c,n[c])!==!1;c++);else for(c in n)if(r.call(n[c],c,n[c])===!1)break;return n},text:function(n){var r,a="",c=0,d=n.nodeType;if(!d)for(;r=n[c++];)a+=l.text(r);return d===1||d===11?n.textContent:d===9?n.documentElement.textContent:d===3||d===4?n.nodeValue:a},makeArray:function(n,r){var a=r||[];return n!=null&&(F(Object(n))?l.merge(a,typeof n=="string"?[n]:n):g.call(a,n)),a},inArray:function(n,r,a){return r==null?-1:p.call(r,n,a)},isXMLDoc:function(n){var r=n&&n.namespaceURI,a=n&&(n.ownerDocument||n).documentElement;return!j.test(r||a&&a.nodeName||"HTML")},merge:function(n,r){for(var a=+r.length,c=0,d=n.length;c<a;c++)n[d++]=r[c];return n.length=d,n},grep:function(n,r,a){for(var c,d=[],h=0,m=n.length,w=!a;h<m;h++)c=!r(n[h],h),c!==w&&d.push(n[h]);return d},map:function(n,r,a){var c,d,h=0,m=[];if(F(n))for(c=n.length;h<c;h++)d=r(n[h],h,a),d!=null&&m.push(d);else for(h in n)d=r(n[h],h,a),d!=null&&m.push(d);return u(m)},guid:1,support:R}),typeof Symbol=="function"&&(l.fn[Symbol.iterator]=s[Symbol.iterator]),l.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(n,r){I["[object "+r+"]"]=r.toLowerCase()});function F(n){var r=!!n&&"length"in n&&n.length,a=x(n);return v(n)||C(n)?!1:a==="array"||r===0||typeof r=="number"&&r>0&&r-1 in n}function G(n,r){return n.nodeName&&n.nodeName.toLowerCase()===r.toLowerCase()}var ee=s.pop,Q=s.sort,Y=s.splice,Z="[\\x20\\t\\r\\n\\f]",W=new RegExp("^"+Z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Z+"+$","g");l.contains=function(n,r){var a=r&&r.parentNode;return n===a||!!(a&&a.nodeType===1&&(n.contains?n.contains(a):n.compareDocumentPosition&&n.compareDocumentPosition(a)&16))};var se=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function k(n,r){return r?n==="\0"?"ï¿½":n.slice(0,-1)+"\\"+n.charCodeAt(n.length-1).toString(16)+" ":"\\"+n}l.escapeSelector=function(n){return(n+"").replace(se,k)};var q=M,te=g;(function(){var n,r,a,c,d,h=te,m,w,b,D,U,$=l.expando,N=0,X=0,fe=qn(),_e=qn(),Ee=qn(),Ue=qn(),Ne=function(_,S){return _===S&&(d=!0),0},pt="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",gt="(?:\\\\[\\da-fA-F]{1,6}"+Z+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Te="\\["+Z+"*("+gt+")(?:"+Z+"*([*^$|!~]?=)"+Z+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+gt+"))|)"+Z+"*\\]",Bt=":("+gt+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+Te+")*)|.*)\\)|)",ye=new RegExp(Z+"+","g"),De=new RegExp("^"+Z+"*,"+Z+"*"),wn=new RegExp("^"+Z+"*([>+~]|"+Z+")"+Z+"*"),Fi=new RegExp(Z+"|>"),Et=new RegExp(Bt),Sn=new RegExp("^"+gt+"$"),mt={ID:new RegExp("^#("+gt+")"),CLASS:new RegExp("^\\.("+gt+")"),TAG:new RegExp("^("+gt+"|[*])"),ATTR:new RegExp("^"+Te),PSEUDO:new RegExp("^"+Bt),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Z+"*(even|odd|(([+-]|)(\\d*)n|)"+Z+"*(?:([+-]|)"+Z+"*(\\d+)|))"+Z+"*\\)|)","i"),bool:new RegExp("^(?:"+pt+")$","i"),needsContext:new RegExp("^"+Z+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Z+"*((?:-\\d)?\\d*)"+Z+"*\\)|)(?=[^-]|$)","i")},Ot=/^(?:input|select|textarea|button)$/i,Dt=/^h\d$/i,tt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Ui=/[+~]/,bt=new RegExp("\\\\[\\da-fA-F]{1,6}"+Z+"?|\\\\([^\\r\\n\\f])","g"),vt=function(_,S){var P="0x"+_.slice(1)-65536;return S||(P<0?String.fromCharCode(P+65536):String.fromCharCode(P>>10|55296,P&1023|56320))},nl=function(){Mt()},il=jn(function(_){return _.disabled===!0&&G(_,"fieldset")},{dir:"parentNode",next:"legend"});function rl(){try{return m.activeElement}catch{}}try{h.apply(s=f.call(q.childNodes),q.childNodes),s[q.childNodes.length].nodeType}catch{h={apply:function(S,P){te.apply(S,f.call(P))},call:function(S){te.apply(S,f.call(arguments,1))}}}function be(_,S,P,B){var H,J,ie,oe,re,me,ue,he=S&&S.ownerDocument,Ie=S?S.nodeType:9;if(P=P||[],typeof _!="string"||!_||Ie!==1&&Ie!==9&&Ie!==11)return P;if(!B&&(Mt(S),S=S||m,b)){if(Ie!==11&&(re=tt.exec(_)))if(H=re[1]){if(Ie===9)if(ie=S.getElementById(H)){if(ie.id===H)return h.call(P,ie),P}else return P;else if(he&&(ie=he.getElementById(H))&&be.contains(S,ie)&&ie.id===H)return h.call(P,ie),P}else{if(re[2])return h.apply(P,S.getElementsByTagName(_)),P;if((H=re[3])&&S.getElementsByClassName)return h.apply(P,S.getElementsByClassName(H)),P}if(!Ue[_+" "]&&(!D||!D.test(_))){if(ue=_,he=S,Ie===1&&(Fi.test(_)||wn.test(_))){for(he=Ui.test(_)&&Vi(S.parentNode)||S,(he!=S||!R.scope)&&((oe=S.getAttribute("id"))?oe=l.escapeSelector(oe):S.setAttribute("id",oe=$)),me=On(_),J=me.length;J--;)me[J]=(oe?"#"+oe:":scope")+" "+zn(me[J]);ue=me.join(",")}try{return h.apply(P,he.querySelectorAll(ue)),P}catch{Ue(_,!0)}finally{oe===$&&S.removeAttribute("id")}}}return is(_.replace(W,"$1"),S,P,B)}function qn(){var _=[];function S(P,B){return _.push(P+" ")>r.cacheLength&&delete S[_.shift()],S[P+" "]=B}return S}function ct(_){return _[$]=!0,_}function on(_){var S=m.createElement("fieldset");try{return!!_(S)}catch{return!1}finally{S.parentNode&&S.parentNode.removeChild(S),S=null}}function sl(_){return function(S){return G(S,"input")&&S.type===_}}function ol(_){return function(S){return(G(S,"input")||G(S,"button"))&&S.type===_}}function ts(_){return function(S){return"form"in S?S.parentNode&&S.disabled===!1?"label"in S?"label"in S.parentNode?S.parentNode.disabled===_:S.disabled===_:S.isDisabled===_||S.isDisabled!==!_&&il(S)===_:S.disabled===_:"label"in S?S.disabled===_:!1}}function Ft(_){return ct(function(S){return S=+S,ct(function(P,B){for(var H,J=_([],P.length,S),ie=J.length;ie--;)P[H=J[ie]]&&(P[H]=!(B[H]=P[H]))})})}function Vi(_){return _&&typeof _.getElementsByTagName<"u"&&_}function Mt(_){var S,P=_?_.ownerDocument||_:q;return P==m||P.nodeType!==9||!P.documentElement||(m=P,w=m.documentElement,b=!l.isXMLDoc(m),U=w.matches||w.webkitMatchesSelector||w.msMatchesSelector,w.msMatchesSelector&&q!=m&&(S=m.defaultView)&&S.top!==S&&S.addEventListener("unload",nl),R.getById=on(function(B){return w.appendChild(B).id=l.expando,!m.getElementsByName||!m.getElementsByName(l.expando).length}),R.disconnectedMatch=on(function(B){return U.call(B,"*")}),R.scope=on(function(){return m.querySelectorAll(":scope")}),R.cssHas=on(function(){try{return m.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),R.getById?(r.filter.ID=function(B){var H=B.replace(bt,vt);return function(J){return J.getAttribute("id")===H}},r.find.ID=function(B,H){if(typeof H.getElementById<"u"&&b){var J=H.getElementById(B);return J?[J]:[]}}):(r.filter.ID=function(B){var H=B.replace(bt,vt);return function(J){var ie=typeof J.getAttributeNode<"u"&&J.getAttributeNode("id");return ie&&ie.value===H}},r.find.ID=function(B,H){if(typeof H.getElementById<"u"&&b){var J,ie,oe,re=H.getElementById(B);if(re){if(J=re.getAttributeNode("id"),J&&J.value===B)return[re];for(oe=H.getElementsByName(B),ie=0;re=oe[ie++];)if(J=re.getAttributeNode("id"),J&&J.value===B)return[re]}return[]}}),r.find.TAG=function(B,H){return typeof H.getElementsByTagName<"u"?H.getElementsByTagName(B):H.querySelectorAll(B)},r.find.CLASS=function(B,H){if(typeof H.getElementsByClassName<"u"&&b)return H.getElementsByClassName(B)},D=[],on(function(B){var H;w.appendChild(B).innerHTML="<a id='"+$+"' href='' disabled='disabled'></a><select id='"+$+"-\r\\' disabled='disabled'><option selected=''></option></select>",B.querySelectorAll("[selected]").length||D.push("\\["+Z+"*(?:value|"+pt+")"),B.querySelectorAll("[id~="+$+"-]").length||D.push("~="),B.querySelectorAll("a#"+$+"+*").length||D.push(".#.+[+~]"),B.querySelectorAll(":checked").length||D.push(":checked"),H=m.createElement("input"),H.setAttribute("type","hidden"),B.appendChild(H).setAttribute("name","D"),w.appendChild(B).disabled=!0,B.querySelectorAll(":disabled").length!==2&&D.push(":enabled",":disabled"),H=m.createElement("input"),H.setAttribute("name",""),B.appendChild(H),B.querySelectorAll("[name='']").length||D.push("\\["+Z+"*name"+Z+"*="+Z+`*(?:''|"")`)}),R.cssHas||D.push(":has"),D=D.length&&new RegExp(D.join("|")),Ne=function(B,H){if(B===H)return d=!0,0;var J=!B.compareDocumentPosition-!H.compareDocumentPosition;return J||(J=(B.ownerDocument||B)==(H.ownerDocument||H)?B.compareDocumentPosition(H):1,J&1||!R.sortDetached&&H.compareDocumentPosition(B)===J?B===m||B.ownerDocument==q&&be.contains(q,B)?-1:H===m||H.ownerDocument==q&&be.contains(q,H)?1:c?p.call(c,B)-p.call(c,H):0:J&4?-1:1)}),m}be.matches=function(_,S){return be(_,null,null,S)},be.matchesSelector=function(_,S){if(Mt(_),b&&!Ue[S+" "]&&(!D||!D.test(S)))try{var P=U.call(_,S);if(P||R.disconnectedMatch||_.document&&_.document.nodeType!==11)return P}catch{Ue(S,!0)}return be(S,m,null,[_]).length>0},be.contains=function(_,S){return(_.ownerDocument||_)!=m&&Mt(_),l.contains(_,S)},be.attr=function(_,S){(_.ownerDocument||_)!=m&&Mt(_);var P=r.attrHandle[S.toLowerCase()],B=P&&T.call(r.attrHandle,S.toLowerCase())?P(_,S,!b):void 0;return B!==void 0?B:_.getAttribute(S)},be.error=function(_){throw new Error("Syntax error, unrecognized expression: "+_)},l.uniqueSort=function(_){var S,P=[],B=0,H=0;if(d=!R.sortStable,c=!R.sortStable&&f.call(_,0),Q.call(_,Ne),d){for(;S=_[H++];)S===_[H]&&(B=P.push(H));for(;B--;)Y.call(_,P[B],1)}return c=null,_},l.fn.uniqueSort=function(){return this.pushStack(l.uniqueSort(f.apply(this)))},r=l.expr={cacheLength:50,createPseudo:ct,match:mt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(_){return _[1]=_[1].replace(bt,vt),_[3]=(_[3]||_[4]||_[5]||"").replace(bt,vt),_[2]==="~="&&(_[3]=" "+_[3]+" "),_.slice(0,4)},CHILD:function(_){return _[1]=_[1].toLowerCase(),_[1].slice(0,3)==="nth"?(_[3]||be.error(_[0]),_[4]=+(_[4]?_[5]+(_[6]||1):2*(_[3]==="even"||_[3]==="odd")),_[5]=+(_[7]+_[8]||_[3]==="odd")):_[3]&&be.error(_[0]),_},PSEUDO:function(_){var S,P=!_[6]&&_[2];return mt.CHILD.test(_[0])?null:(_[3]?_[2]=_[4]||_[5]||"":P&&Et.test(P)&&(S=On(P,!0))&&(S=P.indexOf(")",P.length-S)-P.length)&&(_[0]=_[0].slice(0,S),_[2]=P.slice(0,S)),_.slice(0,3))}},filter:{TAG:function(_){var S=_.replace(bt,vt).toLowerCase();return _==="*"?function(){return!0}:function(P){return G(P,S)}},CLASS:function(_){var S=fe[_+" "];return S||(S=new RegExp("(^|"+Z+")"+_+"("+Z+"|$)"))&&fe(_,function(P){return S.test(typeof P.className=="string"&&P.className||typeof P.getAttribute<"u"&&P.getAttribute("class")||"")})},ATTR:function(_,S,P){return function(B){var H=be.attr(B,_);return H==null?S==="!=":S?(H+="",S==="="?H===P:S==="!="?H!==P:S==="^="?P&&H.indexOf(P)===0:S==="*="?P&&H.indexOf(P)>-1:S==="$="?P&&H.slice(-P.length)===P:S==="~="?(" "+H.replace(ye," ")+" ").indexOf(P)>-1:S==="|="?H===P||H.slice(0,P.length+1)===P+"-":!1):!0}},CHILD:function(_,S,P,B,H){var J=_.slice(0,3)!=="nth",ie=_.slice(-4)!=="last",oe=S==="of-type";return B===1&&H===0?function(re){return!!re.parentNode}:function(re,me,ue){var he,Ie,ce,Se,Ze,He=J!==ie?"nextSibling":"previousSibling",nt=re.parentNode,It=oe&&re.nodeName.toLowerCase(),an=!ue&&!oe,$e=!1;if(nt){if(J){for(;He;){for(ce=re;ce=ce[He];)if(oe?G(ce,It):ce.nodeType===1)return!1;Ze=He=_==="only"&&!Ze&&"nextSibling"}return!0}if(Ze=[ie?nt.firstChild:nt.lastChild],ie&&an){for(Ie=nt[$]||(nt[$]={}),he=Ie[_]||[],Se=he[0]===N&&he[1],$e=Se&&he[2],ce=Se&&nt.childNodes[Se];ce=++Se&&ce&&ce[He]||($e=Se=0)||Ze.pop();)if(ce.nodeType===1&&++$e&&ce===re){Ie[_]=[N,Se,$e];break}}else if(an&&(Ie=re[$]||(re[$]={}),he=Ie[_]||[],Se=he[0]===N&&he[1],$e=Se),$e===!1)for(;(ce=++Se&&ce&&ce[He]||($e=Se=0)||Ze.pop())&&!((oe?G(ce,It):ce.nodeType===1)&&++$e&&(an&&(Ie=ce[$]||(ce[$]={}),Ie[_]=[N,$e]),ce===re)););return $e-=H,$e===B||$e%B===0&&$e/B>=0}}},PSEUDO:function(_,S){var P,B=r.pseudos[_]||r.setFilters[_.toLowerCase()]||be.error("unsupported pseudo: "+_);return B[$]?B(S):B.length>1?(P=[_,_,"",S],r.setFilters.hasOwnProperty(_.toLowerCase())?ct(function(H,J){for(var ie,oe=B(H,S),re=oe.length;re--;)ie=p.call(H,oe[re]),H[ie]=!(J[ie]=oe[re])}):function(H){return B(H,0,P)}):B}},pseudos:{not:ct(function(_){var S=[],P=[],B=Wi(_.replace(W,"$1"));return B[$]?ct(function(H,J,ie,oe){for(var re,me=B(H,null,oe,[]),ue=H.length;ue--;)(re=me[ue])&&(H[ue]=!(J[ue]=re))}):function(H,J,ie){return S[0]=H,B(S,null,ie,P),S[0]=null,!P.pop()}}),has:ct(function(_){return function(S){return be(_,S).length>0}}),contains:ct(function(_){return _=_.replace(bt,vt),function(S){return(S.textContent||l.text(S)).indexOf(_)>-1}}),lang:ct(function(_){return Sn.test(_||"")||be.error("unsupported lang: "+_),_=_.replace(bt,vt).toLowerCase(),function(S){var P;do if(P=b?S.lang:S.getAttribute("xml:lang")||S.getAttribute("lang"))return P=P.toLowerCase(),P===_||P.indexOf(_+"-")===0;while((S=S.parentNode)&&S.nodeType===1);return!1}}),target:function(_){var S=t.location&&t.location.hash;return S&&S.slice(1)===_.id},root:function(_){return _===w},focus:function(_){return _===rl()&&m.hasFocus()&&!!(_.type||_.href||~_.tabIndex)},enabled:ts(!1),disabled:ts(!0),checked:function(_){return G(_,"input")&&!!_.checked||G(_,"option")&&!!_.selected},selected:function(_){return _.parentNode&&_.parentNode.selectedIndex,_.selected===!0},empty:function(_){for(_=_.firstChild;_;_=_.nextSibling)if(_.nodeType<6)return!1;return!0},parent:function(_){return!r.pseudos.empty(_)},header:function(_){return Dt.test(_.nodeName)},input:function(_){return Ot.test(_.nodeName)},button:function(_){return G(_,"input")&&_.type==="button"||G(_,"button")},text:function(_){var S;return G(_,"input")&&_.type==="text"&&((S=_.getAttribute("type"))==null||S.toLowerCase()==="text")},first:Ft(function(){return[0]}),last:Ft(function(_,S){return[S-1]}),eq:Ft(function(_,S,P){return[P<0?P+S:P]}),even:Ft(function(_,S){for(var P=0;P<S;P+=2)_.push(P);return _}),odd:Ft(function(_,S){for(var P=1;P<S;P+=2)_.push(P);return _}),lt:Ft(function(_,S,P){var B;for(P<0?B=P+S:P>S?B=S:B=P;--B>=0;)_.push(B);return _}),gt:Ft(function(_,S,P){for(var B=P<0?P+S:P;++B<S;)_.push(B);return _})}},r.pseudos.nth=r.pseudos.eq;for(n in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[n]=sl(n);for(n in{submit:!0,reset:!0})r.pseudos[n]=ol(n);function ns(){}ns.prototype=r.filters=r.pseudos,r.setFilters=new ns;function On(_,S){var P,B,H,J,ie,oe,re,me=_e[_+" "];if(me)return S?0:me.slice(0);for(ie=_,oe=[],re=r.preFilter;ie;){(!P||(B=De.exec(ie)))&&(B&&(ie=ie.slice(B[0].length)||ie),oe.push(H=[])),P=!1,(B=wn.exec(ie))&&(P=B.shift(),H.push({value:P,type:B[0].replace(W," ")}),ie=ie.slice(P.length));for(J in r.filter)(B=mt[J].exec(ie))&&(!re[J]||(B=re[J](B)))&&(P=B.shift(),H.push({value:P,type:J,matches:B}),ie=ie.slice(P.length));if(!P)break}return S?ie.length:ie?be.error(_):_e(_,oe).slice(0)}function zn(_){for(var S=0,P=_.length,B="";S<P;S++)B+=_[S].value;return B}function jn(_,S,P){var B=S.dir,H=S.next,J=H||B,ie=P&&J==="parentNode",oe=X++;return S.first?function(re,me,ue){for(;re=re[B];)if(re.nodeType===1||ie)return _(re,me,ue);return!1}:function(re,me,ue){var he,Ie,ce=[N,oe];if(ue){for(;re=re[B];)if((re.nodeType===1||ie)&&_(re,me,ue))return!0}else for(;re=re[B];)if(re.nodeType===1||ie)if(Ie=re[$]||(re[$]={}),H&&G(re,H))re=re[B]||re;else{if((he=Ie[J])&&he[0]===N&&he[1]===oe)return ce[2]=he[2];if(Ie[J]=ce,ce[2]=_(re,me,ue))return!0}return!1}}function Hi(_){return _.length>1?function(S,P,B){for(var H=_.length;H--;)if(!_[H](S,P,B))return!1;return!0}:_[0]}function al(_,S,P){for(var B=0,H=S.length;B<H;B++)be(_,S[B],P);return P}function Yn(_,S,P,B,H){for(var J,ie=[],oe=0,re=_.length,me=S!=null;oe<re;oe++)(J=_[oe])&&(!P||P(J,B,H))&&(ie.push(J),me&&S.push(oe));return ie}function ki(_,S,P,B,H,J){return B&&!B[$]&&(B=ki(B)),H&&!H[$]&&(H=ki(H,J)),ct(function(ie,oe,re,me){var ue,he,Ie,ce,Se=[],Ze=[],He=oe.length,nt=ie||al(S||"*",re.nodeType?[re]:re,[]),It=_&&(ie||!S)?Yn(nt,Se,_,re,me):nt;if(P?(ce=H||(ie?_:He||B)?[]:oe,P(It,ce,re,me)):ce=It,B)for(ue=Yn(ce,Ze),B(ue,[],re,me),he=ue.length;he--;)(Ie=ue[he])&&(ce[Ze[he]]=!(It[Ze[he]]=Ie));if(ie){if(H||_){if(H){for(ue=[],he=ce.length;he--;)(Ie=ce[he])&&ue.push(It[he]=Ie);H(null,ce=[],ue,me)}for(he=ce.length;he--;)(Ie=ce[he])&&(ue=H?p.call(ie,Ie):Se[he])>-1&&(ie[ue]=!(oe[ue]=Ie))}}else ce=Yn(ce===oe?ce.splice(He,ce.length):ce),H?H(null,oe,ce,me):h.apply(oe,ce)})}function $i(_){for(var S,P,B,H=_.length,J=r.relative[_[0].type],ie=J||r.relative[" "],oe=J?1:0,re=jn(function(he){return he===S},ie,!0),me=jn(function(he){return p.call(S,he)>-1},ie,!0),ue=[function(he,Ie,ce){var Se=!J&&(ce||Ie!=a)||((S=Ie).nodeType?re(he,Ie,ce):me(he,Ie,ce));return S=null,Se}];oe<H;oe++)if(P=r.relative[_[oe].type])ue=[jn(Hi(ue),P)];else{if(P=r.filter[_[oe].type].apply(null,_[oe].matches),P[$]){for(B=++oe;B<H&&!r.relative[_[B].type];B++);return ki(oe>1&&Hi(ue),oe>1&&zn(_.slice(0,oe-1).concat({value:_[oe-2].type===" "?"*":""})).replace(W,"$1"),P,oe<B&&$i(_.slice(oe,B)),B<H&&$i(_=_.slice(B)),B<H&&zn(_))}ue.push(P)}return Hi(ue)}function ll(_,S){var P=S.length>0,B=_.length>0,H=function(J,ie,oe,re,me){var ue,he,Ie,ce=0,Se="0",Ze=J&&[],He=[],nt=a,It=J||B&&r.find.TAG("*",me),an=N+=nt==null?1:Math.random()||.1,$e=It.length;for(me&&(a=ie==m||ie||me);Se!==$e&&(ue=It[Se])!=null;Se++){if(B&&ue){for(he=0,!ie&&ue.ownerDocument!=m&&(Mt(ue),oe=!b);Ie=_[he++];)if(Ie(ue,ie||m,oe)){h.call(re,ue);break}me&&(N=an)}P&&((ue=!Ie&&ue)&&ce--,J&&Ze.push(ue))}if(ce+=Se,P&&Se!==ce){for(he=0;Ie=S[he++];)Ie(Ze,He,ie,oe);if(J){if(ce>0)for(;Se--;)Ze[Se]||He[Se]||(He[Se]=ee.call(re));He=Yn(He)}h.apply(re,He),me&&!J&&He.length>0&&ce+S.length>1&&l.uniqueSort(re)}return me&&(N=an,a=nt),Ze};return P?ct(H):H}function Wi(_,S){var P,B=[],H=[],J=Ee[_+" "];if(!J){for(S||(S=On(_)),P=S.length;P--;)J=$i(S[P]),J[$]?B.push(J):H.push(J);J=Ee(_,ll(H,B)),J.selector=_}return J}function is(_,S,P,B){var H,J,ie,oe,re,me=typeof _=="function"&&_,ue=!B&&On(_=me.selector||_);if(P=P||[],ue.length===1){if(J=ue[0]=ue[0].slice(0),J.length>2&&(ie=J[0]).type==="ID"&&S.nodeType===9&&b&&r.relative[J[1].type]){if(S=(r.find.ID(ie.matches[0].replace(bt,vt),S)||[])[0],S)me&&(S=S.parentNode);else return P;_=_.slice(J.shift().value.length)}for(H=mt.needsContext.test(_)?0:J.length;H--&&(ie=J[H],!r.relative[oe=ie.type]);)if((re=r.find[oe])&&(B=re(ie.matches[0].replace(bt,vt),Ui.test(J[0].type)&&Vi(S.parentNode)||S))){if(J.splice(H,1),_=B.length&&zn(J),!_)return h.apply(P,B),P;break}}return(me||Wi(_,ue))(B,S,!b,P,!S||Ui.test(_)&&Vi(S.parentNode)||S),P}R.sortStable=$.split("").sort(Ne).join("")===$,Mt(),R.sortDetached=on(function(_){return _.compareDocumentPosition(m.createElement("fieldset"))&1}),l.find=be,l.expr[":"]=l.expr.pseudos,l.unique=l.uniqueSort,be.compile=Wi,be.select=is,be.setDocument=Mt,be.tokenize=On,be.escape=l.escapeSelector,be.getText=l.text,be.isXML=l.isXMLDoc,be.selectors=l.expr,be.support=l.support,be.uniqueSort=l.uniqueSort})();var K=function(n,r,a){for(var c=[],d=a!==void 0;(n=n[r])&&n.nodeType!==9;)if(n.nodeType===1){if(d&&l(n).is(a))break;c.push(n)}return c},de=function(n,r){for(var a=[];n;n=n.nextSibling)n.nodeType===1&&n!==r&&a.push(n);return a},ne=l.expr.match.needsContext,ve=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function we(n,r,a){return v(r)?l.grep(n,function(c,d){return!!r.call(c,d,c)!==a}):r.nodeType?l.grep(n,function(c){return c===r!==a}):typeof r!="string"?l.grep(n,function(c){return p.call(r,c)>-1!==a}):l.filter(r,n,a)}l.filter=function(n,r,a){var c=r[0];return a&&(n=":not("+n+")"),r.length===1&&c.nodeType===1?l.find.matchesSelector(c,n)?[c]:[]:l.find.matches(n,l.grep(r,function(d){return d.nodeType===1}))},l.fn.extend({find:function(n){var r,a,c=this.length,d=this;if(typeof n!="string")return this.pushStack(l(n).filter(function(){for(r=0;r<c;r++)if(l.contains(d[r],this))return!0}));for(a=this.pushStack([]),r=0;r<c;r++)l.find(n,d[r],a);return c>1?l.uniqueSort(a):a},filter:function(n){return this.pushStack(we(this,n||[],!1))},not:function(n){return this.pushStack(we(this,n||[],!0))},is:function(n){return!!we(this,typeof n=="string"&&ne.test(n)?l(n):n||[],!1).length}});var Oe,ke=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,le=l.fn.init=function(n,r,a){var c,d;if(!n)return this;if(a=a||Oe,typeof n=="string")if(n[0]==="<"&&n[n.length-1]===">"&&n.length>=3?c=[null,n,null]:c=ke.exec(n),c&&(c[1]||!r))if(c[1]){if(r=r instanceof l?r[0]:r,l.merge(this,l.parseHTML(c[1],r&&r.nodeType?r.ownerDocument||r:M,!0)),ve.test(c[1])&&l.isPlainObject(r))for(c in r)v(this[c])?this[c](r[c]):this.attr(c,r[c]);return this}else return d=M.getElementById(c[2]),d&&(this[0]=d,this.length=1),this;else return!r||r.jquery?(r||a).find(n):this.constructor(r).find(n);else{if(n.nodeType)return this[0]=n,this.length=1,this;if(v(n))return a.ready!==void 0?a.ready(n):n(l)}return l.makeArray(n,this)};le.prototype=l.fn,Oe=l(M);var ge=/^(?:parents|prev(?:Until|All))/,Ae={children:!0,contents:!0,next:!0,prev:!0};l.fn.extend({has:function(n){var r=l(n,this),a=r.length;return this.filter(function(){for(var c=0;c<a;c++)if(l.contains(this,r[c]))return!0})},closest:function(n,r){var a,c=0,d=this.length,h=[],m=typeof n!="string"&&l(n);if(!ne.test(n)){for(;c<d;c++)for(a=this[c];a&&a!==r;a=a.parentNode)if(a.nodeType<11&&(m?m.index(a)>-1:a.nodeType===1&&l.find.matchesSelector(a,n))){h.push(a);break}}return this.pushStack(h.length>1?l.uniqueSort(h):h)},index:function(n){return n?typeof n=="string"?p.call(l(n),this[0]):p.call(this,n.jquery?n[0]:n):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(n,r){return this.pushStack(l.uniqueSort(l.merge(this.get(),l(n,r))))},addBack:function(n){return this.add(n==null?this.prevObject:this.prevObject.filter(n))}});function xe(n,r){for(;(n=n[r])&&n.nodeType!==1;);return n}l.each({parent:function(n){var r=n.parentNode;return r&&r.nodeType!==11?r:null},parents:function(n){return K(n,"parentNode")},parentsUntil:function(n,r,a){return K(n,"parentNode",a)},next:function(n){return xe(n,"nextSibling")},prev:function(n){return xe(n,"previousSibling")},nextAll:function(n){return K(n,"nextSibling")},prevAll:function(n){return K(n,"previousSibling")},nextUntil:function(n,r,a){return K(n,"nextSibling",a)},prevUntil:function(n,r,a){return K(n,"previousSibling",a)},siblings:function(n){return de((n.parentNode||{}).firstChild,n)},children:function(n){return de(n.firstChild)},contents:function(n){return n.contentDocument!=null&&o(n.contentDocument)?n.contentDocument:(G(n,"template")&&(n=n.content||n),l.merge([],n.childNodes))}},function(n,r){l.fn[n]=function(a,c){var d=l.map(this,r,a);return n.slice(-5)!=="Until"&&(c=a),c&&typeof c=="string"&&(d=l.filter(c,d)),this.length>1&&(Ae[n]||l.uniqueSort(d),ge.test(n)&&d.reverse()),this.pushStack(d)}});var Re=/[^\x20\t\r\n\f]+/g;function Qt(n){var r={};return l.each(n.match(Re)||[],function(a,c){r[c]=!0}),r}l.Callbacks=function(n){n=typeof n=="string"?Qt(n):l.extend({},n);var r,a,c,d,h=[],m=[],w=-1,b=function(){for(d=d||n.once,c=r=!0;m.length;w=-1)for(a=m.shift();++w<h.length;)h[w].apply(a[0],a[1])===!1&&n.stopOnFalse&&(w=h.length,a=!1);n.memory||(a=!1),r=!1,d&&(a?h=[]:h="")},D={add:function(){return h&&(a&&!r&&(w=h.length-1,m.push(a)),(function U($){l.each($,function(N,X){v(X)?(!n.unique||!D.has(X))&&h.push(X):X&&X.length&&x(X)!=="string"&&U(X)})})(arguments),a&&!r&&b()),this},remove:function(){return l.each(arguments,function(U,$){for(var N;(N=l.inArray($,h,N))>-1;)h.splice(N,1),N<=w&&w--}),this},has:function(U){return U?l.inArray(U,h)>-1:h.length>0},empty:function(){return h&&(h=[]),this},disable:function(){return d=m=[],h=a="",this},disabled:function(){return!h},lock:function(){return d=m=[],!a&&!r&&(h=a=""),this},locked:function(){return!!d},fireWith:function(U,$){return d||($=$||[],$=[U,$.slice?$.slice():$],m.push($),r||b()),this},fire:function(){return D.fireWith(this,arguments),this},fired:function(){return!!c}};return D};function Kt(n){return n}function Fn(n){throw n}function Ar(n,r,a,c){var d;try{n&&v(d=n.promise)?d.call(n).done(r).fail(a):n&&v(d=n.then)?d.call(n,r,a):r.apply(void 0,[n].slice(c))}catch(h){a.apply(void 0,[h])}}l.extend({Deferred:function(n){var r=[["notify","progress",l.Callbacks("memory"),l.Callbacks("memory"),2],["resolve","done",l.Callbacks("once memory"),l.Callbacks("once memory"),0,"resolved"],["reject","fail",l.Callbacks("once memory"),l.Callbacks("once memory"),1,"rejected"]],a="pending",c={state:function(){return a},always:function(){return d.done(arguments).fail(arguments),this},catch:function(h){return c.then(null,h)},pipe:function(){var h=arguments;return l.Deferred(function(m){l.each(r,function(w,b){var D=v(h[b[4]])&&h[b[4]];d[b[1]](function(){var U=D&&D.apply(this,arguments);U&&v(U.promise)?U.promise().progress(m.notify).done(m.resolve).fail(m.reject):m[b[0]+"With"](this,D?[U]:arguments)})}),h=null}).promise()},then:function(h,m,w){var b=0;function D(U,$,N,X){return function(){var fe=this,_e=arguments,Ee=function(){var Ne,pt;if(!(U<b)){if(Ne=N.apply(fe,_e),Ne===$.promise())throw new TypeError("Thenable self-resolution");pt=Ne&&(typeof Ne=="object"||typeof Ne=="function")&&Ne.then,v(pt)?X?pt.call(Ne,D(b,$,Kt,X),D(b,$,Fn,X)):(b++,pt.call(Ne,D(b,$,Kt,X),D(b,$,Fn,X),D(b,$,Kt,$.notifyWith))):(N!==Kt&&(fe=void 0,_e=[Ne]),(X||$.resolveWith)(fe,_e))}},Ue=X?Ee:function(){try{Ee()}catch(Ne){l.Deferred.exceptionHook&&l.Deferred.exceptionHook(Ne,Ue.error),U+1>=b&&(N!==Fn&&(fe=void 0,_e=[Ne]),$.rejectWith(fe,_e))}};U?Ue():(l.Deferred.getErrorHook?Ue.error=l.Deferred.getErrorHook():l.Deferred.getStackHook&&(Ue.error=l.Deferred.getStackHook()),t.setTimeout(Ue))}}return l.Deferred(function(U){r[0][3].add(D(0,U,v(w)?w:Kt,U.notifyWith)),r[1][3].add(D(0,U,v(h)?h:Kt)),r[2][3].add(D(0,U,v(m)?m:Fn))}).promise()},promise:function(h){return h!=null?l.extend(h,c):c}},d={};return l.each(r,function(h,m){var w=m[2],b=m[5];c[m[1]]=w.add,b&&w.add(function(){a=b},r[3-h][2].disable,r[3-h][3].disable,r[0][2].lock,r[0][3].lock),w.add(m[3].fire),d[m[0]]=function(){return d[m[0]+"With"](this===d?void 0:this,arguments),this},d[m[0]+"With"]=w.fireWith}),c.promise(d),n&&n.call(d,d),d},when:function(n){var r=arguments.length,a=r,c=Array(a),d=f.call(arguments),h=l.Deferred(),m=function(w){return function(b){c[w]=this,d[w]=arguments.length>1?f.call(arguments):b,--r||h.resolveWith(c,d)}};if(r<=1&&(Ar(n,h.done(m(a)).resolve,h.reject,!r),h.state()==="pending"||v(d[a]&&d[a].then)))return h.then();for(;a--;)Ar(d[a],m(a),h.reject);return h.promise()}});var ha=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;l.Deferred.exceptionHook=function(n,r){t.console&&t.console.warn&&n&&ha.test(n.name)&&t.console.warn("jQuery.Deferred exception: "+n.message,n.stack,r)},l.readyException=function(n){t.setTimeout(function(){throw n})};var Ai=l.Deferred();l.fn.ready=function(n){return Ai.then(n).catch(function(r){l.readyException(r)}),this},l.extend({isReady:!1,readyWait:1,ready:function(n){(n===!0?--l.readyWait:l.isReady)||(l.isReady=!0,!(n!==!0&&--l.readyWait>0)&&Ai.resolveWith(M,[l]))}}),l.ready.then=Ai.then;function Un(){M.removeEventListener("DOMContentLoaded",Un),t.removeEventListener("load",Un),l.ready()}M.readyState==="complete"||M.readyState!=="loading"&&!M.documentElement.doScroll?t.setTimeout(l.ready):(M.addEventListener("DOMContentLoaded",Un),t.addEventListener("load",Un));var Rt=function(n,r,a,c,d,h,m){var w=0,b=n.length,D=a==null;if(x(a)==="object"){d=!0;for(w in a)Rt(n,r,w,a[w],!0,h,m)}else if(c!==void 0&&(d=!0,v(c)||(m=!0),D&&(m?(r.call(n,c),r=null):(D=r,r=function(U,$,N){return D.call(l(U),N)})),r))for(;w<b;w++)r(n[w],a,m?c:c.call(n[w],w,r(n[w],a)));return d?n:D?r.call(n):b?r(n[0],a):h},pa=/^-ms-/,ga=/-([a-z])/g;function Ea(n,r){return r.toUpperCase()}function ht(n){return n.replace(pa,"ms-").replace(ga,Ea)}var In=function(n){return n.nodeType===1||n.nodeType===9||!+n.nodeType};function Tn(){this.expando=l.expando+Tn.uid++}Tn.uid=1,Tn.prototype={cache:function(n){var r=n[this.expando];return r||(r={},In(n)&&(n.nodeType?n[this.expando]=r:Object.defineProperty(n,this.expando,{value:r,configurable:!0}))),r},set:function(n,r,a){var c,d=this.cache(n);if(typeof r=="string")d[ht(r)]=a;else for(c in r)d[ht(c)]=r[c];return d},get:function(n,r){return r===void 0?this.cache(n):n[this.expando]&&n[this.expando][ht(r)]},access:function(n,r,a){return r===void 0||r&&typeof r=="string"&&a===void 0?this.get(n,r):(this.set(n,r,a),a!==void 0?a:r)},remove:function(n,r){var a,c=n[this.expando];if(c!==void 0){if(r!==void 0)for(Array.isArray(r)?r=r.map(ht):(r=ht(r),r=r in c?[r]:r.match(Re)||[]),a=r.length;a--;)delete c[r[a]];(r===void 0||l.isEmptyObject(c))&&(n.nodeType?n[this.expando]=void 0:delete n[this.expando])}},hasData:function(n){var r=n[this.expando];return r!==void 0&&!l.isEmptyObject(r)}};var ae=new Tn,je=new Tn,ma=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ia=/[A-Z]/g;function Ta(n){return n==="true"?!0:n==="false"?!1:n==="null"?null:n===+n+""?+n:ma.test(n)?JSON.parse(n):n}function br(n,r,a){var c;if(a===void 0&&n.nodeType===1)if(c="data-"+r.replace(Ia,"-$&").toLowerCase(),a=n.getAttribute(c),typeof a=="string"){try{a=Ta(a)}catch{}je.set(n,r,a)}else a=void 0;return a}l.extend({hasData:function(n){return je.hasData(n)||ae.hasData(n)},data:function(n,r,a){return je.access(n,r,a)},removeData:function(n,r){je.remove(n,r)},_data:function(n,r,a){return ae.access(n,r,a)},_removeData:function(n,r){ae.remove(n,r)}}),l.fn.extend({data:function(n,r){var a,c,d,h=this[0],m=h&&h.attributes;if(n===void 0){if(this.length&&(d=je.get(h),h.nodeType===1&&!ae.get(h,"hasDataAttrs"))){for(a=m.length;a--;)m[a]&&(c=m[a].name,c.indexOf("data-")===0&&(c=ht(c.slice(5)),br(h,c,d[c])));ae.set(h,"hasDataAttrs",!0)}return d}return typeof n=="object"?this.each(function(){je.set(this,n)}):Rt(this,function(w){var b;if(h&&w===void 0)return b=je.get(h,n),b!==void 0||(b=br(h,n),b!==void 0)?b:void 0;this.each(function(){je.set(this,n,w)})},null,r,arguments.length>1,null,!0)},removeData:function(n){return this.each(function(){je.remove(this,n)})}}),l.extend({queue:function(n,r,a){var c;if(n)return r=(r||"fx")+"queue",c=ae.get(n,r),a&&(!c||Array.isArray(a)?c=ae.access(n,r,l.makeArray(a)):c.push(a)),c||[]},dequeue:function(n,r){r=r||"fx";var a=l.queue(n,r),c=a.length,d=a.shift(),h=l._queueHooks(n,r),m=function(){l.dequeue(n,r)};d==="inprogress"&&(d=a.shift(),c--),d&&(r==="fx"&&a.unshift("inprogress"),delete h.stop,d.call(n,m,h)),!c&&h&&h.empty.fire()},_queueHooks:function(n,r){var a=r+"queueHooks";return ae.get(n,a)||ae.access(n,a,{empty:l.Callbacks("once memory").add(function(){ae.remove(n,[r+"queue",a])})})}}),l.fn.extend({queue:function(n,r){var a=2;return typeof n!="string"&&(r=n,n="fx",a--),arguments.length<a?l.queue(this[0],n):r===void 0?this:this.each(function(){var c=l.queue(this,n,r);l._queueHooks(this,n),n==="fx"&&c[0]!=="inprogress"&&l.dequeue(this,n)})},dequeue:function(n){return this.each(function(){l.dequeue(this,n)})},clearQueue:function(n){return this.queue(n||"fx",[])},promise:function(n,r){var a,c=1,d=l.Deferred(),h=this,m=this.length,w=function(){--c||d.resolveWith(h,[h])};for(typeof n!="string"&&(r=n,n=void 0),n=n||"fx";m--;)a=ae.get(h[m],n+"queueHooks"),a&&a.empty&&(c++,a.empty.add(w));return w(),d.promise(r)}});var vr=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,_n=new RegExp("^(?:([+-])=|)("+vr+")([a-z%]*)$","i"),At=["Top","Right","Bottom","Left"],Pt=M.documentElement,Jt=function(n){return l.contains(n.ownerDocument,n)},_a={composed:!0};Pt.getRootNode&&(Jt=function(n){return l.contains(n.ownerDocument,n)||n.getRootNode(_a)===n.ownerDocument});var Vn=function(n,r){return n=r||n,n.style.display==="none"||n.style.display===""&&Jt(n)&&l.css(n,"display")==="none"};function wr(n,r,a,c){var d,h,m=20,w=c?function(){return c.cur()}:function(){return l.css(n,r,"")},b=w(),D=a&&a[3]||(l.cssNumber[r]?"":"px"),U=n.nodeType&&(l.cssNumber[r]||D!=="px"&&+b)&&_n.exec(l.css(n,r));if(U&&U[3]!==D){for(b=b/2,D=D||U[3],U=+b||1;m--;)l.style(n,r,U+D),(1-h)*(1-(h=w()/b||.5))<=0&&(m=0),U=U/h;U=U*2,l.style(n,r,U+D),a=a||[]}return a&&(U=+U||+b||0,d=a[1]?U+(a[1]+1)*a[2]:+a[2],c&&(c.unit=D,c.start=U,c.end=d)),d}var Sr={};function ya(n){var r,a=n.ownerDocument,c=n.nodeName,d=Sr[c];return d||(r=a.body.appendChild(a.createElement(c)),d=l.css(r,"display"),r.parentNode.removeChild(r),d==="none"&&(d="block"),Sr[c]=d,d)}function en(n,r){for(var a,c,d=[],h=0,m=n.length;h<m;h++)c=n[h],c.style&&(a=c.style.display,r?(a==="none"&&(d[h]=ae.get(c,"display")||null,d[h]||(c.style.display="")),c.style.display===""&&Vn(c)&&(d[h]=ya(c))):a!=="none"&&(d[h]="none",ae.set(c,"display",a)));for(h=0;h<m;h++)d[h]!=null&&(n[h].style.display=d[h]);return n}l.fn.extend({show:function(){return en(this,!0)},hide:function(){return en(this)},toggle:function(n){return typeof n=="boolean"?n?this.show():this.hide():this.each(function(){Vn(this)?l(this).show():l(this).hide()})}});var yn=/^(?:checkbox|radio)$/i,Or=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,Dr=/^$|^module$|\/(?:java|ecma)script/i;(function(){var n=M.createDocumentFragment(),r=n.appendChild(M.createElement("div")),a=M.createElement("input");a.setAttribute("type","radio"),a.setAttribute("checked","checked"),a.setAttribute("name","t"),r.appendChild(a),R.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,r.innerHTML="<textarea>x</textarea>",R.noCloneChecked=!!r.cloneNode(!0).lastChild.defaultValue,r.innerHTML="<option></option>",R.option=!!r.lastChild})();var et={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};et.tbody=et.tfoot=et.colgroup=et.caption=et.thead,et.th=et.td,R.option||(et.optgroup=et.option=[1,"<select multiple='multiple'>","</select>"]);function Ye(n,r){var a;return typeof n.getElementsByTagName<"u"?a=n.getElementsByTagName(r||"*"):typeof n.querySelectorAll<"u"?a=n.querySelectorAll(r||"*"):a=[],r===void 0||r&&G(n,r)?l.merge([n],a):a}function bi(n,r){for(var a=0,c=n.length;a<c;a++)ae.set(n[a],"globalEval",!r||ae.get(r[a],"globalEval"))}var Ra=/<|&#?\w+;/;function Mr(n,r,a,c,d){for(var h,m,w,b,D,U,$=r.createDocumentFragment(),N=[],X=0,fe=n.length;X<fe;X++)if(h=n[X],h||h===0)if(x(h)==="object")l.merge(N,h.nodeType?[h]:h);else if(!Ra.test(h))N.push(r.createTextNode(h));else{for(m=m||$.appendChild(r.createElement("div")),w=(Or.exec(h)||["",""])[1].toLowerCase(),b=et[w]||et._default,m.innerHTML=b[1]+l.htmlPrefilter(h)+b[2],U=b[0];U--;)m=m.lastChild;l.merge(N,m.childNodes),m=$.firstChild,m.textContent=""}for($.textContent="",X=0;h=N[X++];){if(c&&l.inArray(h,c)>-1){d&&d.push(h);continue}if(D=Jt(h),m=Ye($.appendChild(h),"script"),D&&bi(m),a)for(U=0;h=m[U++];)Dr.test(h.type||"")&&a.push(h)}return $}var Cr=/^([^.]*)(?:\.(.+)|)/;function tn(){return!0}function nn(){return!1}function vi(n,r,a,c,d,h){var m,w;if(typeof r=="object"){typeof a!="string"&&(c=c||a,a=void 0);for(w in r)vi(n,w,a,c,r[w],h);return n}if(c==null&&d==null?(d=a,c=a=void 0):d==null&&(typeof a=="string"?(d=c,c=void 0):(d=c,c=a,a=void 0)),d===!1)d=nn;else if(!d)return n;return h===1&&(m=d,d=function(b){return l().off(b),m.apply(this,arguments)},d.guid=m.guid||(m.guid=l.guid++)),n.each(function(){l.event.add(this,r,d,c,a)})}l.event={global:{},add:function(n,r,a,c,d){var h,m,w,b,D,U,$,N,X,fe,_e,Ee=ae.get(n);if(In(n))for(a.handler&&(h=a,a=h.handler,d=h.selector),d&&l.find.matchesSelector(Pt,d),a.guid||(a.guid=l.guid++),(b=Ee.events)||(b=Ee.events=Object.create(null)),(m=Ee.handle)||(m=Ee.handle=function(Ue){return typeof l<"u"&&l.event.triggered!==Ue.type?l.event.dispatch.apply(n,arguments):void 0}),r=(r||"").match(Re)||[""],D=r.length;D--;)w=Cr.exec(r[D])||[],X=_e=w[1],fe=(w[2]||"").split(".").sort(),X&&($=l.event.special[X]||{},X=(d?$.delegateType:$.bindType)||X,$=l.event.special[X]||{},U=l.extend({type:X,origType:_e,data:c,handler:a,guid:a.guid,selector:d,needsContext:d&&l.expr.match.needsContext.test(d),namespace:fe.join(".")},h),(N=b[X])||(N=b[X]=[],N.delegateCount=0,(!$.setup||$.setup.call(n,c,fe,m)===!1)&&n.addEventListener&&n.addEventListener(X,m)),$.add&&($.add.call(n,U),U.handler.guid||(U.handler.guid=a.guid)),d?N.splice(N.delegateCount++,0,U):N.push(U),l.event.global[X]=!0)},remove:function(n,r,a,c,d){var h,m,w,b,D,U,$,N,X,fe,_e,Ee=ae.hasData(n)&&ae.get(n);if(!(!Ee||!(b=Ee.events))){for(r=(r||"").match(Re)||[""],D=r.length;D--;){if(w=Cr.exec(r[D])||[],X=_e=w[1],fe=(w[2]||"").split(".").sort(),!X){for(X in b)l.event.remove(n,X+r[D],a,c,!0);continue}for($=l.event.special[X]||{},X=(c?$.delegateType:$.bindType)||X,N=b[X]||[],w=w[2]&&new RegExp("(^|\\.)"+fe.join("\\.(?:.*\\.|)")+"(\\.|$)"),m=h=N.length;h--;)U=N[h],(d||_e===U.origType)&&(!a||a.guid===U.guid)&&(!w||w.test(U.namespace))&&(!c||c===U.selector||c==="**"&&U.selector)&&(N.splice(h,1),U.selector&&N.delegateCount--,$.remove&&$.remove.call(n,U));m&&!N.length&&((!$.teardown||$.teardown.call(n,fe,Ee.handle)===!1)&&l.removeEvent(n,X,Ee.handle),delete b[X])}l.isEmptyObject(b)&&ae.remove(n,"handle events")}},dispatch:function(n){var r,a,c,d,h,m,w=new Array(arguments.length),b=l.event.fix(n),D=(ae.get(this,"events")||Object.create(null))[b.type]||[],U=l.event.special[b.type]||{};for(w[0]=b,r=1;r<arguments.length;r++)w[r]=arguments[r];if(b.delegateTarget=this,!(U.preDispatch&&U.preDispatch.call(this,b)===!1)){for(m=l.event.handlers.call(this,b,D),r=0;(d=m[r++])&&!b.isPropagationStopped();)for(b.currentTarget=d.elem,a=0;(h=d.handlers[a++])&&!b.isImmediatePropagationStopped();)(!b.rnamespace||h.namespace===!1||b.rnamespace.test(h.namespace))&&(b.handleObj=h,b.data=h.data,c=((l.event.special[h.origType]||{}).handle||h.handler).apply(d.elem,w),c!==void 0&&(b.result=c)===!1&&(b.preventDefault(),b.stopPropagation()));return U.postDispatch&&U.postDispatch.call(this,b),b.result}},handlers:function(n,r){var a,c,d,h,m,w=[],b=r.delegateCount,D=n.target;if(b&&D.nodeType&&!(n.type==="click"&&n.button>=1)){for(;D!==this;D=D.parentNode||this)if(D.nodeType===1&&!(n.type==="click"&&D.disabled===!0)){for(h=[],m={},a=0;a<b;a++)c=r[a],d=c.selector+" ",m[d]===void 0&&(m[d]=c.needsContext?l(d,this).index(D)>-1:l.find(d,this,null,[D]).length),m[d]&&h.push(c);h.length&&w.push({elem:D,handlers:h})}}return D=this,b<r.length&&w.push({elem:D,handlers:r.slice(b)}),w},addProp:function(n,r){Object.defineProperty(l.Event.prototype,n,{enumerable:!0,configurable:!0,get:v(r)?function(){if(this.originalEvent)return r(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[n]},set:function(a){Object.defineProperty(this,n,{enumerable:!0,configurable:!0,writable:!0,value:a})}})},fix:function(n){return n[l.expando]?n:new l.Event(n)},special:{load:{noBubble:!0},click:{setup:function(n){var r=this||n;return yn.test(r.type)&&r.click&&G(r,"input")&&Hn(r,"click",!0),!1},trigger:function(n){var r=this||n;return yn.test(r.type)&&r.click&&G(r,"input")&&Hn(r,"click"),!0},_default:function(n){var r=n.target;return yn.test(r.type)&&r.click&&G(r,"input")&&ae.get(r,"click")||G(r,"a")}},beforeunload:{postDispatch:function(n){n.result!==void 0&&n.originalEvent&&(n.originalEvent.returnValue=n.result)}}}};function Hn(n,r,a){if(!a){ae.get(n,r)===void 0&&l.event.add(n,r,tn);return}ae.set(n,r,!1),l.event.add(n,r,{namespace:!1,handler:function(c){var d,h=ae.get(this,r);if(c.isTrigger&1&&this[r]){if(h)(l.event.special[r]||{}).delegateType&&c.stopPropagation();else if(h=f.call(arguments),ae.set(this,r,h),this[r](),d=ae.get(this,r),ae.set(this,r,!1),h!==d)return c.stopImmediatePropagation(),c.preventDefault(),d}else h&&(ae.set(this,r,l.event.trigger(h[0],h.slice(1),this)),c.stopPropagation(),c.isImmediatePropagationStopped=tn)}})}l.removeEvent=function(n,r,a){n.removeEventListener&&n.removeEventListener(r,a)},l.Event=function(n,r){if(!(this instanceof l.Event))return new l.Event(n,r);n&&n.type?(this.originalEvent=n,this.type=n.type,this.isDefaultPrevented=n.defaultPrevented||n.defaultPrevented===void 0&&n.returnValue===!1?tn:nn,this.target=n.target&&n.target.nodeType===3?n.target.parentNode:n.target,this.currentTarget=n.currentTarget,this.relatedTarget=n.relatedTarget):this.type=n,r&&l.extend(this,r),this.timeStamp=n&&n.timeStamp||Date.now(),this[l.expando]=!0},l.Event.prototype={constructor:l.Event,isDefaultPrevented:nn,isPropagationStopped:nn,isImmediatePropagationStopped:nn,isSimulated:!1,preventDefault:function(){var n=this.originalEvent;this.isDefaultPrevented=tn,n&&!this.isSimulated&&n.preventDefault()},stopPropagation:function(){var n=this.originalEvent;this.isPropagationStopped=tn,n&&!this.isSimulated&&n.stopPropagation()},stopImmediatePropagation:function(){var n=this.originalEvent;this.isImmediatePropagationStopped=tn,n&&!this.isSimulated&&n.stopImmediatePropagation(),this.stopPropagation()}},l.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},l.event.addProp),l.each({focus:"focusin",blur:"focusout"},function(n,r){function a(c){if(M.documentMode){var d=ae.get(this,"handle"),h=l.event.fix(c);h.type=c.type==="focusin"?"focus":"blur",h.isSimulated=!0,d(c),h.target===h.currentTarget&&d(h)}else l.event.simulate(r,c.target,l.event.fix(c))}l.event.special[n]={setup:function(){var c;if(Hn(this,n,!0),M.documentMode)c=ae.get(this,r),c||this.addEventListener(r,a),ae.set(this,r,(c||0)+1);else return!1},trigger:function(){return Hn(this,n),!0},teardown:function(){var c;if(M.documentMode)c=ae.get(this,r)-1,c?ae.set(this,r,c):(this.removeEventListener(r,a),ae.remove(this,r));else return!1},_default:function(c){return ae.get(c.target,n)},delegateType:r},l.event.special[r]={setup:function(){var c=this.ownerDocument||this.document||this,d=M.documentMode?this:c,h=ae.get(d,r);h||(M.documentMode?this.addEventListener(r,a):c.addEventListener(n,a,!0)),ae.set(d,r,(h||0)+1)},teardown:function(){var c=this.ownerDocument||this.document||this,d=M.documentMode?this:c,h=ae.get(d,r)-1;h?ae.set(d,r,h):(M.documentMode?this.removeEventListener(r,a):c.removeEventListener(n,a,!0),ae.remove(d,r))}}}),l.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(n,r){l.event.special[n]={delegateType:r,bindType:r,handle:function(a){var c,d=this,h=a.relatedTarget,m=a.handleObj;return(!h||h!==d&&!l.contains(d,h))&&(a.type=m.origType,c=m.handler.apply(this,arguments),a.type=r),c}}}),l.fn.extend({on:function(n,r,a,c){return vi(this,n,r,a,c)},one:function(n,r,a,c){return vi(this,n,r,a,c,1)},off:function(n,r,a){var c,d;if(n&&n.preventDefault&&n.handleObj)return c=n.handleObj,l(n.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if(typeof n=="object"){for(d in n)this.off(d,r,n[d]);return this}return(r===!1||typeof r=="function")&&(a=r,r=void 0),a===!1&&(a=nn),this.each(function(){l.event.remove(this,n,a,r)})}});var Aa=/<script|<style|<link/i,ba=/checked\s*(?:[^=]|=\s*.checked.)/i,va=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function Lr(n,r){return G(n,"table")&&G(r.nodeType!==11?r:r.firstChild,"tr")&&l(n).children("tbody")[0]||n}function wa(n){return n.type=(n.getAttribute("type")!==null)+"/"+n.type,n}function Sa(n){return(n.type||"").slice(0,5)==="true/"?n.type=n.type.slice(5):n.removeAttribute("type"),n}function xr(n,r){var a,c,d,h,m,w,b;if(r.nodeType===1){if(ae.hasData(n)&&(h=ae.get(n),b=h.events,b)){ae.remove(r,"handle events");for(d in b)for(a=0,c=b[d].length;a<c;a++)l.event.add(r,d,b[d][a])}je.hasData(n)&&(m=je.access(n),w=l.extend({},m),je.set(r,w))}}function Oa(n,r){var a=r.nodeName.toLowerCase();a==="input"&&yn.test(n.type)?r.checked=n.checked:(a==="input"||a==="textarea")&&(r.defaultValue=n.defaultValue)}function rn(n,r,a,c){r=u(r);var d,h,m,w,b,D,U=0,$=n.length,N=$-1,X=r[0],fe=v(X);if(fe||$>1&&typeof X=="string"&&!R.checkClone&&ba.test(X))return n.each(function(_e){var Ee=n.eq(_e);fe&&(r[0]=X.call(this,_e,Ee.html())),rn(Ee,r,a,c)});if($&&(d=Mr(r,n[0].ownerDocument,!1,n,c),h=d.firstChild,d.childNodes.length===1&&(d=h),h||c)){for(m=l.map(Ye(d,"script"),wa),w=m.length;U<$;U++)b=d,U!==N&&(b=l.clone(b,!0,!0),w&&l.merge(m,Ye(b,"script"))),a.call(n[U],b,U);if(w)for(D=m[m.length-1].ownerDocument,l.map(m,Sa),U=0;U<w;U++)b=m[U],Dr.test(b.type||"")&&!ae.access(b,"globalEval")&&l.contains(D,b)&&(b.src&&(b.type||"").toLowerCase()!=="module"?l._evalUrl&&!b.noModule&&l._evalUrl(b.src,{nonce:b.nonce||b.getAttribute("nonce")},D):L(b.textContent.replace(va,""),b,D))}return n}function Pr(n,r,a){for(var c,d=r?l.filter(r,n):n,h=0;(c=d[h])!=null;h++)!a&&c.nodeType===1&&l.cleanData(Ye(c)),c.parentNode&&(a&&Jt(c)&&bi(Ye(c,"script")),c.parentNode.removeChild(c));return n}l.extend({htmlPrefilter:function(n){return n},clone:function(n,r,a){var c,d,h,m,w=n.cloneNode(!0),b=Jt(n);if(!R.noCloneChecked&&(n.nodeType===1||n.nodeType===11)&&!l.isXMLDoc(n))for(m=Ye(w),h=Ye(n),c=0,d=h.length;c<d;c++)Oa(h[c],m[c]);if(r)if(a)for(h=h||Ye(n),m=m||Ye(w),c=0,d=h.length;c<d;c++)xr(h[c],m[c]);else xr(n,w);return m=Ye(w,"script"),m.length>0&&bi(m,!b&&Ye(n,"script")),w},cleanData:function(n){for(var r,a,c,d=l.event.special,h=0;(a=n[h])!==void 0;h++)if(In(a)){if(r=a[ae.expando]){if(r.events)for(c in r.events)d[c]?l.event.remove(a,c):l.removeEvent(a,c,r.handle);a[ae.expando]=void 0}a[je.expando]&&(a[je.expando]=void 0)}}}),l.fn.extend({detach:function(n){return Pr(this,n,!0)},remove:function(n){return Pr(this,n)},text:function(n){return Rt(this,function(r){return r===void 0?l.text(this):this.empty().each(function(){(this.nodeType===1||this.nodeType===11||this.nodeType===9)&&(this.textContent=r)})},null,n,arguments.length)},append:function(){return rn(this,arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var r=Lr(this,n);r.appendChild(n)}})},prepend:function(){return rn(this,arguments,function(n){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var r=Lr(this,n);r.insertBefore(n,r.firstChild)}})},before:function(){return rn(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this)})},after:function(){return rn(this,arguments,function(n){this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling)})},empty:function(){for(var n,r=0;(n=this[r])!=null;r++)n.nodeType===1&&(l.cleanData(Ye(n,!1)),n.textContent="");return this},clone:function(n,r){return n=n??!1,r=r??n,this.map(function(){return l.clone(this,n,r)})},html:function(n){return Rt(this,function(r){var a=this[0]||{},c=0,d=this.length;if(r===void 0&&a.nodeType===1)return a.innerHTML;if(typeof r=="string"&&!Aa.test(r)&&!et[(Or.exec(r)||["",""])[1].toLowerCase()]){r=l.htmlPrefilter(r);try{for(;c<d;c++)a=this[c]||{},a.nodeType===1&&(l.cleanData(Ye(a,!1)),a.innerHTML=r);a=0}catch{}}a&&this.empty().append(r)},null,n,arguments.length)},replaceWith:function(){var n=[];return rn(this,arguments,function(r){var a=this.parentNode;l.inArray(this,n)<0&&(l.cleanData(Ye(this)),a&&a.replaceChild(r,this))},n)}}),l.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(n,r){l.fn[n]=function(a){for(var c,d=[],h=l(a),m=h.length-1,w=0;w<=m;w++)c=w===m?this:this.clone(!0),l(h[w])[r](c),g.apply(d,c.get());return this.pushStack(d)}});var wi=new RegExp("^("+vr+")(?!px)[a-z%]+$","i"),Si=/^--/,kn=function(n){var r=n.ownerDocument.defaultView;return(!r||!r.opener)&&(r=t),r.getComputedStyle(n)},Nr=function(n,r,a){var c,d,h={};for(d in r)h[d]=n.style[d],n.style[d]=r[d];c=a.call(n);for(d in r)n.style[d]=h[d];return c},Da=new RegExp(At.join("|"),"i");(function(){function n(){if(D){b.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",D.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Pt.appendChild(b).appendChild(D);var U=t.getComputedStyle(D);a=U.top!=="1%",w=r(U.marginLeft)===12,D.style.right="60%",h=r(U.right)===36,c=r(U.width)===36,D.style.position="absolute",d=r(D.offsetWidth/3)===12,Pt.removeChild(b),D=null}}function r(U){return Math.round(parseFloat(U))}var a,c,d,h,m,w,b=M.createElement("div"),D=M.createElement("div");D.style&&(D.style.backgroundClip="content-box",D.cloneNode(!0).style.backgroundClip="",R.clearCloneStyle=D.style.backgroundClip==="content-box",l.extend(R,{boxSizingReliable:function(){return n(),c},pixelBoxStyles:function(){return n(),h},pixelPosition:function(){return n(),a},reliableMarginLeft:function(){return n(),w},scrollboxSize:function(){return n(),d},reliableTrDimensions:function(){var U,$,N,X;return m==null&&(U=M.createElement("table"),$=M.createElement("tr"),N=M.createElement("div"),U.style.cssText="position:absolute;left:-11111px;border-collapse:separate",$.style.cssText="box-sizing:content-box;border:1px solid",$.style.height="1px",N.style.height="9px",N.style.display="block",Pt.appendChild(U).appendChild($).appendChild(N),X=t.getComputedStyle($),m=parseInt(X.height,10)+parseInt(X.borderTopWidth,10)+parseInt(X.borderBottomWidth,10)===$.offsetHeight,Pt.removeChild(U)),m}}))})();function Rn(n,r,a){var c,d,h,m,w=Si.test(r),b=n.style;return a=a||kn(n),a&&(m=a.getPropertyValue(r)||a[r],w&&m&&(m=m.replace(W,"$1")||void 0),m===""&&!Jt(n)&&(m=l.style(n,r)),!R.pixelBoxStyles()&&wi.test(m)&&Da.test(r)&&(c=b.width,d=b.minWidth,h=b.maxWidth,b.minWidth=b.maxWidth=b.width=m,m=a.width,b.width=c,b.minWidth=d,b.maxWidth=h)),m!==void 0?m+"":m}function Gr(n,r){return{get:function(){if(n()){delete this.get;return}return(this.get=r).apply(this,arguments)}}}var Br=["Webkit","Moz","ms"],Fr=M.createElement("div").style,Ur={};function Ma(n){for(var r=n[0].toUpperCase()+n.slice(1),a=Br.length;a--;)if(n=Br[a]+r,n in Fr)return n}function Oi(n){var r=l.cssProps[n]||Ur[n];return r||(n in Fr?n:Ur[n]=Ma(n)||n)}var Ca=/^(none|table(?!-c[ea]).+)/,La={position:"absolute",visibility:"hidden",display:"block"},Vr={letterSpacing:"0",fontWeight:"400"};function Hr(n,r,a){var c=_n.exec(r);return c?Math.max(0,c[2]-(a||0))+(c[3]||"px"):r}function Di(n,r,a,c,d,h){var m=r==="width"?1:0,w=0,b=0,D=0;if(a===(c?"border":"content"))return 0;for(;m<4;m+=2)a==="margin"&&(D+=l.css(n,a+At[m],!0,d)),c?(a==="content"&&(b-=l.css(n,"padding"+At[m],!0,d)),a!=="margin"&&(b-=l.css(n,"border"+At[m]+"Width",!0,d))):(b+=l.css(n,"padding"+At[m],!0,d),a!=="padding"?b+=l.css(n,"border"+At[m]+"Width",!0,d):w+=l.css(n,"border"+At[m]+"Width",!0,d));return!c&&h>=0&&(b+=Math.max(0,Math.ceil(n["offset"+r[0].toUpperCase()+r.slice(1)]-h-b-w-.5))||0),b+D}function kr(n,r,a){var c=kn(n),d=!R.boxSizingReliable()||a,h=d&&l.css(n,"boxSizing",!1,c)==="border-box",m=h,w=Rn(n,r,c),b="offset"+r[0].toUpperCase()+r.slice(1);if(wi.test(w)){if(!a)return w;w="auto"}return(!R.boxSizingReliable()&&h||!R.reliableTrDimensions()&&G(n,"tr")||w==="auto"||!parseFloat(w)&&l.css(n,"display",!1,c)==="inline")&&n.getClientRects().length&&(h=l.css(n,"boxSizing",!1,c)==="border-box",m=b in n,m&&(w=n[b])),w=parseFloat(w)||0,w+Di(n,r,a||(h?"border":"content"),m,c,w)+"px"}l.extend({cssHooks:{opacity:{get:function(n,r){if(r){var a=Rn(n,"opacity");return a===""?"1":a}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(n,r,a,c){if(!(!n||n.nodeType===3||n.nodeType===8||!n.style)){var d,h,m,w=ht(r),b=Si.test(r),D=n.style;if(b||(r=Oi(w)),m=l.cssHooks[r]||l.cssHooks[w],a!==void 0){if(h=typeof a,h==="string"&&(d=_n.exec(a))&&d[1]&&(a=wr(n,r,d),h="number"),a==null||a!==a)return;h==="number"&&!b&&(a+=d&&d[3]||(l.cssNumber[w]?"":"px")),!R.clearCloneStyle&&a===""&&r.indexOf("background")===0&&(D[r]="inherit"),(!m||!("set"in m)||(a=m.set(n,a,c))!==void 0)&&(b?D.setProperty(r,a):D[r]=a)}else return m&&"get"in m&&(d=m.get(n,!1,c))!==void 0?d:D[r]}},css:function(n,r,a,c){var d,h,m,w=ht(r),b=Si.test(r);return b||(r=Oi(w)),m=l.cssHooks[r]||l.cssHooks[w],m&&"get"in m&&(d=m.get(n,!0,a)),d===void 0&&(d=Rn(n,r,c)),d==="normal"&&r in Vr&&(d=Vr[r]),a===""||a?(h=parseFloat(d),a===!0||isFinite(h)?h||0:d):d}}),l.each(["height","width"],function(n,r){l.cssHooks[r]={get:function(a,c,d){if(c)return Ca.test(l.css(a,"display"))&&(!a.getClientRects().length||!a.getBoundingClientRect().width)?Nr(a,La,function(){return kr(a,r,d)}):kr(a,r,d)},set:function(a,c,d){var h,m=kn(a),w=!R.scrollboxSize()&&m.position==="absolute",b=w||d,D=b&&l.css(a,"boxSizing",!1,m)==="border-box",U=d?Di(a,r,d,D,m):0;return D&&w&&(U-=Math.ceil(a["offset"+r[0].toUpperCase()+r.slice(1)]-parseFloat(m[r])-Di(a,r,"border",!1,m)-.5)),U&&(h=_n.exec(c))&&(h[3]||"px")!=="px"&&(a.style[r]=c,c=l.css(a,r)),Hr(a,c,U)}}}),l.cssHooks.marginLeft=Gr(R.reliableMarginLeft,function(n,r){if(r)return(parseFloat(Rn(n,"marginLeft"))||n.getBoundingClientRect().left-Nr(n,{marginLeft:0},function(){return n.getBoundingClientRect().left}))+"px"}),l.each({margin:"",padding:"",border:"Width"},function(n,r){l.cssHooks[n+r]={expand:function(a){for(var c=0,d={},h=typeof a=="string"?a.split(" "):[a];c<4;c++)d[n+At[c]+r]=h[c]||h[c-2]||h[0];return d}},n!=="margin"&&(l.cssHooks[n+r].set=Hr)}),l.fn.extend({css:function(n,r){return Rt(this,function(a,c,d){var h,m,w={},b=0;if(Array.isArray(c)){for(h=kn(a),m=c.length;b<m;b++)w[c[b]]=l.css(a,c[b],!1,h);return w}return d!==void 0?l.style(a,c,d):l.css(a,c)},n,r,arguments.length>1)}});function Xe(n,r,a,c,d){return new Xe.prototype.init(n,r,a,c,d)}l.Tween=Xe,Xe.prototype={constructor:Xe,init:function(n,r,a,c,d,h){this.elem=n,this.prop=a,this.easing=d||l.easing._default,this.options=r,this.start=this.now=this.cur(),this.end=c,this.unit=h||(l.cssNumber[a]?"":"px")},cur:function(){var n=Xe.propHooks[this.prop];return n&&n.get?n.get(this):Xe.propHooks._default.get(this)},run:function(n){var r,a=Xe.propHooks[this.prop];return this.options.duration?this.pos=r=l.easing[this.easing](n,this.options.duration*n,0,1,this.options.duration):this.pos=r=n,this.now=(this.end-this.start)*r+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),a&&a.set?a.set(this):Xe.propHooks._default.set(this),this}},Xe.prototype.init.prototype=Xe.prototype,Xe.propHooks={_default:{get:function(n){var r;return n.elem.nodeType!==1||n.elem[n.prop]!=null&&n.elem.style[n.prop]==null?n.elem[n.prop]:(r=l.css(n.elem,n.prop,""),!r||r==="auto"?0:r)},set:function(n){l.fx.step[n.prop]?l.fx.step[n.prop](n):n.elem.nodeType===1&&(l.cssHooks[n.prop]||n.elem.style[Oi(n.prop)]!=null)?l.style(n.elem,n.prop,n.now+n.unit):n.elem[n.prop]=n.now}}},Xe.propHooks.scrollTop=Xe.propHooks.scrollLeft={set:function(n){n.elem.nodeType&&n.elem.parentNode&&(n.elem[n.prop]=n.now)}},l.easing={linear:function(n){return n},swing:function(n){return .5-Math.cos(n*Math.PI)/2},_default:"swing"},l.fx=Xe.prototype.init,l.fx.step={};var sn,$n,xa=/^(?:toggle|show|hide)$/,Pa=/queueHooks$/;function Mi(){$n&&(M.hidden===!1&&t.requestAnimationFrame?t.requestAnimationFrame(Mi):t.setTimeout(Mi,l.fx.interval),l.fx.tick())}function $r(){return t.setTimeout(function(){sn=void 0}),sn=Date.now()}function Wn(n,r){var a,c=0,d={height:n};for(r=r?1:0;c<4;c+=2-r)a=At[c],d["margin"+a]=d["padding"+a]=n;return r&&(d.opacity=d.width=n),d}function Wr(n,r,a){for(var c,d=(lt.tweeners[r]||[]).concat(lt.tweeners["*"]),h=0,m=d.length;h<m;h++)if(c=d[h].call(a,r,n))return c}function Na(n,r,a){var c,d,h,m,w,b,D,U,$="width"in r||"height"in r,N=this,X={},fe=n.style,_e=n.nodeType&&Vn(n),Ee=ae.get(n,"fxshow");a.queue||(m=l._queueHooks(n,"fx"),m.unqueued==null&&(m.unqueued=0,w=m.empty.fire,m.empty.fire=function(){m.unqueued||w()}),m.unqueued++,N.always(function(){N.always(function(){m.unqueued--,l.queue(n,"fx").length||m.empty.fire()})}));for(c in r)if(d=r[c],xa.test(d)){if(delete r[c],h=h||d==="toggle",d===(_e?"hide":"show"))if(d==="show"&&Ee&&Ee[c]!==void 0)_e=!0;else continue;X[c]=Ee&&Ee[c]||l.style(n,c)}if(b=!l.isEmptyObject(r),!(!b&&l.isEmptyObject(X))){$&&n.nodeType===1&&(a.overflow=[fe.overflow,fe.overflowX,fe.overflowY],D=Ee&&Ee.display,D==null&&(D=ae.get(n,"display")),U=l.css(n,"display"),U==="none"&&(D?U=D:(en([n],!0),D=n.style.display||D,U=l.css(n,"display"),en([n]))),(U==="inline"||U==="inline-block"&&D!=null)&&l.css(n,"float")==="none"&&(b||(N.done(function(){fe.display=D}),D==null&&(U=fe.display,D=U==="none"?"":U)),fe.display="inline-block")),a.overflow&&(fe.overflow="hidden",N.always(function(){fe.overflow=a.overflow[0],fe.overflowX=a.overflow[1],fe.overflowY=a.overflow[2]})),b=!1;for(c in X)b||(Ee?"hidden"in Ee&&(_e=Ee.hidden):Ee=ae.access(n,"fxshow",{display:D}),h&&(Ee.hidden=!_e),_e&&en([n],!0),N.done(function(){_e||en([n]),ae.remove(n,"fxshow");for(c in X)l.style(n,c,X[c])})),b=Wr(_e?Ee[c]:0,c,N),c in Ee||(Ee[c]=b.start,_e&&(b.end=b.start,b.start=0))}}function Ga(n,r){var a,c,d,h,m;for(a in n)if(c=ht(a),d=r[c],h=n[a],Array.isArray(h)&&(d=h[1],h=n[a]=h[0]),a!==c&&(n[c]=h,delete n[a]),m=l.cssHooks[c],m&&"expand"in m){h=m.expand(h),delete n[c];for(a in h)a in n||(n[a]=h[a],r[a]=d)}else r[c]=d}function lt(n,r,a){var c,d,h=0,m=lt.prefilters.length,w=l.Deferred().always(function(){delete b.elem}),b=function(){if(d)return!1;for(var $=sn||$r(),N=Math.max(0,D.startTime+D.duration-$),X=N/D.duration||0,fe=1-X,_e=0,Ee=D.tweens.length;_e<Ee;_e++)D.tweens[_e].run(fe);return w.notifyWith(n,[D,fe,N]),fe<1&&Ee?N:(Ee||w.notifyWith(n,[D,1,0]),w.resolveWith(n,[D]),!1)},D=w.promise({elem:n,props:l.extend({},r),opts:l.extend(!0,{specialEasing:{},easing:l.easing._default},a),originalProperties:r,originalOptions:a,startTime:sn||$r(),duration:a.duration,tweens:[],createTween:function($,N){var X=l.Tween(n,D.opts,$,N,D.opts.specialEasing[$]||D.opts.easing);return D.tweens.push(X),X},stop:function($){var N=0,X=$?D.tweens.length:0;if(d)return this;for(d=!0;N<X;N++)D.tweens[N].run(1);return $?(w.notifyWith(n,[D,1,0]),w.resolveWith(n,[D,$])):w.rejectWith(n,[D,$]),this}}),U=D.props;for(Ga(U,D.opts.specialEasing);h<m;h++)if(c=lt.prefilters[h].call(D,n,U,D.opts),c)return v(c.stop)&&(l._queueHooks(D.elem,D.opts.queue).stop=c.stop.bind(c)),c;return l.map(U,Wr,D),v(D.opts.start)&&D.opts.start.call(n,D),D.progress(D.opts.progress).done(D.opts.done,D.opts.complete).fail(D.opts.fail).always(D.opts.always),l.fx.timer(l.extend(b,{elem:n,anim:D,queue:D.opts.queue})),D}l.Animation=l.extend(lt,{tweeners:{"*":[function(n,r){var a=this.createTween(n,r);return wr(a.elem,n,_n.exec(r),a),a}]},tweener:function(n,r){v(n)?(r=n,n=["*"]):n=n.match(Re);for(var a,c=0,d=n.length;c<d;c++)a=n[c],lt.tweeners[a]=lt.tweeners[a]||[],lt.tweeners[a].unshift(r)},prefilters:[Na],prefilter:function(n,r){r?lt.prefilters.unshift(n):lt.prefilters.push(n)}}),l.speed=function(n,r,a){var c=n&&typeof n=="object"?l.extend({},n):{complete:a||!a&&r||v(n)&&n,duration:n,easing:a&&r||r&&!v(r)&&r};return l.fx.off?c.duration=0:typeof c.duration!="number"&&(c.duration in l.fx.speeds?c.duration=l.fx.speeds[c.duration]:c.duration=l.fx.speeds._default),(c.queue==null||c.queue===!0)&&(c.queue="fx"),c.old=c.complete,c.complete=function(){v(c.old)&&c.old.call(this),c.queue&&l.dequeue(this,c.queue)},c},l.fn.extend({fadeTo:function(n,r,a,c){return this.filter(Vn).css("opacity",0).show().end().animate({opacity:r},n,a,c)},animate:function(n,r,a,c){var d=l.isEmptyObject(n),h=l.speed(r,a,c),m=function(){var w=lt(this,l.extend({},n),h);(d||ae.get(this,"finish"))&&w.stop(!0)};return m.finish=m,d||h.queue===!1?this.each(m):this.queue(h.queue,m)},stop:function(n,r,a){var c=function(d){var h=d.stop;delete d.stop,h(a)};return typeof n!="string"&&(a=r,r=n,n=void 0),r&&this.queue(n||"fx",[]),this.each(function(){var d=!0,h=n!=null&&n+"queueHooks",m=l.timers,w=ae.get(this);if(h)w[h]&&w[h].stop&&c(w[h]);else for(h in w)w[h]&&w[h].stop&&Pa.test(h)&&c(w[h]);for(h=m.length;h--;)m[h].elem===this&&(n==null||m[h].queue===n)&&(m[h].anim.stop(a),d=!1,m.splice(h,1));(d||!a)&&l.dequeue(this,n)})},finish:function(n){return n!==!1&&(n=n||"fx"),this.each(function(){var r,a=ae.get(this),c=a[n+"queue"],d=a[n+"queueHooks"],h=l.timers,m=c?c.length:0;for(a.finish=!0,l.queue(this,n,[]),d&&d.stop&&d.stop.call(this,!0),r=h.length;r--;)h[r].elem===this&&h[r].queue===n&&(h[r].anim.stop(!0),h.splice(r,1));for(r=0;r<m;r++)c[r]&&c[r].finish&&c[r].finish.call(this);delete a.finish})}}),l.each(["toggle","show","hide"],function(n,r){var a=l.fn[r];l.fn[r]=function(c,d,h){return c==null||typeof c=="boolean"?a.apply(this,arguments):this.animate(Wn(r,!0),c,d,h)}}),l.each({slideDown:Wn("show"),slideUp:Wn("hide"),slideToggle:Wn("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(n,r){l.fn[n]=function(a,c,d){return this.animate(r,a,c,d)}}),l.timers=[],l.fx.tick=function(){var n,r=0,a=l.timers;for(sn=Date.now();r<a.length;r++)n=a[r],!n()&&a[r]===n&&a.splice(r--,1);a.length||l.fx.stop(),sn=void 0},l.fx.timer=function(n){l.timers.push(n),l.fx.start()},l.fx.interval=13,l.fx.start=function(){$n||($n=!0,Mi())},l.fx.stop=function(){$n=null},l.fx.speeds={slow:600,fast:200,_default:400},l.fn.delay=function(n,r){return n=l.fx&&l.fx.speeds[n]||n,r=r||"fx",this.queue(r,function(a,c){var d=t.setTimeout(a,n);c.stop=function(){t.clearTimeout(d)}})},(function(){var n=M.createElement("input"),r=M.createElement("select"),a=r.appendChild(M.createElement("option"));n.type="checkbox",R.checkOn=n.value!=="",R.optSelected=a.selected,n=M.createElement("input"),n.value="t",n.type="radio",R.radioValue=n.value==="t"})();var qr,An=l.expr.attrHandle;l.fn.extend({attr:function(n,r){return Rt(this,l.attr,n,r,arguments.length>1)},removeAttr:function(n){return this.each(function(){l.removeAttr(this,n)})}}),l.extend({attr:function(n,r,a){var c,d,h=n.nodeType;if(!(h===3||h===8||h===2)){if(typeof n.getAttribute>"u")return l.prop(n,r,a);if((h!==1||!l.isXMLDoc(n))&&(d=l.attrHooks[r.toLowerCase()]||(l.expr.match.bool.test(r)?qr:void 0)),a!==void 0){if(a===null){l.removeAttr(n,r);return}return d&&"set"in d&&(c=d.set(n,a,r))!==void 0?c:(n.setAttribute(r,a+""),a)}return d&&"get"in d&&(c=d.get(n,r))!==null?c:(c=l.find.attr(n,r),c??void 0)}},attrHooks:{type:{set:function(n,r){if(!R.radioValue&&r==="radio"&&G(n,"input")){var a=n.value;return n.setAttribute("type",r),a&&(n.value=a),r}}}},removeAttr:function(n,r){var a,c=0,d=r&&r.match(Re);if(d&&n.nodeType===1)for(;a=d[c++];)n.removeAttribute(a)}}),qr={set:function(n,r,a){return r===!1?l.removeAttr(n,a):n.setAttribute(a,a),a}},l.each(l.expr.match.bool.source.match(/\w+/g),function(n,r){var a=An[r]||l.find.attr;An[r]=function(c,d,h){var m,w,b=d.toLowerCase();return h||(w=An[b],An[b]=m,m=a(c,d,h)!=null?b:null,An[b]=w),m}});var Ba=/^(?:input|select|textarea|button)$/i,Fa=/^(?:a|area)$/i;l.fn.extend({prop:function(n,r){return Rt(this,l.prop,n,r,arguments.length>1)},removeProp:function(n){return this.each(function(){delete this[l.propFix[n]||n]})}}),l.extend({prop:function(n,r,a){var c,d,h=n.nodeType;if(!(h===3||h===8||h===2))return(h!==1||!l.isXMLDoc(n))&&(r=l.propFix[r]||r,d=l.propHooks[r]),a!==void 0?d&&"set"in d&&(c=d.set(n,a,r))!==void 0?c:n[r]=a:d&&"get"in d&&(c=d.get(n,r))!==null?c:n[r]},propHooks:{tabIndex:{get:function(n){var r=l.find.attr(n,"tabindex");return r?parseInt(r,10):Ba.test(n.nodeName)||Fa.test(n.nodeName)&&n.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),R.optSelected||(l.propHooks.selected={get:function(n){var r=n.parentNode;return r&&r.parentNode&&r.parentNode.selectedIndex,null},set:function(n){var r=n.parentNode;r&&(r.selectedIndex,r.parentNode&&r.parentNode.selectedIndex)}}),l.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){l.propFix[this.toLowerCase()]=this});function Nt(n){var r=n.match(Re)||[];return r.join(" ")}function Gt(n){return n.getAttribute&&n.getAttribute("class")||""}function Ci(n){return Array.isArray(n)?n:typeof n=="string"?n.match(Re)||[]:[]}l.fn.extend({addClass:function(n){var r,a,c,d,h,m;return v(n)?this.each(function(w){l(this).addClass(n.call(this,w,Gt(this)))}):(r=Ci(n),r.length?this.each(function(){if(c=Gt(this),a=this.nodeType===1&&" "+Nt(c)+" ",a){for(h=0;h<r.length;h++)d=r[h],a.indexOf(" "+d+" ")<0&&(a+=d+" ");m=Nt(a),c!==m&&this.setAttribute("class",m)}}):this)},removeClass:function(n){var r,a,c,d,h,m;return v(n)?this.each(function(w){l(this).removeClass(n.call(this,w,Gt(this)))}):arguments.length?(r=Ci(n),r.length?this.each(function(){if(c=Gt(this),a=this.nodeType===1&&" "+Nt(c)+" ",a){for(h=0;h<r.length;h++)for(d=r[h];a.indexOf(" "+d+" ")>-1;)a=a.replace(" "+d+" "," ");m=Nt(a),c!==m&&this.setAttribute("class",m)}}):this):this.attr("class","")},toggleClass:function(n,r){var a,c,d,h,m=typeof n,w=m==="string"||Array.isArray(n);return v(n)?this.each(function(b){l(this).toggleClass(n.call(this,b,Gt(this),r),r)}):typeof r=="boolean"&&w?r?this.addClass(n):this.removeClass(n):(a=Ci(n),this.each(function(){if(w)for(h=l(this),d=0;d<a.length;d++)c=a[d],h.hasClass(c)?h.removeClass(c):h.addClass(c);else(n===void 0||m==="boolean")&&(c=Gt(this),c&&ae.set(this,"__className__",c),this.setAttribute&&this.setAttribute("class",c||n===!1?"":ae.get(this,"__className__")||""))}))},hasClass:function(n){var r,a,c=0;for(r=" "+n+" ";a=this[c++];)if(a.nodeType===1&&(" "+Nt(Gt(a))+" ").indexOf(r)>-1)return!0;return!1}});var Ua=/\r/g;l.fn.extend({val:function(n){var r,a,c,d=this[0];return arguments.length?(c=v(n),this.each(function(h){var m;this.nodeType===1&&(c?m=n.call(this,h,l(this).val()):m=n,m==null?m="":typeof m=="number"?m+="":Array.isArray(m)&&(m=l.map(m,function(w){return w==null?"":w+""})),r=l.valHooks[this.type]||l.valHooks[this.nodeName.toLowerCase()],(!r||!("set"in r)||r.set(this,m,"value")===void 0)&&(this.value=m))})):d?(r=l.valHooks[d.type]||l.valHooks[d.nodeName.toLowerCase()],r&&"get"in r&&(a=r.get(d,"value"))!==void 0?a:(a=d.value,typeof a=="string"?a.replace(Ua,""):a??"")):void 0}}),l.extend({valHooks:{option:{get:function(n){var r=l.find.attr(n,"value");return r??Nt(l.text(n))}},select:{get:function(n){var r,a,c,d=n.options,h=n.selectedIndex,m=n.type==="select-one",w=m?null:[],b=m?h+1:d.length;for(h<0?c=b:c=m?h:0;c<b;c++)if(a=d[c],(a.selected||c===h)&&!a.disabled&&(!a.parentNode.disabled||!G(a.parentNode,"optgroup"))){if(r=l(a).val(),m)return r;w.push(r)}return w},set:function(n,r){for(var a,c,d=n.options,h=l.makeArray(r),m=d.length;m--;)c=d[m],(c.selected=l.inArray(l.valHooks.option.get(c),h)>-1)&&(a=!0);return a||(n.selectedIndex=-1),h}}}}),l.each(["radio","checkbox"],function(){l.valHooks[this]={set:function(n,r){if(Array.isArray(r))return n.checked=l.inArray(l(n).val(),r)>-1}},R.checkOn||(l.valHooks[this].get=function(n){return n.getAttribute("value")===null?"on":n.value})});var bn=t.location,zr={guid:Date.now()},Li=/\?/;l.parseXML=function(n){var r,a;if(!n||typeof n!="string")return null;try{r=new t.DOMParser().parseFromString(n,"text/xml")}catch{}return a=r&&r.getElementsByTagName("parsererror")[0],(!r||a)&&l.error("Invalid XML: "+(a?l.map(a.childNodes,function(c){return c.textContent}).join(`
`):n)),r};var jr=/^(?:focusinfocus|focusoutblur)$/,Yr=function(n){n.stopPropagation()};l.extend(l.event,{trigger:function(n,r,a,c){var d,h,m,w,b,D,U,$,N=[a||M],X=T.call(n,"type")?n.type:n,fe=T.call(n,"namespace")?n.namespace.split("."):[];if(h=$=m=a=a||M,!(a.nodeType===3||a.nodeType===8)&&!jr.test(X+l.event.triggered)&&(X.indexOf(".")>-1&&(fe=X.split("."),X=fe.shift(),fe.sort()),b=X.indexOf(":")<0&&"on"+X,n=n[l.expando]?n:new l.Event(X,typeof n=="object"&&n),n.isTrigger=c?2:3,n.namespace=fe.join("."),n.rnamespace=n.namespace?new RegExp("(^|\\.)"+fe.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=void 0,n.target||(n.target=a),r=r==null?[n]:l.makeArray(r,[n]),U=l.event.special[X]||{},!(!c&&U.trigger&&U.trigger.apply(a,r)===!1))){if(!c&&!U.noBubble&&!C(a)){for(w=U.delegateType||X,jr.test(w+X)||(h=h.parentNode);h;h=h.parentNode)N.push(h),m=h;m===(a.ownerDocument||M)&&N.push(m.defaultView||m.parentWindow||t)}for(d=0;(h=N[d++])&&!n.isPropagationStopped();)$=h,n.type=d>1?w:U.bindType||X,D=(ae.get(h,"events")||Object.create(null))[n.type]&&ae.get(h,"handle"),D&&D.apply(h,r),D=b&&h[b],D&&D.apply&&In(h)&&(n.result=D.apply(h,r),n.result===!1&&n.preventDefault());return n.type=X,!c&&!n.isDefaultPrevented()&&(!U._default||U._default.apply(N.pop(),r)===!1)&&In(a)&&b&&v(a[X])&&!C(a)&&(m=a[b],m&&(a[b]=null),l.event.triggered=X,n.isPropagationStopped()&&$.addEventListener(X,Yr),a[X](),n.isPropagationStopped()&&$.removeEventListener(X,Yr),l.event.triggered=void 0,m&&(a[b]=m)),n.result}},simulate:function(n,r,a){var c=l.extend(new l.Event,a,{type:n,isSimulated:!0});l.event.trigger(c,null,r)}}),l.fn.extend({trigger:function(n,r){return this.each(function(){l.event.trigger(n,r,this)})},triggerHandler:function(n,r){var a=this[0];if(a)return l.event.trigger(n,r,a,!0)}});var Va=/\[\]$/,Xr=/\r?\n/g,Ha=/^(?:submit|button|image|reset|file)$/i,ka=/^(?:input|select|textarea|keygen)/i;function xi(n,r,a,c){var d;if(Array.isArray(r))l.each(r,function(h,m){a||Va.test(n)?c(n,m):xi(n+"["+(typeof m=="object"&&m!=null?h:"")+"]",m,a,c)});else if(!a&&x(r)==="object")for(d in r)xi(n+"["+d+"]",r[d],a,c);else c(n,r)}l.param=function(n,r){var a,c=[],d=function(h,m){var w=v(m)?m():m;c[c.length]=encodeURIComponent(h)+"="+encodeURIComponent(w??"")};if(n==null)return"";if(Array.isArray(n)||n.jquery&&!l.isPlainObject(n))l.each(n,function(){d(this.name,this.value)});else for(a in n)xi(a,n[a],r,d);return c.join("&")},l.fn.extend({serialize:function(){return l.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var n=l.prop(this,"elements");return n?l.makeArray(n):this}).filter(function(){var n=this.type;return this.name&&!l(this).is(":disabled")&&ka.test(this.nodeName)&&!Ha.test(n)&&(this.checked||!yn.test(n))}).map(function(n,r){var a=l(this).val();return a==null?null:Array.isArray(a)?l.map(a,function(c){return{name:r.name,value:c.replace(Xr,`\r
`)}}):{name:r.name,value:a.replace(Xr,`\r
`)}}).get()}});var $a=/%20/g,Wa=/#.*$/,qa=/([?&])_=[^&]*/,za=/^(.*?):[ \t]*([^\r\n]*)$/mg,ja=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ya=/^(?:GET|HEAD)$/,Xa=/^\/\//,Zr={},Pi={},Qr="*/".concat("*"),Ni=M.createElement("a");Ni.href=bn.href;function Kr(n){return function(r,a){typeof r!="string"&&(a=r,r="*");var c,d=0,h=r.toLowerCase().match(Re)||[];if(v(a))for(;c=h[d++];)c[0]==="+"?(c=c.slice(1)||"*",(n[c]=n[c]||[]).unshift(a)):(n[c]=n[c]||[]).push(a)}}function Jr(n,r,a,c){var d={},h=n===Pi;function m(w){var b;return d[w]=!0,l.each(n[w]||[],function(D,U){var $=U(r,a,c);if(typeof $=="string"&&!h&&!d[$])return r.dataTypes.unshift($),m($),!1;if(h)return!(b=$)}),b}return m(r.dataTypes[0])||!d["*"]&&m("*")}function Gi(n,r){var a,c,d=l.ajaxSettings.flatOptions||{};for(a in r)r[a]!==void 0&&((d[a]?n:c||(c={}))[a]=r[a]);return c&&l.extend(!0,n,c),n}function Za(n,r,a){for(var c,d,h,m,w=n.contents,b=n.dataTypes;b[0]==="*";)b.shift(),c===void 0&&(c=n.mimeType||r.getResponseHeader("Content-Type"));if(c){for(d in w)if(w[d]&&w[d].test(c)){b.unshift(d);break}}if(b[0]in a)h=b[0];else{for(d in a){if(!b[0]||n.converters[d+" "+b[0]]){h=d;break}m||(m=d)}h=h||m}if(h)return h!==b[0]&&b.unshift(h),a[h]}function Qa(n,r,a,c){var d,h,m,w,b,D={},U=n.dataTypes.slice();if(U[1])for(m in n.converters)D[m.toLowerCase()]=n.converters[m];for(h=U.shift();h;)if(n.responseFields[h]&&(a[n.responseFields[h]]=r),!b&&c&&n.dataFilter&&(r=n.dataFilter(r,n.dataType)),b=h,h=U.shift(),h){if(h==="*")h=b;else if(b!=="*"&&b!==h){if(m=D[b+" "+h]||D["* "+h],!m){for(d in D)if(w=d.split(" "),w[1]===h&&(m=D[b+" "+w[0]]||D["* "+w[0]],m)){m===!0?m=D[d]:D[d]!==!0&&(h=w[0],U.unshift(w[1]));break}}if(m!==!0)if(m&&n.throws)r=m(r);else try{r=m(r)}catch($){return{state:"parsererror",error:m?$:"No conversion from "+b+" to "+h}}}}return{state:"success",data:r}}l.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:bn.href,type:"GET",isLocal:ja.test(bn.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Qr,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":l.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(n,r){return r?Gi(Gi(n,l.ajaxSettings),r):Gi(l.ajaxSettings,n)},ajaxPrefilter:Kr(Zr),ajaxTransport:Kr(Pi),ajax:function(n,r){typeof n=="object"&&(r=n,n=void 0),r=r||{};var a,c,d,h,m,w,b,D,U,$,N=l.ajaxSetup({},r),X=N.context||N,fe=N.context&&(X.nodeType||X.jquery)?l(X):l.event,_e=l.Deferred(),Ee=l.Callbacks("once memory"),Ue=N.statusCode||{},Ne={},pt={},gt="canceled",Te={readyState:0,getResponseHeader:function(ye){var De;if(b){if(!h)for(h={};De=za.exec(d);)h[De[1].toLowerCase()+" "]=(h[De[1].toLowerCase()+" "]||[]).concat(De[2]);De=h[ye.toLowerCase()+" "]}return De==null?null:De.join(", ")},getAllResponseHeaders:function(){return b?d:null},setRequestHeader:function(ye,De){return b==null&&(ye=pt[ye.toLowerCase()]=pt[ye.toLowerCase()]||ye,Ne[ye]=De),this},overrideMimeType:function(ye){return b==null&&(N.mimeType=ye),this},statusCode:function(ye){var De;if(ye)if(b)Te.always(ye[Te.status]);else for(De in ye)Ue[De]=[Ue[De],ye[De]];return this},abort:function(ye){var De=ye||gt;return a&&a.abort(De),Bt(0,De),this}};if(_e.promise(Te),N.url=((n||N.url||bn.href)+"").replace(Xa,bn.protocol+"//"),N.type=r.method||r.type||N.method||N.type,N.dataTypes=(N.dataType||"*").toLowerCase().match(Re)||[""],N.crossDomain==null){w=M.createElement("a");try{w.href=N.url,w.href=w.href,N.crossDomain=Ni.protocol+"//"+Ni.host!=w.protocol+"//"+w.host}catch{N.crossDomain=!0}}if(N.data&&N.processData&&typeof N.data!="string"&&(N.data=l.param(N.data,N.traditional)),Jr(Zr,N,r,Te),b)return Te;D=l.event&&N.global,D&&l.active++===0&&l.event.trigger("ajaxStart"),N.type=N.type.toUpperCase(),N.hasContent=!Ya.test(N.type),c=N.url.replace(Wa,""),N.hasContent?N.data&&N.processData&&(N.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&(N.data=N.data.replace($a,"+")):($=N.url.slice(c.length),N.data&&(N.processData||typeof N.data=="string")&&(c+=(Li.test(c)?"&":"?")+N.data,delete N.data),N.cache===!1&&(c=c.replace(qa,"$1"),$=(Li.test(c)?"&":"?")+"_="+zr.guid+++$),N.url=c+$),N.ifModified&&(l.lastModified[c]&&Te.setRequestHeader("If-Modified-Since",l.lastModified[c]),l.etag[c]&&Te.setRequestHeader("If-None-Match",l.etag[c])),(N.data&&N.hasContent&&N.contentType!==!1||r.contentType)&&Te.setRequestHeader("Content-Type",N.contentType),Te.setRequestHeader("Accept",N.dataTypes[0]&&N.accepts[N.dataTypes[0]]?N.accepts[N.dataTypes[0]]+(N.dataTypes[0]!=="*"?", "+Qr+"; q=0.01":""):N.accepts["*"]);for(U in N.headers)Te.setRequestHeader(U,N.headers[U]);if(N.beforeSend&&(N.beforeSend.call(X,Te,N)===!1||b))return Te.abort();if(gt="abort",Ee.add(N.complete),Te.done(N.success),Te.fail(N.error),a=Jr(Pi,N,r,Te),!a)Bt(-1,"No Transport");else{if(Te.readyState=1,D&&fe.trigger("ajaxSend",[Te,N]),b)return Te;N.async&&N.timeout>0&&(m=t.setTimeout(function(){Te.abort("timeout")},N.timeout));try{b=!1,a.send(Ne,Bt)}catch(ye){if(b)throw ye;Bt(-1,ye)}}function Bt(ye,De,wn,Fi){var Et,Sn,mt,Ot,Dt,tt=De;b||(b=!0,m&&t.clearTimeout(m),a=void 0,d=Fi||"",Te.readyState=ye>0?4:0,Et=ye>=200&&ye<300||ye===304,wn&&(Ot=Za(N,Te,wn)),!Et&&l.inArray("script",N.dataTypes)>-1&&l.inArray("json",N.dataTypes)<0&&(N.converters["text script"]=function(){}),Ot=Qa(N,Ot,Te,Et),Et?(N.ifModified&&(Dt=Te.getResponseHeader("Last-Modified"),Dt&&(l.lastModified[c]=Dt),Dt=Te.getResponseHeader("etag"),Dt&&(l.etag[c]=Dt)),ye===204||N.type==="HEAD"?tt="nocontent":ye===304?tt="notmodified":(tt=Ot.state,Sn=Ot.data,mt=Ot.error,Et=!mt)):(mt=tt,(ye||!tt)&&(tt="error",ye<0&&(ye=0))),Te.status=ye,Te.statusText=(De||tt)+"",Et?_e.resolveWith(X,[Sn,tt,Te]):_e.rejectWith(X,[Te,tt,mt]),Te.statusCode(Ue),Ue=void 0,D&&fe.trigger(Et?"ajaxSuccess":"ajaxError",[Te,N,Et?Sn:mt]),Ee.fireWith(X,[Te,tt]),D&&(fe.trigger("ajaxComplete",[Te,N]),--l.active||l.event.trigger("ajaxStop")))}return Te},getJSON:function(n,r,a){return l.get(n,r,a,"json")},getScript:function(n,r){return l.get(n,void 0,r,"script")}}),l.each(["get","post"],function(n,r){l[r]=function(a,c,d,h){return v(c)&&(h=h||d,d=c,c=void 0),l.ajax(l.extend({url:a,type:r,dataType:h,data:c,success:d},l.isPlainObject(a)&&a))}}),l.ajaxPrefilter(function(n){var r;for(r in n.headers)r.toLowerCase()==="content-type"&&(n.contentType=n.headers[r]||"")}),l._evalUrl=function(n,r,a){return l.ajax({url:n,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(c){l.globalEval(c,r,a)}})},l.fn.extend({wrapAll:function(n){var r;return this[0]&&(v(n)&&(n=n.call(this[0])),r=l(n,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&r.insertBefore(this[0]),r.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this},wrapInner:function(n){return v(n)?this.each(function(r){l(this).wrapInner(n.call(this,r))}):this.each(function(){var r=l(this),a=r.contents();a.length?a.wrapAll(n):r.append(n)})},wrap:function(n){var r=v(n);return this.each(function(a){l(this).wrapAll(r?n.call(this,a):n)})},unwrap:function(n){return this.parent(n).not("body").each(function(){l(this).replaceWith(this.childNodes)}),this}}),l.expr.pseudos.hidden=function(n){return!l.expr.pseudos.visible(n)},l.expr.pseudos.visible=function(n){return!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length)},l.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch{}};var Ka={0:200,1223:204},vn=l.ajaxSettings.xhr();R.cors=!!vn&&"withCredentials"in vn,R.ajax=vn=!!vn,l.ajaxTransport(function(n){var r,a;if(R.cors||vn&&!n.crossDomain)return{send:function(c,d){var h,m=n.xhr();if(m.open(n.type,n.url,n.async,n.username,n.password),n.xhrFields)for(h in n.xhrFields)m[h]=n.xhrFields[h];n.mimeType&&m.overrideMimeType&&m.overrideMimeType(n.mimeType),!n.crossDomain&&!c["X-Requested-With"]&&(c["X-Requested-With"]="XMLHttpRequest");for(h in c)m.setRequestHeader(h,c[h]);r=function(w){return function(){r&&(r=a=m.onload=m.onerror=m.onabort=m.ontimeout=m.onreadystatechange=null,w==="abort"?m.abort():w==="error"?typeof m.status!="number"?d(0,"error"):d(m.status,m.statusText):d(Ka[m.status]||m.status,m.statusText,(m.responseType||"text")!=="text"||typeof m.responseText!="string"?{binary:m.response}:{text:m.responseText},m.getAllResponseHeaders()))}},m.onload=r(),a=m.onerror=m.ontimeout=r("error"),m.onabort!==void 0?m.onabort=a:m.onreadystatechange=function(){m.readyState===4&&t.setTimeout(function(){r&&a()})},r=r("abort");try{m.send(n.hasContent&&n.data||null)}catch(w){if(r)throw w}},abort:function(){r&&r()}}}),l.ajaxPrefilter(function(n){n.crossDomain&&(n.contents.script=!1)}),l.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(n){return l.globalEval(n),n}}}),l.ajaxPrefilter("script",function(n){n.cache===void 0&&(n.cache=!1),n.crossDomain&&(n.type="GET")}),l.ajaxTransport("script",function(n){if(n.crossDomain||n.scriptAttrs){var r,a;return{send:function(c,d){r=l("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",a=function(h){r.remove(),a=null,h&&d(h.type==="error"?404:200,h.type)}),M.head.appendChild(r[0])},abort:function(){a&&a()}}}});var es=[],Bi=/(=)\?(?=&|$)|\?\?/;l.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var n=es.pop()||l.expando+"_"+zr.guid++;return this[n]=!0,n}}),l.ajaxPrefilter("json jsonp",function(n,r,a){var c,d,h,m=n.jsonp!==!1&&(Bi.test(n.url)?"url":typeof n.data=="string"&&(n.contentType||"").indexOf("application/x-www-form-urlencoded")===0&&Bi.test(n.data)&&"data");if(m||n.dataTypes[0]==="jsonp")return c=n.jsonpCallback=v(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,m?n[m]=n[m].replace(Bi,"$1"+c):n.jsonp!==!1&&(n.url+=(Li.test(n.url)?"&":"?")+n.jsonp+"="+c),n.converters["script json"]=function(){return h||l.error(c+" was not called"),h[0]},n.dataTypes[0]="json",d=t[c],t[c]=function(){h=arguments},a.always(function(){d===void 0?l(t).removeProp(c):t[c]=d,n[c]&&(n.jsonpCallback=r.jsonpCallback,es.push(c)),h&&v(d)&&d(h[0]),h=d=void 0}),"script"}),R.createHTMLDocument=(function(){var n=M.implementation.createHTMLDocument("").body;return n.innerHTML="<form></form><form></form>",n.childNodes.length===2})(),l.parseHTML=function(n,r,a){if(typeof n!="string")return[];typeof r=="boolean"&&(a=r,r=!1);var c,d,h;return r||(R.createHTMLDocument?(r=M.implementation.createHTMLDocument(""),c=r.createElement("base"),c.href=M.location.href,r.head.appendChild(c)):r=M),d=ve.exec(n),h=!a&&[],d?[r.createElement(d[1])]:(d=Mr([n],r,h),h&&h.length&&l(h).remove(),l.merge([],d.childNodes))},l.fn.load=function(n,r,a){var c,d,h,m=this,w=n.indexOf(" ");return w>-1&&(c=Nt(n.slice(w)),n=n.slice(0,w)),v(r)?(a=r,r=void 0):r&&typeof r=="object"&&(d="POST"),m.length>0&&l.ajax({url:n,type:d||"GET",dataType:"html",data:r}).done(function(b){h=arguments,m.html(c?l("<div>").append(l.parseHTML(b)).find(c):b)}).always(a&&function(b,D){m.each(function(){a.apply(this,h||[b.responseText,D,b])})}),this},l.expr.pseudos.animated=function(n){return l.grep(l.timers,function(r){return n===r.elem}).length},l.offset={setOffset:function(n,r,a){var c,d,h,m,w,b,D,U=l.css(n,"position"),$=l(n),N={};U==="static"&&(n.style.position="relative"),w=$.offset(),h=l.css(n,"top"),b=l.css(n,"left"),D=(U==="absolute"||U==="fixed")&&(h+b).indexOf("auto")>-1,D?(c=$.position(),m=c.top,d=c.left):(m=parseFloat(h)||0,d=parseFloat(b)||0),v(r)&&(r=r.call(n,a,l.extend({},w))),r.top!=null&&(N.top=r.top-w.top+m),r.left!=null&&(N.left=r.left-w.left+d),"using"in r?r.using.call(n,N):$.css(N)}},l.fn.extend({offset:function(n){if(arguments.length)return n===void 0?this:this.each(function(d){l.offset.setOffset(this,n,d)});var r,a,c=this[0];if(c)return c.getClientRects().length?(r=c.getBoundingClientRect(),a=c.ownerDocument.defaultView,{top:r.top+a.pageYOffset,left:r.left+a.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var n,r,a,c=this[0],d={top:0,left:0};if(l.css(c,"position")==="fixed")r=c.getBoundingClientRect();else{for(r=this.offset(),a=c.ownerDocument,n=c.offsetParent||a.documentElement;n&&(n===a.body||n===a.documentElement)&&l.css(n,"position")==="static";)n=n.parentNode;n&&n!==c&&n.nodeType===1&&(d=l(n).offset(),d.top+=l.css(n,"borderTopWidth",!0),d.left+=l.css(n,"borderLeftWidth",!0))}return{top:r.top-d.top-l.css(c,"marginTop",!0),left:r.left-d.left-l.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var n=this.offsetParent;n&&l.css(n,"position")==="static";)n=n.offsetParent;return n||Pt})}}),l.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(n,r){var a=r==="pageYOffset";l.fn[n]=function(c){return Rt(this,function(d,h,m){var w;if(C(d)?w=d:d.nodeType===9&&(w=d.defaultView),m===void 0)return w?w[r]:d[h];w?w.scrollTo(a?w.pageXOffset:m,a?m:w.pageYOffset):d[h]=m},n,c,arguments.length)}}),l.each(["top","left"],function(n,r){l.cssHooks[r]=Gr(R.pixelPosition,function(a,c){if(c)return c=Rn(a,r),wi.test(c)?l(a).position()[r]+"px":c})}),l.each({Height:"height",Width:"width"},function(n,r){l.each({padding:"inner"+n,content:r,"":"outer"+n},function(a,c){l.fn[c]=function(d,h){var m=arguments.length&&(a||typeof d!="boolean"),w=a||(d===!0||h===!0?"margin":"border");return Rt(this,function(b,D,U){var $;return C(b)?c.indexOf("outer")===0?b["inner"+n]:b.document.documentElement["client"+n]:b.nodeType===9?($=b.documentElement,Math.max(b.body["scroll"+n],$["scroll"+n],b.body["offset"+n],$["offset"+n],$["client"+n])):U===void 0?l.css(b,D,w):l.style(b,D,U,w)},r,m?d:void 0,m)}})}),l.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(n,r){l.fn[r]=function(a){return this.on(r,a)}}),l.fn.extend({bind:function(n,r,a){return this.on(n,null,r,a)},unbind:function(n,r){return this.off(n,null,r)},delegate:function(n,r,a,c){return this.on(r,n,a,c)},undelegate:function(n,r,a){return arguments.length===1?this.off(n,"**"):this.off(r,n||"**",a)},hover:function(n,r){return this.on("mouseenter",n).on("mouseleave",r||n)}}),l.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(n,r){l.fn[r]=function(a,c){return arguments.length>0?this.on(r,null,a,c):this.trigger(r)}});var Ja=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;l.proxy=function(n,r){var a,c,d;if(typeof r=="string"&&(a=n[r],r=n,n=a),!!v(n))return c=f.call(arguments,2),d=function(){return n.apply(r||this,c.concat(f.call(arguments)))},d.guid=n.guid=n.guid||l.guid++,d},l.holdReady=function(n){n?l.readyWait++:l.ready(!0)},l.isArray=Array.isArray,l.parseJSON=JSON.parse,l.nodeName=G,l.isFunction=v,l.isWindow=C,l.camelCase=ht,l.type=x,l.now=Date.now,l.isNumeric=function(n){var r=l.type(n);return(r==="number"||r==="string")&&!isNaN(n-parseFloat(n))},l.trim=function(n){return n==null?"":(n+"").replace(Ja,"$1")};var el=t.jQuery,tl=t.$;return l.noConflict=function(n){return t.$===l&&(t.$=tl),n&&t.jQuery===l&&(t.jQuery=el),l},typeof i>"u"&&(t.jQuery=t.$=l),l})})(oi)),oi.exports}var dl=si.exports,ss;function hl(){return ss||(ss=1,(function(e,t){(function(i,s){e.exports=s(fl())})(dl,function(i){function s(o){this.album=[],this.currentImageIndex=void 0,this.init(),this.options=i.extend({},this.constructor.defaults),this.option(o)}return s.defaults={albumLabel:"Image %1 of %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:600,fitImagesInViewport:!0,imageFadeDuration:600,positionFromTop:50,resizeDuration:700,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,sanitizeTitle:!1},s.prototype.option=function(o){i.extend(this.options,o)},s.prototype.imageCountLabel=function(o,f){return this.options.albumLabel.replace(/%1/g,o).replace(/%2/g,f)},s.prototype.init=function(){var o=this;i(document).ready(function(){o.enable(),o.build()})},s.prototype.enable=function(){var o=this;i("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(f){return o.start(i(f.currentTarget)),!1})},s.prototype.build=function(){if(!(i("#lightbox").length>0)){var o=this;i('<div id="lightboxOverlay" tabindex="-1" class="lightboxOverlay"></div><div id="lightbox" tabindex="-1" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" alt=""/><div class="lb-nav"><a class="lb-prev" role="button" tabindex="0" aria-label="Previous image" href="" ></a><a class="lb-next" role="button" tabindex="0" aria-label="Next image" href="" ></a></div><div class="lb-loader"><a class="lb-cancel" role="button" tabindex="0"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close" role="button" tabindex="0"></a></div></div></div></div>').appendTo(i("body")),this.$lightbox=i("#lightbox"),this.$overlay=i("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$image=this.$lightbox.find(".lb-image"),this.$nav=this.$lightbox.find(".lb-nav"),this.containerPadding={top:parseInt(this.$container.css("padding-top"),10),right:parseInt(this.$container.css("padding-right"),10),bottom:parseInt(this.$container.css("padding-bottom"),10),left:parseInt(this.$container.css("padding-left"),10)},this.imageBorderWidth={top:parseInt(this.$image.css("border-top-width"),10),right:parseInt(this.$image.css("border-right-width"),10),bottom:parseInt(this.$image.css("border-bottom-width"),10),left:parseInt(this.$image.css("border-left-width"),10)},this.$overlay.hide().on("click",function(){return o.end(),!1}),this.$lightbox.hide().on("click",function(f){i(f.target).attr("id")==="lightbox"&&o.end()}),this.$outerContainer.on("click",function(f){return i(f.target).attr("id")==="lightbox"&&o.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return o.currentImageIndex===0?o.changeImage(o.album.length-1):o.changeImage(o.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return o.currentImageIndex===o.album.length-1?o.changeImage(0):o.changeImage(o.currentImageIndex+1),!1}),this.$nav.on("mousedown",function(f){f.which===3&&(o.$nav.css("pointer-events","none"),o.$lightbox.one("contextmenu",function(){setTimeout((function(){this.$nav.css("pointer-events","auto")}).bind(o),0)}))}),this.$lightbox.find(".lb-loader, .lb-close").on("click keyup",function(f){if(f.type==="click"||f.type==="keyup"&&(f.which===13||f.which===32))return o.end(),!1})}},s.prototype.start=function(o){var f=this,u=i(window);u.on("resize",i.proxy(this.sizeOverlay,this)),this.sizeOverlay(),this.album=[];var g=0;function p(v){f.album.push({alt:v.attr("data-alt"),link:v.attr("href"),title:v.attr("data-title")||v.attr("title")})}var I=o.attr("data-lightbox"),E;if(I){E=i(o.prop("tagName")+'[data-lightbox="'+I+'"]');for(var T=0;T<E.length;T=++T)p(i(E[T])),E[T]===o[0]&&(g=T)}else if(o.attr("rel")==="lightbox")p(o);else{E=i(o.prop("tagName")+'[rel="'+o.attr("rel")+'"]');for(var y=0;y<E.length;y=++y)p(i(E[y])),E[y]===o[0]&&(g=y)}var A=u.scrollTop()+this.options.positionFromTop,R=u.scrollLeft();this.$lightbox.css({top:A+"px",left:R+"px"}).fadeIn(this.options.fadeDuration),this.options.disableScrolling&&i("body").addClass("lb-disable-scrolling"),this.changeImage(g)},s.prototype.changeImage=function(o){var f=this,u=this.album[o].link,g=u.split(".").slice(-1)[0],p=this.$lightbox.find(".lb-image");this.disableKeyboardNav(),this.$overlay.fadeIn(this.options.fadeDuration),i(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var I=new Image;I.onload=function(){var E,T,y,A,R,v;p.attr({alt:f.album[o].alt,src:u}),i(I),p.width(I.width),p.height(I.height);var C=I.width/I.height;v=i(window).width(),R=i(window).height(),A=v-f.containerPadding.left-f.containerPadding.right-f.imageBorderWidth.left-f.imageBorderWidth.right-20,y=R-f.containerPadding.top-f.containerPadding.bottom-f.imageBorderWidth.top-f.imageBorderWidth.bottom-f.options.positionFromTop-70,g==="svg"?(C>=1?(T=A,E=parseInt(A/C,10)):(T=parseInt(y/C,10),E=y),p.width(T),p.height(E)):(f.options.fitImagesInViewport?(f.options.maxWidth&&f.options.maxWidth<A&&(A=f.options.maxWidth),f.options.maxHeight&&f.options.maxHeight<y&&(y=f.options.maxHeight)):(A=f.options.maxWidth||I.width||A,y=f.options.maxHeight||I.height||y),(I.width>A||I.height>y)&&(I.width/A>I.height/y?(T=A,E=parseInt(I.height/(I.width/T),10),p.width(T),p.height(E)):(E=y,T=parseInt(I.width/(I.height/E),10),p.width(T),p.height(E)))),f.sizeContainer(p.width(),p.height())},I.src=this.album[o].link,this.currentImageIndex=o},s.prototype.sizeOverlay=function(){var o=this;setTimeout(function(){o.$overlay.width(i(document).width()).height(i(document).height())},0)},s.prototype.sizeContainer=function(o,f){var u=this,g=this.$outerContainer.outerWidth(),p=this.$outerContainer.outerHeight(),I=o+this.containerPadding.left+this.containerPadding.right+this.imageBorderWidth.left+this.imageBorderWidth.right,E=f+this.containerPadding.top+this.containerPadding.bottom+this.imageBorderWidth.top+this.imageBorderWidth.bottom;function T(){u.$lightbox.find(".lb-dataContainer").width(I),u.$lightbox.find(".lb-prevLink").height(E),u.$lightbox.find(".lb-nextLink").height(E),u.$overlay.trigger("focus"),u.showImage()}g!==I||p!==E?this.$outerContainer.animate({width:I,height:E},this.options.resizeDuration,"swing",function(){T()}):T()},s.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn(this.options.imageFadeDuration),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},s.prototype.updateNav=function(){var o=!1;try{document.createEvent("TouchEvent"),o=!!this.options.alwaysShowNavOnTouchDevices}catch{}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(o&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),o&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),o&&this.$lightbox.find(".lb-next").css("opacity","1"))))},s.prototype.updateDetails=function(){var o=this;if(typeof this.album[this.currentImageIndex].title<"u"&&this.album[this.currentImageIndex].title!==""){var f=this.$lightbox.find(".lb-caption");this.options.sanitizeTitle?f.text(this.album[this.currentImageIndex].title):f.html(this.album[this.currentImageIndex].title),f.fadeIn("fast")}if(this.album.length>1&&this.options.showImageNumberLabel){var u=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(u).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration,function(){return o.sizeOverlay()})},s.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var o=new Image;o.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var f=new Image;f.src=this.album[this.currentImageIndex-1].link}},s.prototype.enableKeyboardNav=function(){this.$lightbox.on("keyup.keyboard",i.proxy(this.keyboardAction,this)),this.$overlay.on("keyup.keyboard",i.proxy(this.keyboardAction,this))},s.prototype.disableKeyboardNav=function(){this.$lightbox.off(".keyboard"),this.$overlay.off(".keyboard")},s.prototype.keyboardAction=function(o){var f=27,u=37,g=39,p=o.keyCode;p===f?(o.stopPropagation(),this.end()):p===u?this.currentImageIndex!==0?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):p===g&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},s.prototype.end=function(){this.disableKeyboardNav(),i(window).off("resize",this.sizeOverlay),this.$lightbox.fadeOut(this.options.fadeDuration),this.$overlay.fadeOut(this.options.fadeDuration),this.options.disableScrolling&&i("body").removeClass("lb-disable-scrolling")},new s})})(si)),si.exports}var pl=hl();const gl=cl(pl);const El=e=>e instanceof HTMLElement,ml=(e,t=[],i=[])=>{const s={...e},o=[],f=[],u=()=>({...s}),g=()=>{const R=[...o];return o.length=0,R},p=()=>{const R=[...f];f.length=0,R.forEach(({type:v,data:C})=>{I(v,C)})},I=(R,v,C)=>{if(C&&!document.hidden){f.push({type:R,data:v});return}A[R]&&A[R](v),o.push({type:R,data:v})},E=(R,...v)=>y[R]?y[R](...v):null,T={getState:u,processActionQueue:g,processDispatchQueue:p,dispatch:I,query:E};let y={};t.forEach(R=>{y={...R(s),...y}});let A={};return i.forEach(R=>{A={...R(I,E,s),...A}}),T},Il=(e,t,i)=>{if(typeof i=="function"){e[t]=i;return}Object.defineProperty(e,t,{...i})},Me=(e,t)=>{for(const i in e)e.hasOwnProperty(i)&&t(i,e[i])},xt=e=>{const t={};return Me(e,i=>{Il(t,i,e[i])}),t},Ge=(e,t,i=null)=>{if(i===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,i)},Tl="http://www.w3.org/2000/svg",_l=["svg","path"],os=e=>_l.includes(e),ui=(e,t,i={})=>{typeof t=="object"&&(i=t,t=null);const s=os(e)?document.createElementNS(Tl,e):document.createElement(e);return t&&(os(e)?Ge(s,"class",t):s.className=t),Me(i,(o,f)=>{Ge(s,o,f)}),s},yl=e=>(t,i)=>{typeof i<"u"&&e.children[i]?e.insertBefore(t,e.children[i]):e.appendChild(t)},Rl=(e,t)=>(i,s)=>(typeof s<"u"?t.splice(s,0,i):t.push(i),i),Al=(e,t)=>i=>(t.splice(t.indexOf(i),1),i.element.parentNode&&e.removeChild(i.element),i),bl=typeof window<"u"&&typeof window.document<"u",uo=()=>bl,vl=uo()?ui("svg"):{},wl="children"in vl?e=>e.children.length:e=>e.childNodes.length,fo=(e,t,i,s)=>{const o=i[0]||e.left,f=i[1]||e.top,u=o+e.width,g=f+e.height*(s[1]||1),p={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:o,top:f,right:u,bottom:g}};return t.filter(I=>!I.isRectIgnored()).map(I=>I.rect).forEach(I=>{as(p.inner,{...I.inner}),as(p.outer,{...I.outer})}),ls(p.inner),p.outer.bottom+=p.element.marginBottom,p.outer.right+=p.element.marginRight,ls(p.outer),p},as=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},ls=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Ht=e=>typeof e=="number",Sl=(e,t,i,s=.001)=>Math.abs(e-t)<s&&Math.abs(i)<s,Ol=({stiffness:e=.5,damping:t=.75,mass:i=10}={})=>{let s=null,o=null,f=0,u=!1;const I=xt({interpolate:(E,T)=>{if(u)return;if(!(Ht(s)&&Ht(o))){u=!0,f=0;return}const y=-(o-s)*e;f+=y/i,o+=f,f*=t,Sl(o,s,f)||T?(o=s,f=0,u=!0,I.onupdate(o),I.oncomplete(o)):I.onupdate(o)},target:{set:E=>{if(Ht(E)&&!Ht(o)&&(o=E),s===null&&(s=E,o=E),s=E,o===s||typeof s>"u"){u=!0,f=0,I.onupdate(o),I.oncomplete(o);return}u=!1},get:()=>s},resting:{get:()=>u},onupdate:E=>{},oncomplete:E=>{}});return I},Dl=e=>e<.5?2*e*e:-1+(4-2*e)*e,Ml=({duration:e=500,easing:t=Dl,delay:i=0}={})=>{let s=null,o,f,u=!0,g=!1,p=null;const E=xt({interpolate:(T,y)=>{u||p===null||(s===null&&(s=T),!(T-s<i)&&(o=T-s-i,o>=e||y?(o=1,f=g?0:1,E.onupdate(f*p),E.oncomplete(f*p),u=!0):(f=o/e,E.onupdate((o>=0?t(g?1-f:f):0)*p))))},target:{get:()=>g?0:p,set:T=>{if(p===null){p=T,E.onupdate(T),E.oncomplete(T);return}T<p?(p=1,g=!0):(g=!1,p=T),u=!1,s=null}},resting:{get:()=>u},onupdate:T=>{},oncomplete:T=>{}});return E},cs={spring:Ol,tween:Ml},Cl=(e,t,i)=>{const s=e[t]&&typeof e[t][i]=="object"?e[t][i]:e[t]||e,o=typeof s=="string"?s:s.type,f=typeof s=="object"?{...s}:{};return cs[o]?cs[o](f):null},cr=(e,t,i,s=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(o=>{e.forEach(f=>{let u=f,g=()=>i[f],p=I=>i[f]=I;typeof f=="object"&&(u=f.key,g=f.getter||g,p=f.setter||p),!(o[u]&&!s)&&(o[u]={get:g,set:p})})})},Ll=({mixinConfig:e,viewProps:t,viewInternalAPI:i,viewExternalAPI:s})=>{const o={...t},f=[];return Me(e,(u,g)=>{const p=Cl(g);if(!p)return;p.onupdate=E=>{t[u]=E},p.target=o[u],cr([{key:u,setter:E=>{p.target!==E&&(p.target=E)},getter:()=>t[u]}],[i,s],t,!0),f.push(p)}),{write:u=>{let g=document.hidden,p=!0;return f.forEach(I=>{I.resting||(p=!1),I.interpolate(u,g)}),p},destroy:()=>{}}},xl=e=>(t,i)=>{e.addEventListener(t,i)},Pl=e=>(t,i)=>{e.removeEventListener(t,i)},Nl=({mixinConfig:e,viewProps:t,viewInternalAPI:i,viewExternalAPI:s,viewState:o,view:f})=>{const u=[],g=xl(f.element),p=Pl(f.element);return s.on=(I,E)=>{u.push({type:I,fn:E}),g(I,E)},s.off=(I,E)=>{u.splice(u.findIndex(T=>T.type===I&&T.fn===E),1),p(I,E)},{write:()=>!0,destroy:()=>{u.forEach(I=>{p(I.type,I.fn)})}}},Gl=({mixinConfig:e,viewProps:t,viewExternalAPI:i})=>{cr(e,i,t)},We=e=>e!=null,Bl={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},Fl=({mixinConfig:e,viewProps:t,viewInternalAPI:i,viewExternalAPI:s,view:o})=>{const f={...t},u={};cr(e,[i,s],t);const g=()=>[t.translateX||0,t.translateY||0],p=()=>[t.scaleX||0,t.scaleY||0],I=()=>o.rect?fo(o.rect,o.childViews,g(),p()):null;return i.rect={get:I},s.rect={get:I},e.forEach(E=>{t[E]=typeof f[E]>"u"?Bl[E]:f[E]}),{write:()=>{if(Ul(u,t))return Vl(o.element,t),Object.assign(u,{...t}),!0},destroy:()=>{}}},Ul=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const i in t)if(t[i]!==e[i])return!0;return!1},Vl=(e,{opacity:t,perspective:i,translateX:s,translateY:o,scaleX:f,scaleY:u,rotateX:g,rotateY:p,rotateZ:I,originX:E,originY:T,width:y,height:A})=>{let R="",v="";(We(E)||We(T))&&(v+=`transform-origin: ${E||0}px ${T||0}px;`),We(i)&&(R+=`perspective(${i}px) `),(We(s)||We(o))&&(R+=`translate3d(${s||0}px, ${o||0}px, 0) `),(We(f)||We(u))&&(R+=`scale3d(${We(f)?f:1}, ${We(u)?u:1}, 1) `),We(I)&&(R+=`rotateZ(${I}rad) `),We(g)&&(R+=`rotateX(${g}rad) `),We(p)&&(R+=`rotateY(${p}rad) `),R.length&&(v+=`transform:${R};`),We(t)&&(v+=`opacity:${t};`,t===0&&(v+="visibility:hidden;"),t<1&&(v+="pointer-events:none;")),We(A)&&(v+=`height:${A}px;`),We(y)&&(v+=`width:${y}px;`);const C=e.elementCurrentStyle||"";(v.length!==C.length||v!==C)&&(e.style.cssText=v,e.elementCurrentStyle=v)},Hl={styles:Fl,listeners:Nl,animations:Ll,apis:Gl},us=(e={},t={},i={})=>(t.layoutCalculated||(e.paddingTop=parseInt(i.paddingTop,10)||0,e.marginTop=parseInt(i.marginTop,10)||0,e.marginRight=parseInt(i.marginRight,10)||0,e.marginBottom=parseInt(i.marginBottom,10)||0,e.marginLeft=parseInt(i.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),Pe=({tag:e="div",name:t=null,attributes:i={},read:s=()=>{},write:o=()=>{},create:f=()=>{},destroy:u=()=>{},filterFrameActionsForChild:g=(A,R)=>R,didCreateView:p=()=>{},didWriteView:I=()=>{},ignoreRect:E=!1,ignoreRectUpdate:T=!1,mixins:y=[]}={})=>(A,R={})=>{const v=ui(e,`filepond--${t}`,i),C=window.getComputedStyle(v,null),M=us();let O=null,L=!1;const x=[],V=[],j={},l={},F=[o],G=[s],ee=[u],Q=()=>v,Y=()=>x.concat(),Z=()=>j,W=le=>(ge,Ae)=>ge(le,Ae),se=()=>O||(O=fo(M,x,[0,0],[1,1]),O),k=()=>C,q=()=>{O=null,x.forEach(Ae=>Ae._read()),!(T&&M.width&&M.height)&&us(M,v,C);const ge={root:Oe,props:R,rect:M};G.forEach(Ae=>Ae(ge))},te=(le,ge,Ae)=>{let xe=ge.length===0;return F.forEach(Re=>{Re({props:R,root:Oe,actions:ge,timestamp:le,shouldOptimize:Ae})===!1&&(xe=!1)}),V.forEach(Re=>{Re.write(le)===!1&&(xe=!1)}),x.filter(Re=>!!Re.element.parentNode).forEach(Re=>{Re._write(le,g(Re,ge),Ae)||(xe=!1)}),x.forEach((Re,Qt)=>{Re.element.parentNode||(Oe.appendChild(Re.element,Qt),Re._read(),Re._write(le,g(Re,ge),Ae),xe=!1)}),L=xe,I({props:R,root:Oe,actions:ge,timestamp:le}),xe},K=()=>{V.forEach(le=>le.destroy()),ee.forEach(le=>{le({root:Oe,props:R})}),x.forEach(le=>le._destroy())},de={element:{get:Q},style:{get:k},childViews:{get:Y}},ne={...de,rect:{get:se},ref:{get:Z},is:le=>t===le,appendChild:yl(v),createChildView:W(A),linkView:le=>(x.push(le),le),unlinkView:le=>{x.splice(x.indexOf(le),1)},appendChildView:Rl(v,x),removeChildView:Al(v,x),registerWriter:le=>F.push(le),registerReader:le=>G.push(le),registerDestroyer:le=>ee.push(le),invalidateLayout:()=>v.layoutCalculated=!1,dispatch:A.dispatch,query:A.query},ve={element:{get:Q},childViews:{get:Y},rect:{get:se},resting:{get:()=>L},isRectIgnored:()=>E,_read:q,_write:te,_destroy:K},we={...de,rect:{get:()=>M}};Object.keys(y).sort((le,ge)=>le==="styles"?1:ge==="styles"?-1:0).forEach(le=>{const ge=Hl[le]({mixinConfig:y[le],viewProps:R,viewState:l,viewInternalAPI:ne,viewExternalAPI:ve,view:xt(we)});ge&&V.push(ge)});const Oe=xt(ne);f({root:Oe,props:R});const ke=wl(v);return x.forEach((le,ge)=>{Oe.appendChild(le.element,ke+ge)}),p(Oe),xt(ve)},kl=(e,t,i=60)=>{const s="__framePainter";if(window[s]){window[s].readers.push(e),window[s].writers.push(t);return}window[s]={readers:[e],writers:[t]};const o=window[s],f=1e3/i;let u=null,g=null,p=null,I=null;const E=()=>{document.hidden?(p=()=>window.setTimeout(()=>T(performance.now()),f),I=()=>window.clearTimeout(g)):(p=()=>window.requestAnimationFrame(T),I=()=>window.cancelAnimationFrame(g))};document.addEventListener("visibilitychange",()=>{I&&I(),E(),T(performance.now())});const T=y=>{g=p(T),u||(u=y);const A=y-u;A<=f||(u=y-A%f,o.readers.forEach(R=>R()),o.writers.forEach(R=>R(y)))};return E(),T(performance.now()),{pause:()=>{I(g)}}},ze=(e,t)=>({root:i,props:s,actions:o=[],timestamp:f,shouldOptimize:u})=>{o.filter(g=>e[g.type]).forEach(g=>e[g.type]({root:i,props:s,action:g.data,timestamp:f,shouldOptimize:u})),t&&t({root:i,props:s,actions:o,timestamp:f,shouldOptimize:u})},fs=(e,t)=>t.parentNode.insertBefore(e,t),ds=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),Ei=e=>Array.isArray(e),wt=e=>e==null,$l=e=>e.trim(),mi=e=>""+e,Wl=(e,t=",")=>wt(e)?[]:Ei(e)?e:mi(e).split(t).map($l).filter(i=>i.length),ho=e=>typeof e=="boolean",po=e=>ho(e)?e:e==="true",qe=e=>typeof e=="string",go=e=>Ht(e)?e:qe(e)?mi(e).replace(/[a-z]+/gi,""):0,ai=e=>parseInt(go(e),10),hs=e=>parseFloat(go(e)),pn=e=>Ht(e)&&isFinite(e)&&Math.floor(e)===e,ps=(e,t=1e3)=>{if(pn(e))return e;let i=mi(e).trim();return/MB$/i.test(i)?(i=i.replace(/MB$i/,"").trim(),ai(i)*t*t):/KB/i.test(i)?(i=i.replace(/KB$i/,"").trim(),ai(i)*t):ai(i)},kt=e=>typeof e=="function",ql=e=>{let t=self,i=e.split("."),s=null;for(;s=i.shift();)if(t=t[s],!t)return null;return t},gs={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},zl=e=>{const t={};return t.url=qe(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},Me(gs,i=>{t[i]=jl(i,e[i],gs[i],t.timeout,t.headers)}),t.process=e.process||qe(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},jl=(e,t,i,s,o)=>{if(t===null)return null;if(typeof t=="function")return t;const f={url:i==="GET"||i==="PATCH"?`?${e}=`:"",method:i,headers:o,withCredentials:!1,timeout:s,onload:null,ondata:null,onerror:null};if(qe(t))return f.url=t,f;if(Object.assign(f,t),qe(f.headers)){const u=f.headers.split(/:(.+)/);f.headers={header:u[0],value:u[1]}}return f.withCredentials=po(f.withCredentials),f},Yl=e=>zl(e),Xl=e=>e===null,Fe=e=>typeof e=="object"&&e!==null,Zl=e=>Fe(e)&&qe(e.url)&&Fe(e.process)&&Fe(e.revert)&&Fe(e.restore)&&Fe(e.fetch),er=e=>Ei(e)?"array":Xl(e)?"null":pn(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":Zl(e)?"api":typeof e,Ql=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),Kl={array:Wl,boolean:po,int:e=>er(e)==="bytes"?ps(e):ai(e),number:hs,float:hs,bytes:ps,string:e=>kt(e)?e:mi(e),function:e=>ql(e),serverapi:Yl,object:e=>{try{return JSON.parse(Ql(e))}catch{return null}}},Jl=(e,t)=>Kl[t](e),Eo=(e,t,i)=>{if(e===t)return e;let s=er(e);if(s!==i){const o=Jl(e,i);if(s=er(o),o===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${i}"`;e=o}return e},ec=(e,t)=>{let i=e;return{enumerable:!0,get:()=>i,set:s=>{i=Eo(s,e,t)}}},tc=e=>{const t={};return Me(e,i=>{const s=e[i];t[i]=ec(s[0],s[1])}),xt(t)},nc=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:tc(e)}),Ii=(e,t="-")=>e.split(/(?=[A-Z])/).map(i=>i.toLowerCase()).join(t),ic=(e,t)=>{const i={};return Me(t,s=>{i[s]={get:()=>e.getState().options[s],set:o=>{e.dispatch(`SET_${Ii(s,"_").toUpperCase()}`,{value:o})}}}),i},rc=e=>(t,i,s)=>{const o={};return Me(e,f=>{const u=Ii(f,"_").toUpperCase();o[`SET_${u}`]=g=>{try{s.options[f]=g.value}catch{}t(`DID_SET_${u}`,{value:s.options[f]})}}),o},sc=e=>t=>{const i={};return Me(e,s=>{i[`GET_${Ii(s,"_").toUpperCase()}`]=o=>t.options[s]}),i},at={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},ur=()=>Math.random().toString(36).substring(2,11),fr=(e,t)=>e.splice(t,1),oc=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},Ti=()=>{const e=[],t=(s,o)=>{fr(e,e.findIndex(f=>f.event===s&&(f.cb===o||!o)))},i=(s,o,f)=>{e.filter(u=>u.event===s).map(u=>u.cb).forEach(u=>oc(()=>u(...o),f))};return{fireSync:(s,...o)=>{i(s,o,!0)},fire:(s,...o)=>{i(s,o,!1)},on:(s,o)=>{e.push({event:s,cb:o})},onOnce:(s,o)=>{e.push({event:s,cb:(...f)=>{t(s,o),o(...f)}})},off:t}},mo=(e,t,i)=>{Object.getOwnPropertyNames(e).filter(s=>!i.includes(s)).forEach(s=>Object.defineProperty(t,s,Object.getOwnPropertyDescriptor(e,s)))},ac=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],Qe=e=>{const t={};return mo(e,t,ac),t},lc=e=>{e.forEach((t,i)=>{t.released&&fr(e,i)})},pe={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Be={INPUT:1,LIMBO:2,LOCAL:3},Io=e=>/[^0-9]+/.exec(e),To=()=>Io(1.1.toLocaleString())[0],cc=()=>{const e=To(),t=1e3.toLocaleString();return t!=="1000"?Io(t)[0]:e==="."?",":"."},z={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},dr=[],ut=(e,t,i)=>new Promise((s,o)=>{const f=dr.filter(g=>g.key===e).map(g=>g.cb);if(f.length===0){s(t);return}const u=f.shift();f.reduce((g,p)=>g.then(I=>p(I,i)),u(t,i)).then(g=>s(g)).catch(g=>o(g))}),Yt=(e,t,i)=>dr.filter(s=>s.key===e).map(s=>s.cb(t,i)),uc=(e,t)=>dr.push({key:e,cb:t}),fc=e=>Object.assign(ln,e),fi=()=>({...ln}),dc=e=>{Me(e,(t,i)=>{ln[t]&&(ln[t][0]=Eo(i,ln[t][0],ln[t][1]))})},ln={id:[null,z.STRING],name:["filepond",z.STRING],disabled:[!1,z.BOOLEAN],className:[null,z.STRING],required:[!1,z.BOOLEAN],captureMethod:[null,z.STRING],allowSyncAcceptAttribute:[!0,z.BOOLEAN],allowDrop:[!0,z.BOOLEAN],allowBrowse:[!0,z.BOOLEAN],allowPaste:[!0,z.BOOLEAN],allowMultiple:[!1,z.BOOLEAN],allowReplace:[!0,z.BOOLEAN],allowRevert:[!0,z.BOOLEAN],allowRemove:[!0,z.BOOLEAN],allowProcess:[!0,z.BOOLEAN],allowReorder:[!1,z.BOOLEAN],allowDirectoriesOnly:[!1,z.BOOLEAN],storeAsFile:[!1,z.BOOLEAN],forceRevert:[!1,z.BOOLEAN],maxFiles:[null,z.INT],checkValidity:[!1,z.BOOLEAN],itemInsertLocationFreedom:[!0,z.BOOLEAN],itemInsertLocation:["before",z.STRING],itemInsertInterval:[75,z.INT],dropOnPage:[!1,z.BOOLEAN],dropOnElement:[!0,z.BOOLEAN],dropValidation:[!1,z.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],z.ARRAY],instantUpload:[!0,z.BOOLEAN],maxParallelUploads:[2,z.INT],allowMinimumUploadDuration:[!0,z.BOOLEAN],chunkUploads:[!1,z.BOOLEAN],chunkForce:[!1,z.BOOLEAN],chunkSize:[5e6,z.INT],chunkRetryDelays:[[500,1e3,3e3],z.ARRAY],server:[null,z.SERVER_API],fileSizeBase:[1e3,z.INT],labelFileSizeBytes:["bytes",z.STRING],labelFileSizeKilobytes:["KB",z.STRING],labelFileSizeMegabytes:["MB",z.STRING],labelFileSizeGigabytes:["GB",z.STRING],labelDecimalSeparator:[To(),z.STRING],labelThousandsSeparator:[cc(),z.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',z.STRING],labelInvalidField:["Field contains invalid files",z.STRING],labelFileWaitingForSize:["Waiting for size",z.STRING],labelFileSizeNotAvailable:["Size not available",z.STRING],labelFileCountSingular:["file in list",z.STRING],labelFileCountPlural:["files in list",z.STRING],labelFileLoading:["Loading",z.STRING],labelFileAdded:["Added",z.STRING],labelFileLoadError:["Error during load",z.STRING],labelFileRemoved:["Removed",z.STRING],labelFileRemoveError:["Error during remove",z.STRING],labelFileProcessing:["Uploading",z.STRING],labelFileProcessingComplete:["Upload complete",z.STRING],labelFileProcessingAborted:["Upload cancelled",z.STRING],labelFileProcessingError:["Error during upload",z.STRING],labelFileProcessingRevertError:["Error during revert",z.STRING],labelTapToCancel:["tap to cancel",z.STRING],labelTapToRetry:["tap to retry",z.STRING],labelTapToUndo:["tap to undo",z.STRING],labelButtonRemoveItem:["Remove",z.STRING],labelButtonAbortItemLoad:["Abort",z.STRING],labelButtonRetryItemLoad:["Retry",z.STRING],labelButtonAbortItemProcessing:["Cancel",z.STRING],labelButtonUndoItemProcessing:["Undo",z.STRING],labelButtonRetryItemProcessing:["Retry",z.STRING],labelButtonProcessItem:["Upload",z.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',z.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',z.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',z.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',z.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',z.STRING],oninit:[null,z.FUNCTION],onwarning:[null,z.FUNCTION],onerror:[null,z.FUNCTION],onactivatefile:[null,z.FUNCTION],oninitfile:[null,z.FUNCTION],onaddfilestart:[null,z.FUNCTION],onaddfileprogress:[null,z.FUNCTION],onaddfile:[null,z.FUNCTION],onprocessfilestart:[null,z.FUNCTION],onprocessfileprogress:[null,z.FUNCTION],onprocessfileabort:[null,z.FUNCTION],onprocessfilerevert:[null,z.FUNCTION],onprocessfile:[null,z.FUNCTION],onprocessfiles:[null,z.FUNCTION],onremovefile:[null,z.FUNCTION],onpreparefile:[null,z.FUNCTION],onupdatefiles:[null,z.FUNCTION],onreorderfiles:[null,z.FUNCTION],beforeDropFile:[null,z.FUNCTION],beforeAddFile:[null,z.FUNCTION],beforeRemoveFile:[null,z.FUNCTION],beforePrepareFile:[null,z.FUNCTION],stylePanelLayout:[null,z.STRING],stylePanelAspectRatio:[null,z.STRING],styleItemPanelAspectRatio:[null,z.STRING],styleButtonRemoveItemPosition:["left",z.STRING],styleButtonProcessItemPosition:["right",z.STRING],styleLoadIndicatorPosition:["right",z.STRING],styleProgressIndicatorPosition:["right",z.STRING],styleButtonRemoveItemAlign:[!1,z.BOOLEAN],files:[[],z.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],z.ARRAY]},$t=(e,t)=>wt(t)?e[0]||null:pn(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(i=>i.id===t)||null),_o=e=>{if(wt(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},ft=e=>e.filter(t=>!t.archived),hc={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let Xn=null;const pc=()=>{if(Xn===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,Xn=t.files.length===1}catch{Xn=!1}return Xn},gc=[pe.LOAD_ERROR,pe.PROCESSING_ERROR,pe.PROCESSING_REVERT_ERROR],Ec=[pe.LOADING,pe.PROCESSING,pe.PROCESSING_QUEUED,pe.INIT],mc=[pe.PROCESSING_COMPLETE],Ic=e=>gc.includes(e.status),Tc=e=>Ec.includes(e.status),_c=e=>mc.includes(e.status),Es=e=>Fe(e.options.server)&&(Fe(e.options.server.process)||kt(e.options.server.process)),yc=e=>({GET_STATUS:()=>{const t=ft(e.items),{EMPTY:i,ERROR:s,BUSY:o,IDLE:f,READY:u}=hc;return t.length===0?i:t.some(Ic)?s:t.some(Tc)?o:t.some(_c)?u:f},GET_ITEM:t=>$t(e.items,t),GET_ACTIVE_ITEM:t=>$t(ft(e.items),t),GET_ACTIVE_ITEMS:()=>ft(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const i=$t(e.items,t);return i?i.filename:null},GET_ITEM_SIZE:t=>{const i=$t(e.items,t);return i?i.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:_o(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>ft(e.items).filter(i=>i.status===t),GET_TOTAL_ITEMS:()=>ft(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&pc()&&!Es(e),IS_ASYNC:()=>Es(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),Rc=e=>{const t=ft(e.items).length;if(!e.options.allowMultiple)return t===0;const i=e.options.maxFiles;return i===null||t<i},yo=(e,t,i)=>Math.max(Math.min(i,e),t),Ac=(e,t,i)=>e.splice(t,0,i),bc=(e,t,i)=>wt(t)?null:typeof i>"u"?(e.push(t),t):(i=yo(i,0,e.length),Ac(e,i,t),t),tr=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),Bn=e=>`${e}`.split("/").pop().split("?").shift(),_i=e=>e.split(".").pop(),vc=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},Dn=(e,t="")=>(t+e).slice(-t.length),Ro=(e=new Date)=>`${e.getFullYear()}-${Dn(e.getMonth()+1,"00")}-${Dn(e.getDate(),"00")}_${Dn(e.getHours(),"00")}-${Dn(e.getMinutes(),"00")}-${Dn(e.getSeconds(),"00")}`,hn=(e,t,i=null,s=null)=>{const o=typeof i=="string"?e.slice(0,e.size,i):e.slice(0,e.size,e.type);return o.lastModifiedDate=new Date,e._relativePath&&(o._relativePath=e._relativePath),qe(t)||(t=Ro()),t&&s===null&&_i(t)?o.name=t:(s=s||vc(o.type),o.name=t+(s?"."+s:"")),o},wc=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Ao=(e,t)=>{const i=wc();if(i){const s=new i;return s.append(e),s.getBlob(t)}return new Blob([e],{type:t})},Sc=(e,t)=>{const i=new ArrayBuffer(e.length),s=new Uint8Array(i);for(let o=0;o<e.length;o++)s[o]=e.charCodeAt(o);return Ao(i,t)},bo=e=>(/^data:(.+);/.exec(e)||[])[1]||null,Oc=e=>e.split(",")[1].replace(/\s/g,""),Dc=e=>atob(Oc(e)),Mc=e=>{const t=bo(e),i=Dc(e);return Sc(i,t)},Cc=(e,t,i)=>hn(Mc(e),t,null,i),Lc=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(i=>i.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(i=>i.length);return t.length?decodeURI(t[t.length-1]):null},xc=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},Pc=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,hr=e=>{const t={source:null,name:null,size:null},i=e.split(`
`);for(let s of i){const o=Lc(s);if(o){t.name=o;continue}const f=xc(s);if(f){t.size=f;continue}const u=Pc(s);if(u){t.source=u;continue}}return t},Nc=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},i=()=>t.progress,s=()=>{t.request&&t.request.abort&&t.request.abort()},o=()=>{const g=t.source;u.fire("init",g),g instanceof File?u.fire("load",g):g instanceof Blob?u.fire("load",hn(g,g.name)):tr(g)?u.fire("load",Cc(g)):f(g)},f=g=>{if(!e){u.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(g,p=>{t.duration=Date.now()-t.timestamp,t.complete=!0,p instanceof Blob&&(p=hn(p,p.name||Bn(g))),u.fire("load",p instanceof Blob?p:p?p.body:null)},p=>{u.fire("error",typeof p=="string"?{type:"error",code:0,body:p}:p)},(p,I,E)=>{if(E&&(t.size=E),t.duration=Date.now()-t.timestamp,!p){t.progress=null;return}t.progress=I/E,u.fire("progress",t.progress)},()=>{u.fire("abort")},p=>{const I=hr(typeof p=="string"?p:p.headers);u.fire("meta",{size:t.size||I.size,filename:I.name,source:I.source})})},u={...Ti(),setSource:g=>t.source=g,getProgress:i,abort:s,load:o};return u},ms=e=>/GET|HEAD/.test(e),Wt=(e,t,i)=>{const s={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{o=!0,u.abort()}};let o=!1,f=!1;i={method:"POST",headers:{},withCredentials:!1,...i},t=encodeURI(t),ms(i.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const u=new XMLHttpRequest,g=ms(i.method)?u:u.upload;return g.onprogress=p=>{o||s.onprogress(p.lengthComputable,p.loaded,p.total)},u.onreadystatechange=()=>{u.readyState<2||u.readyState===4&&u.status===0||f||(f=!0,s.onheaders(u))},u.onload=()=>{u.status>=200&&u.status<300?s.onload(u):s.onerror(u)},u.onerror=()=>s.onerror(u),u.onabort=()=>{o=!0,s.onabort()},u.ontimeout=()=>s.ontimeout(u),u.open(i.method,t,!0),pn(i.timeout)&&(u.timeout=i.timeout),Object.keys(i.headers).forEach(p=>{const I=unescape(encodeURIComponent(i.headers[p]));u.setRequestHeader(p,I)}),i.responseType&&(u.responseType=i.responseType),i.withCredentials&&(u.withCredentials=!0),u.send(e),s},Ce=(e,t,i,s)=>({type:e,code:t,body:i,headers:s}),qt=e=>t=>{e(Ce("error",0,"Timeout",t.getAllResponseHeaders()))},Is=e=>/\?/.test(e),Ln=(...e)=>{let t="";return e.forEach(i=>{t+=Is(t)&&Is(i)?i.replace(/\?/,"&"):i}),t},qi=(e="",t)=>{if(typeof t=="function")return t;if(!t||!qe(t.url))return null;const i=t.onload||(o=>o),s=t.onerror||(o=>null);return(o,f,u,g,p,I)=>{const E=Wt(o,Ln(e,t.url),{...t,responseType:"blob"});return E.onload=T=>{const y=T.getAllResponseHeaders(),A=hr(y).name||Bn(o);f(Ce("load",T.status,t.method==="HEAD"?null:hn(i(T.response),A),y))},E.onerror=T=>{u(Ce("error",T.status,s(T.response)||T.statusText,T.getAllResponseHeaders()))},E.onheaders=T=>{I(Ce("headers",T.status,null,T.getAllResponseHeaders()))},E.ontimeout=qt(u),E.onprogress=g,E.onabort=p,E}},it={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Gc=(e,t,i,s,o,f,u,g,p,I,E)=>{const T=[],{chunkTransferId:y,chunkServer:A,chunkSize:R,chunkRetryDelays:v}=E,C={serverId:y,aborted:!1},M=t.ondata||(W=>W),O=t.onload||((W,se)=>se==="HEAD"?W.getResponseHeader("Upload-Offset"):W.response),L=t.onerror||(W=>null),x=W=>{const se=new FormData;Fe(o)&&se.append(i,JSON.stringify(o));const k=typeof t.headers=="function"?t.headers(s,o):{...t.headers,"Upload-Length":s.size},q={...t,headers:k},te=Wt(M(se),Ln(e,t.url),q);te.onload=K=>W(O(K,q.method)),te.onerror=K=>u(Ce("error",K.status,L(K.response)||K.statusText,K.getAllResponseHeaders())),te.ontimeout=qt(u)},V=W=>{const se=Ln(e,A.url,C.serverId),q={headers:typeof t.headers=="function"?t.headers(C.serverId):{...t.headers},method:"HEAD"},te=Wt(null,se,q);te.onload=K=>W(O(K,q.method)),te.onerror=K=>u(Ce("error",K.status,L(K.response)||K.statusText,K.getAllResponseHeaders())),te.ontimeout=qt(u)},j=Math.floor(s.size/R);for(let W=0;W<=j;W++){const se=W*R,k=s.slice(se,se+R,"application/offset+octet-stream");T[W]={index:W,size:k.size,offset:se,data:k,file:s,progress:0,retries:[...v],status:it.QUEUED,error:null,request:null,timeout:null}}const l=()=>f(C.serverId),F=W=>W.status===it.QUEUED||W.status===it.ERROR,G=W=>{if(C.aborted)return;if(W=W||T.find(F),!W){T.every(ne=>ne.status===it.COMPLETE)&&l();return}W.status=it.PROCESSING,W.progress=null;const se=A.ondata||(ne=>ne),k=A.onerror||(ne=>null),q=A.onload||(()=>{}),te=Ln(e,A.url,C.serverId),K=typeof A.headers=="function"?A.headers(W):{...A.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":W.offset,"Upload-Length":s.size,"Upload-Name":s.name},de=W.request=Wt(se(W.data),te,{...A,headers:K});de.onload=ne=>{q(ne,W.index,T.length),W.status=it.COMPLETE,W.request=null,Y()},de.onprogress=(ne,ve,we)=>{W.progress=ne?ve:null,Q()},de.onerror=ne=>{W.status=it.ERROR,W.request=null,W.error=k(ne.response)||ne.statusText,ee(W)||u(Ce("error",ne.status,k(ne.response)||ne.statusText,ne.getAllResponseHeaders()))},de.ontimeout=ne=>{W.status=it.ERROR,W.request=null,ee(W)||qt(u)(ne)},de.onabort=()=>{W.status=it.QUEUED,W.request=null,p()}},ee=W=>W.retries.length===0?!1:(W.status=it.WAITING,clearTimeout(W.timeout),W.timeout=setTimeout(()=>{G(W)},W.retries.shift()),!0),Q=()=>{const W=T.reduce((k,q)=>k===null||q.progress===null?null:k+q.progress,0);if(W===null)return g(!1,0,0);const se=T.reduce((k,q)=>k+q.size,0);g(!0,W,se)},Y=()=>{T.filter(se=>se.status===it.PROCESSING).length>=1||G()},Z=()=>{T.forEach(W=>{clearTimeout(W.timeout),W.request&&W.request.abort()})};return C.serverId?V(W=>{C.aborted||(T.filter(se=>se.offset<W).forEach(se=>{se.status=it.COMPLETE,se.progress=se.size}),Y())}):x(W=>{C.aborted||(I(W),C.serverId=W,Y())}),{abort:()=>{C.aborted=!0,Z()}}},Bc=(e,t,i,s)=>(o,f,u,g,p,I,E)=>{if(!o)return;const T=s.chunkUploads,y=T&&o.size>s.chunkSize,A=T&&(y||s.chunkForce);if(o instanceof Blob&&A)return Gc(e,t,i,o,f,u,g,p,I,E,s);const R=t.ondata||(V=>V),v=t.onload||(V=>V),C=t.onerror||(V=>null),M=typeof t.headers=="function"?t.headers(o,f)||{}:{...t.headers},O={...t,headers:M};var L=new FormData;Fe(f)&&L.append(i,JSON.stringify(f)),(o instanceof Blob?[{name:null,file:o}]:o).forEach(V=>{L.append(i,V.file,V.name===null?V.file.name:`${V.name}${V.file.name}`)});const x=Wt(R(L),Ln(e,t.url),O);return x.onload=V=>{u(Ce("load",V.status,v(V.response),V.getAllResponseHeaders()))},x.onerror=V=>{g(Ce("error",V.status,C(V.response)||V.statusText,V.getAllResponseHeaders()))},x.ontimeout=qt(g),x.onprogress=p,x.onabort=I,x},Fc=(e="",t,i,s)=>typeof t=="function"?(...o)=>t(i,...o,s):!t||!qe(t.url)?null:Bc(e,t,i,s),Mn=(e="",t)=>{if(typeof t=="function")return t;if(!t||!qe(t.url))return(o,f)=>f();const i=t.onload||(o=>o),s=t.onerror||(o=>null);return(o,f,u)=>{const g=Wt(o,e+t.url,t);return g.onload=p=>{f(Ce("load",p.status,i(p.response),p.getAllResponseHeaders()))},g.onerror=p=>{u(Ce("error",p.status,s(p.response)||p.statusText,p.getAllResponseHeaders()))},g.ontimeout=qt(u),g}},vo=(e=0,t=1)=>e+Math.random()*(t-e),Uc=(e,t=1e3,i=0,s=25,o=250)=>{let f=null;const u=Date.now(),g=()=>{let p=Date.now()-u,I=vo(s,o);p+I>t&&(I=p+I-t);let E=p/t;if(E>=1||document.hidden){e(1);return}e(E),f=setTimeout(g,I)};return t>0&&g(),{clear:()=>{clearTimeout(f)}}},Vc=(e,t)=>{const i={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:s}=t,o=(E,T)=>{const y=()=>{i.duration===0||i.progress===null||I.fire("progress",I.getProgress())},A=()=>{i.complete=!0,I.fire("load-perceived",i.response.body)};I.fire("start"),i.timestamp=Date.now(),i.perceivedPerformanceUpdater=Uc(R=>{i.perceivedProgress=R,i.perceivedDuration=Date.now()-i.timestamp,y(),i.response&&i.perceivedProgress===1&&!i.complete&&A()},s?vo(750,1500):0),i.request=e(E,T,R=>{i.response=Fe(R)?R:{type:"load",code:200,body:`${R}`,headers:{}},i.duration=Date.now()-i.timestamp,i.progress=1,I.fire("load",i.response.body),(!s||s&&i.perceivedProgress===1)&&A()},R=>{i.perceivedPerformanceUpdater.clear(),I.fire("error",Fe(R)?R:{type:"error",code:0,body:`${R}`})},(R,v,C)=>{i.duration=Date.now()-i.timestamp,i.progress=R?v/C:null,y()},()=>{i.perceivedPerformanceUpdater.clear(),I.fire("abort",i.response?i.response.body:null)},R=>{I.fire("transfer",R)})},f=()=>{i.request&&(i.perceivedPerformanceUpdater.clear(),i.request.abort&&i.request.abort(),i.complete=!0)},u=()=>{f(),i.complete=!1,i.perceivedProgress=0,i.progress=0,i.timestamp=null,i.perceivedDuration=0,i.duration=0,i.request=null,i.response=null},g=s?()=>i.progress?Math.min(i.progress,i.perceivedProgress):null:()=>i.progress||null,p=s?()=>Math.min(i.duration,i.perceivedDuration):()=>i.duration,I={...Ti(),process:o,abort:f,getProgress:g,getDuration:p,reset:u};return I},wo=e=>e.substring(0,e.lastIndexOf("."))||e,Hc=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||tr(e)?t[0]=e.name||Ro():tr(e)?(t[1]=e.length,t[2]=bo(e)):qe(e)&&(t[0]=Bn(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},zt=e=>!!(e instanceof File||e instanceof Blob&&e.name),So=e=>{if(!Fe(e))return e;const t=Ei(e)?[]:{};for(const i in e){if(!e.hasOwnProperty(i))continue;const s=e[i];t[i]=s&&Fe(s)?So(s):s}return t},kc=(e=null,t=null,i=null)=>{const s=ur(),o={archived:!1,frozen:!1,released:!1,source:null,file:i,serverFileReference:t,transferId:null,processingAborted:!1,status:t?pe.PROCESSING_COMPLETE:pe.INIT,activeLoader:null,activeProcessor:null};let f=null;const u={},g=F=>o.status=F,p=(F,...G)=>{o.released||o.frozen||j.fire(F,...G)},I=()=>_i(o.file.name),E=()=>o.file.type,T=()=>o.file.size,y=()=>o.file,A=(F,G,ee)=>{if(o.source=F,j.fireSync("init"),o.file){j.fireSync("load-skip");return}o.file=Hc(F),G.on("init",()=>{p("load-init")}),G.on("meta",Q=>{o.file.size=Q.size,o.file.filename=Q.filename,Q.source&&(e=Be.LIMBO,o.serverFileReference=Q.source,o.status=pe.PROCESSING_COMPLETE),p("load-meta")}),G.on("progress",Q=>{g(pe.LOADING),p("load-progress",Q)}),G.on("error",Q=>{g(pe.LOAD_ERROR),p("load-request-error",Q)}),G.on("abort",()=>{g(pe.INIT),p("load-abort")}),G.on("load",Q=>{o.activeLoader=null;const Y=W=>{o.file=zt(W)?W:o.file,e===Be.LIMBO&&o.serverFileReference?g(pe.PROCESSING_COMPLETE):g(pe.IDLE),p("load")},Z=W=>{o.file=Q,p("load-meta"),g(pe.LOAD_ERROR),p("load-file-error",W)};if(o.serverFileReference){Y(Q);return}ee(Q,Y,Z)}),G.setSource(F),o.activeLoader=G,G.load()},R=()=>{o.activeLoader&&o.activeLoader.load()},v=()=>{if(o.activeLoader){o.activeLoader.abort();return}g(pe.INIT),p("load-abort")},C=(F,G)=>{if(o.processingAborted){o.processingAborted=!1;return}if(g(pe.PROCESSING),f=null,!(o.file instanceof Blob)){j.on("load",()=>{C(F,G)});return}F.on("load",Y=>{o.transferId=null,o.serverFileReference=Y}),F.on("transfer",Y=>{o.transferId=Y}),F.on("load-perceived",Y=>{o.activeProcessor=null,o.transferId=null,o.serverFileReference=Y,g(pe.PROCESSING_COMPLETE),p("process-complete",Y)}),F.on("start",()=>{p("process-start")}),F.on("error",Y=>{o.activeProcessor=null,g(pe.PROCESSING_ERROR),p("process-error",Y)}),F.on("abort",Y=>{o.activeProcessor=null,o.serverFileReference=Y,g(pe.IDLE),p("process-abort"),f&&f()}),F.on("progress",Y=>{p("process-progress",Y)});const ee=Y=>{o.archived||F.process(Y,{...u})},Q=console.error;G(o.file,ee,Q),o.activeProcessor=F},M=()=>{o.processingAborted=!1,g(pe.PROCESSING_QUEUED)},O=()=>new Promise(F=>{if(!o.activeProcessor){o.processingAborted=!0,g(pe.IDLE),p("process-abort"),F();return}f=()=>{F()},o.activeProcessor.abort()}),L=(F,G)=>new Promise((ee,Q)=>{const Y=o.serverFileReference!==null?o.serverFileReference:o.transferId;if(Y===null){ee();return}F(Y,()=>{o.serverFileReference=null,o.transferId=null,ee()},Z=>{if(!G){ee();return}g(pe.PROCESSING_REVERT_ERROR),p("process-revert-error"),Q(Z)}),g(pe.IDLE),p("process-revert")}),x=(F,G,ee)=>{const Q=F.split("."),Y=Q[0],Z=Q.pop();let W=u;Q.forEach(se=>W=W[se]),JSON.stringify(W[Z])!==JSON.stringify(G)&&(W[Z]=G,p("metadata-update",{key:Y,value:u[Y],silent:ee}))},j={id:{get:()=>s},origin:{get:()=>e,set:F=>e=F},serverId:{get:()=>o.serverFileReference},transferId:{get:()=>o.transferId},status:{get:()=>o.status},filename:{get:()=>o.file.name},filenameWithoutExtension:{get:()=>wo(o.file.name)},fileExtension:{get:I},fileType:{get:E},fileSize:{get:T},file:{get:y},relativePath:{get:()=>o.file._relativePath},source:{get:()=>o.source},getMetadata:F=>So(F?u[F]:u),setMetadata:(F,G,ee)=>{if(Fe(F)){const Q=F;return Object.keys(Q).forEach(Y=>{x(Y,Q[Y],G)}),F}return x(F,G,ee),G},extend:(F,G)=>l[F]=G,abortLoad:v,retryLoad:R,requestProcessing:M,abortProcessing:O,load:A,process:C,revert:L,...Ti(),freeze:()=>o.frozen=!0,release:()=>o.released=!0,released:{get:()=>o.released},archive:()=>o.archived=!0,archived:{get:()=>o.archived},setFile:F=>o.file=F},l=xt(j);return l},$c=(e,t)=>wt(t)?0:qe(t)?e.findIndex(i=>i.id===t):-1,Ts=(e,t)=>{const i=$c(e,t);if(!(i<0))return e[i]||null},_s=(e,t,i,s,o,f)=>{const u=Wt(null,e,{method:"GET",responseType:"blob"});return u.onload=g=>{const p=g.getAllResponseHeaders(),I=hr(p).name||Bn(e);t(Ce("load",g.status,hn(g.response,I),p))},u.onerror=g=>{i(Ce("error",g.status,g.statusText,g.getAllResponseHeaders()))},u.onheaders=g=>{f(Ce("headers",g.status,null,g.getAllResponseHeaders()))},u.ontimeout=qt(i),u.onprogress=s,u.onabort=o,u},ys=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),Wc=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&ys(location.href)!==ys(e),Zn=e=>(...t)=>kt(e)?e(...t):e,qc=e=>!zt(e.file),zi=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:ft(t.items)})},0)},Rs=(e,...t)=>new Promise(i=>{if(!e)return i(!0);const s=e(...t);if(s==null)return i(!0);if(typeof s=="boolean")return i(s);typeof s.then=="function"&&s.then(i)}),ji=(e,t)=>{e.items.sort((i,s)=>t(Qe(i),Qe(s)))},rt=(e,t)=>({query:i,success:s=()=>{},failure:o=()=>{},...f}={})=>{const u=$t(e.items,i);if(!u){o({error:Ce("error",0,"Item not found"),file:null});return}t(u,s,o,f||{})},zc=(e,t,i)=>({ABORT_ALL:()=>{ft(i.items).forEach(s=>{s.freeze(),s.abortLoad(),s.abortProcessing()})},DID_SET_FILES:({value:s=[]})=>{const o=s.map(u=>({source:u.source?u.source:u,options:u.options}));let f=ft(i.items);f.forEach(u=>{o.find(g=>g.source===u.source||g.source===u.file)||e("REMOVE_ITEM",{query:u,remove:!1})}),f=ft(i.items),o.forEach((u,g)=>{f.find(p=>p.source===u.source||p.file===u.source)||e("ADD_ITEM",{...u,interactionMethod:at.NONE,index:g})})},DID_UPDATE_ITEM_METADATA:({id:s,action:o,change:f})=>{f.silent||(clearTimeout(i.itemUpdateTimeout),i.itemUpdateTimeout=setTimeout(()=>{const u=Ts(i.items,s);if(!t("IS_ASYNC")){ut("SHOULD_PREPARE_OUTPUT",!1,{item:u,query:t,action:o,change:f}).then(E=>{const T=t("GET_BEFORE_PREPARE_FILE");T&&(E=T(u,E)),E&&e("REQUEST_PREPARE_OUTPUT",{query:s,item:u,success:y=>{e("DID_PREPARE_OUTPUT",{id:s,file:y})}},!0)});return}u.origin===Be.LOCAL&&e("DID_LOAD_ITEM",{id:u.id,error:null,serverFileReference:u.source});const g=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:s})},32)},p=E=>{u.revert(Mn(i.options.server.url,i.options.server.revert),t("GET_FORCE_REVERT")).then(E?g:()=>{}).catch(()=>{})},I=E=>{u.abortProcessing().then(E?g:()=>{})};if(u.status===pe.PROCESSING_COMPLETE)return p(i.options.instantUpload);if(u.status===pe.PROCESSING)return I(i.options.instantUpload);i.options.instantUpload&&g()},0))},MOVE_ITEM:({query:s,index:o})=>{const f=$t(i.items,s);if(!f)return;const u=i.items.indexOf(f);o=yo(o,0,i.items.length-1),u!==o&&i.items.splice(o,0,i.items.splice(u,1)[0])},SORT:({compare:s})=>{ji(i,s),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:s,index:o,interactionMethod:f,success:u=()=>{},failure:g=()=>{}})=>{let p=o;if(o===-1||typeof o>"u"){const A=t("GET_ITEM_INSERT_LOCATION"),R=t("GET_TOTAL_ITEMS");p=A==="before"?0:R}const I=t("GET_IGNORED_FILES"),E=A=>zt(A)?!I.includes(A.name.toLowerCase()):!wt(A),y=s.filter(E).map(A=>new Promise((R,v)=>{e("ADD_ITEM",{interactionMethod:f,source:A.source||A,success:R,failure:v,index:p++,options:A.options||{}})}));Promise.all(y).then(u).catch(g)},ADD_ITEM:({source:s,index:o=-1,interactionMethod:f,success:u=()=>{},failure:g=()=>{},options:p={}})=>{if(wt(s)){g({error:Ce("error",0,"No source"),file:null});return}if(zt(s)&&i.options.ignoredFiles.includes(s.name.toLowerCase()))return;if(!Rc(i)){if(i.options.allowMultiple||!i.options.allowMultiple&&!i.options.allowReplace){const O=Ce("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:s,error:O}),g({error:O,file:null});return}const M=ft(i.items)[0];if(M.status===pe.PROCESSING_COMPLETE||M.status===pe.PROCESSING_REVERT_ERROR){const O=t("GET_FORCE_REVERT");if(M.revert(Mn(i.options.server.url,i.options.server.revert),O).then(()=>{O&&e("ADD_ITEM",{source:s,index:o,interactionMethod:f,success:u,failure:g,options:p})}).catch(()=>{}),O)return}e("REMOVE_ITEM",{query:M.id})}const I=p.type==="local"?Be.LOCAL:p.type==="limbo"?Be.LIMBO:Be.INPUT,E=kc(I,I===Be.INPUT?null:s,p.file);Object.keys(p.metadata||{}).forEach(M=>{E.setMetadata(M,p.metadata[M])}),Yt("DID_CREATE_ITEM",E,{query:t,dispatch:e});const T=t("GET_ITEM_INSERT_LOCATION");i.options.itemInsertLocationFreedom||(o=T==="before"?-1:i.items.length),bc(i.items,E,o),kt(T)&&s&&ji(i,T);const y=E.id;E.on("init",()=>{e("DID_INIT_ITEM",{id:y})}),E.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:y})}),E.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:y})}),E.on("load-progress",M=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:y,progress:M})}),E.on("load-request-error",M=>{const O=Zn(i.options.labelFileLoadError)(M);if(M.code>=400&&M.code<500){e("DID_THROW_ITEM_INVALID",{id:y,error:M,status:{main:O,sub:`${M.code} (${M.body})`}}),g({error:M,file:Qe(E)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:y,error:M,status:{main:O,sub:i.options.labelTapToRetry}})}),E.on("load-file-error",M=>{e("DID_THROW_ITEM_INVALID",{id:y,error:M.status,status:M.status}),g({error:M.status,file:Qe(E)})}),E.on("load-abort",()=>{e("REMOVE_ITEM",{query:y})}),E.on("load-skip",()=>{E.on("metadata-update",M=>{zt(E.file)&&e("DID_UPDATE_ITEM_METADATA",{id:y,change:M})}),e("COMPLETE_LOAD_ITEM",{query:y,item:E,data:{source:s,success:u}})}),E.on("load",()=>{const M=O=>{if(!O){e("REMOVE_ITEM",{query:y});return}E.on("metadata-update",L=>{e("DID_UPDATE_ITEM_METADATA",{id:y,change:L})}),ut("SHOULD_PREPARE_OUTPUT",!1,{item:E,query:t}).then(L=>{const x=t("GET_BEFORE_PREPARE_FILE");x&&(L=x(E,L));const V=()=>{e("COMPLETE_LOAD_ITEM",{query:y,item:E,data:{source:s,success:u}}),zi(e,i)};if(L){e("REQUEST_PREPARE_OUTPUT",{query:y,item:E,success:j=>{e("DID_PREPARE_OUTPUT",{id:y,file:j}),V()}},!0);return}V()})};ut("DID_LOAD_ITEM",E,{query:t,dispatch:e}).then(()=>{Rs(t("GET_BEFORE_ADD_FILE"),Qe(E)).then(M)}).catch(O=>{if(!O||!O.error||!O.status)return M(!1);e("DID_THROW_ITEM_INVALID",{id:y,error:O.error,status:O.status})})}),E.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:y})}),E.on("process-progress",M=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:y,progress:M})}),E.on("process-error",M=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:y,error:M,status:{main:Zn(i.options.labelFileProcessingError)(M),sub:i.options.labelTapToRetry}})}),E.on("process-revert-error",M=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:y,error:M,status:{main:Zn(i.options.labelFileProcessingRevertError)(M),sub:i.options.labelTapToRetry}})}),E.on("process-complete",M=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:y,error:null,serverFileReference:M}),e("DID_DEFINE_VALUE",{id:y,value:M})}),E.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:y})}),E.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:y}),e("DID_DEFINE_VALUE",{id:y,value:null})}),e("DID_ADD_ITEM",{id:y,index:o,interactionMethod:f}),zi(e,i);const{url:A,load:R,restore:v,fetch:C}=i.options.server||{};E.load(s,Nc(I===Be.INPUT?qe(s)&&Wc(s)&&C?qi(A,C):_s:I===Be.LIMBO?qi(A,v):qi(A,R)),(M,O,L)=>{ut("LOAD_FILE",M,{query:t}).then(O).catch(L)})},REQUEST_PREPARE_OUTPUT:({item:s,success:o,failure:f=()=>{}})=>{const u={error:Ce("error",0,"Item not found"),file:null};if(s.archived)return f(u);ut("PREPARE_OUTPUT",s.file,{query:t,item:s}).then(g=>{ut("COMPLETE_PREPARE_OUTPUT",g,{query:t,item:s}).then(p=>{if(s.archived)return f(u);o(p)})})},COMPLETE_LOAD_ITEM:({item:s,data:o})=>{const{success:f,source:u}=o,g=t("GET_ITEM_INSERT_LOCATION");if(kt(g)&&u&&ji(i,g),e("DID_LOAD_ITEM",{id:s.id,error:null,serverFileReference:s.origin===Be.INPUT?null:u}),f(Qe(s)),s.origin===Be.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:s.id});return}if(s.origin===Be.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:s.id,error:null,serverFileReference:u}),e("DID_DEFINE_VALUE",{id:s.id,value:s.serverId||u});return}t("IS_ASYNC")&&i.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:s.id})},RETRY_ITEM_LOAD:rt(i,s=>{s.retryLoad()}),REQUEST_ITEM_PREPARE:rt(i,(s,o,f)=>{e("REQUEST_PREPARE_OUTPUT",{query:s.id,item:s,success:u=>{e("DID_PREPARE_OUTPUT",{id:s.id,file:u}),o({file:s,output:u})},failure:f},!0)}),REQUEST_ITEM_PROCESSING:rt(i,(s,o,f)=>{if(!(s.status===pe.IDLE||s.status===pe.PROCESSING_ERROR)){const g=()=>e("REQUEST_ITEM_PROCESSING",{query:s,success:o,failure:f}),p=()=>document.hidden?g():setTimeout(g,32);s.status===pe.PROCESSING_COMPLETE||s.status===pe.PROCESSING_REVERT_ERROR?s.revert(Mn(i.options.server.url,i.options.server.revert),t("GET_FORCE_REVERT")).then(p).catch(()=>{}):s.status===pe.PROCESSING&&s.abortProcessing().then(p);return}s.status!==pe.PROCESSING_QUEUED&&(s.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:s.id}),e("PROCESS_ITEM",{query:s,success:o,failure:f},!0))}),PROCESS_ITEM:rt(i,(s,o,f)=>{const u=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",pe.PROCESSING).length===u){i.processingQueue.push({id:s.id,success:o,failure:f});return}if(s.status===pe.PROCESSING)return;const p=()=>{const E=i.processingQueue.shift();if(!E)return;const{id:T,success:y,failure:A}=E,R=$t(i.items,T);if(!R||R.archived){p();return}e("PROCESS_ITEM",{query:T,success:y,failure:A},!0)};s.onOnce("process-complete",()=>{o(Qe(s)),p();const E=i.options.server;if(i.options.instantUpload&&s.origin===Be.LOCAL&&kt(E.remove)){const A=()=>{};s.origin=Be.LIMBO,i.options.server.remove(s.source,A,A)}t("GET_ITEMS_BY_STATUS",pe.PROCESSING_COMPLETE).length===i.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),s.onOnce("process-error",E=>{f({error:E,file:Qe(s)}),p()});const I=i.options;s.process(Vc(Fc(I.server.url,I.server.process,I.name,{chunkTransferId:s.transferId,chunkServer:I.server.patch,chunkUploads:I.chunkUploads,chunkForce:I.chunkForce,chunkSize:I.chunkSize,chunkRetryDelays:I.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(E,T,y)=>{ut("PREPARE_OUTPUT",E,{query:t,item:s}).then(A=>{e("DID_PREPARE_OUTPUT",{id:s.id,file:A}),T(A)}).catch(y)})}),RETRY_ITEM_PROCESSING:rt(i,s=>{e("REQUEST_ITEM_PROCESSING",{query:s})}),REQUEST_REMOVE_ITEM:rt(i,s=>{Rs(t("GET_BEFORE_REMOVE_FILE"),Qe(s)).then(o=>{o&&e("REMOVE_ITEM",{query:s})})}),RELEASE_ITEM:rt(i,s=>{s.release()}),REMOVE_ITEM:rt(i,(s,o,f,u)=>{const g=()=>{const I=s.id;Ts(i.items,I).archive(),e("DID_REMOVE_ITEM",{error:null,id:I,item:s}),zi(e,i),o(Qe(s))},p=i.options.server;s.origin===Be.LOCAL&&p&&kt(p.remove)&&u.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:s.id}),p.remove(s.source,()=>g(),I=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:s.id,error:Ce("error",0,I,null),status:{main:Zn(i.options.labelFileRemoveError)(I),sub:i.options.labelTapToRetry}})})):((u.revert&&s.origin!==Be.LOCAL&&s.serverId!==null||i.options.chunkUploads&&s.file.size>i.options.chunkSize||i.options.chunkUploads&&i.options.chunkForce)&&s.revert(Mn(i.options.server.url,i.options.server.revert),t("GET_FORCE_REVERT")),g())}),ABORT_ITEM_LOAD:rt(i,s=>{s.abortLoad()}),ABORT_ITEM_PROCESSING:rt(i,s=>{if(s.serverId){e("REVERT_ITEM_PROCESSING",{id:s.id});return}s.abortProcessing().then(()=>{i.options.instantUpload&&e("REMOVE_ITEM",{query:s.id})})}),REQUEST_REVERT_ITEM_PROCESSING:rt(i,s=>{if(!i.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:s});return}const o=g=>{g&&e("REVERT_ITEM_PROCESSING",{query:s})},f=t("GET_BEFORE_REMOVE_FILE");if(!f)return o(!0);const u=f(Qe(s));if(u==null)return o(!0);if(typeof u=="boolean")return o(u);typeof u.then=="function"&&u.then(o)}),REVERT_ITEM_PROCESSING:rt(i,s=>{s.revert(Mn(i.options.server.url,i.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(i.options.instantUpload||qc(s))&&e("REMOVE_ITEM",{query:s.id})}).catch(()=>{})}),SET_OPTIONS:({options:s})=>{const o=Object.keys(s),f=jc.filter(g=>o.includes(g));[...f,...Object.keys(s).filter(g=>!f.includes(g))].forEach(g=>{e(`SET_${Ii(g,"_").toUpperCase()}`,{value:s[g]})})}}),jc=["server"],pr=e=>e,St=e=>document.createElement(e),Le=(e,t)=>{let i=e.childNodes[0];i?t!==i.nodeValue&&(i.nodeValue=t):(i=document.createTextNode(t),e.appendChild(i))},As=(e,t,i,s)=>{const o=(s%360-90)*Math.PI/180;return{x:e+i*Math.cos(o),y:t+i*Math.sin(o)}},Yc=(e,t,i,s,o,f)=>{const u=As(e,t,i,o),g=As(e,t,i,s);return["M",u.x,u.y,"A",i,i,0,f,0,g.x,g.y].join(" ")},Xc=(e,t,i,s,o)=>{let f=1;return o>s&&o-s<=.5&&(f=0),s>o&&s-o>=.5&&(f=0),Yc(e,t,i,Math.min(.9999,s)*360,Math.min(.9999,o)*360,f)},Zc=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const i=ui("svg");e.ref.path=ui("path",{"stroke-width":2,"stroke-linecap":"round"}),i.appendChild(e.ref.path),e.ref.svg=i,e.appendChild(i)},Qc=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const i=parseInt(Ge(e.ref.path,"stroke-width"),10),s=e.rect.element.width*.5;let o=0,f=0;t.spin?(o=0,f=.5):(o=0,f=t.progress);const u=Xc(s,s,s-i,o,f);Ge(e.ref.path,"d",u),Ge(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},bs=Pe({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:Zc,write:Qc,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),Kc=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},Jc=({root:e,props:t})=>{const{isDisabled:i}=t,s=e.query("GET_DISABLED")||t.opacity===0;s&&!i?(t.isDisabled=!0,Ge(e.element,"disabled","disabled")):!s&&i&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},Oo=Pe({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:Kc,write:Jc}),Do=(e,t=".",i=1e3,s={})=>{const{labelBytes:o="bytes",labelKilobytes:f="KB",labelMegabytes:u="MB",labelGigabytes:g="GB"}=s;e=Math.round(Math.abs(e));const p=i,I=i*i,E=i*i*i;return e<p?`${e} ${o}`:e<I?`${Math.floor(e/p)} ${f}`:e<E?`${vs(e/I,1,t)} ${u}`:`${vs(e/E,2,t)} ${g}`},vs=(e,t,i)=>e.toFixed(t).split(".").filter(s=>s!=="0").join(i),eu=({root:e,props:t})=>{const i=St("span");i.className="filepond--file-info-main",Ge(i,"aria-hidden","true"),e.appendChild(i),e.ref.fileName=i;const s=St("span");s.className="filepond--file-info-sub",e.appendChild(s),e.ref.fileSize=s,Le(s,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),Le(i,pr(e.query("GET_ITEM_NAME",t.id)))},nr=({root:e,props:t})=>{Le(e.ref.fileSize,Do(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),Le(e.ref.fileName,pr(e.query("GET_ITEM_NAME",t.id)))},ws=({root:e,props:t})=>{if(pn(e.query("GET_ITEM_SIZE",t.id))){nr({root:e,props:t});return}Le(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},tu=Pe({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:ze({DID_LOAD_ITEM:nr,DID_UPDATE_ITEM_META:nr,DID_THROW_ITEM_LOAD_ERROR:ws,DID_THROW_ITEM_INVALID:ws}),didCreateView:e=>{Yt("CREATE_VIEW",{...e,view:e})},create:eu,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),Mo=e=>Math.round(e*100),nu=({root:e})=>{const t=St("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const i=St("span");i.className="filepond--file-status-sub",e.appendChild(i),e.ref.sub=i,Co({root:e,action:{progress:null}})},Co=({root:e,action:t})=>{const i=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${Mo(t.progress)}%`;Le(e.ref.main,i),Le(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},iu=({root:e,action:t})=>{const i=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${Mo(t.progress)}%`;Le(e.ref.main,i),Le(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},ru=({root:e})=>{Le(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),Le(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},su=({root:e})=>{Le(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),Le(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},ou=({root:e})=>{Le(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),Le(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},Ss=({root:e})=>{Le(e.ref.main,""),Le(e.ref.sub,"")},Cn=({root:e,action:t})=>{Le(e.ref.main,t.status.main),Le(e.ref.sub,t.status.sub)},au=Pe({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:ze({DID_LOAD_ITEM:Ss,DID_REVERT_ITEM_PROCESSING:Ss,DID_REQUEST_ITEM_PROCESSING:ru,DID_ABORT_ITEM_PROCESSING:su,DID_COMPLETE_ITEM_PROCESSING:ou,DID_UPDATE_ITEM_PROCESS_PROGRESS:iu,DID_UPDATE_ITEM_LOAD_PROGRESS:Co,DID_THROW_ITEM_LOAD_ERROR:Cn,DID_THROW_ITEM_INVALID:Cn,DID_THROW_ITEM_PROCESSING_ERROR:Cn,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Cn,DID_THROW_ITEM_REMOVE_ERROR:Cn}),didCreateView:e=>{Yt("CREATE_VIEW",{...e,view:e})},create:nu,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),ir={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},rr=[];Me(ir,e=>{rr.push(e)});const Je=e=>{if(sr(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},lu=e=>e.ref.buttonAbortItemLoad.rect.element.width,Qn=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),cu=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),uu=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),fu=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),sr=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),du={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:uu},processProgressIndicator:{opacity:0,align:fu},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},Os={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Je},status:{translateX:Je}},Yi={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},cn={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:Je},status:{translateX:Je,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:Je},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:sr},info:{translateX:Je},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:sr},buttonRemoveItem:{opacity:1},info:{translateX:Je},status:{opacity:1,translateX:Je}},DID_LOAD_ITEM:Os,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:Je},status:{translateX:Je}},DID_START_ITEM_PROCESSING:Yi,DID_REQUEST_ITEM_PROCESSING:Yi,DID_UPDATE_ITEM_PROCESS_PROGRESS:Yi,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:Je}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:Je},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:Os},hu=Pe({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),pu=({root:e,props:t})=>{const i=Object.keys(ir).reduce((R,v)=>(R[v]={...ir[v]},R),{}),{id:s}=t,o=e.query("GET_ALLOW_REVERT"),f=e.query("GET_ALLOW_REMOVE"),u=e.query("GET_ALLOW_PROCESS"),g=e.query("GET_INSTANT_UPLOAD"),p=e.query("IS_ASYNC"),I=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let E;p?u&&!o?E=R=>!/RevertItemProcessing/.test(R):!u&&o?E=R=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(R):!u&&!o&&(E=R=>!/Process/.test(R)):E=R=>!/Process/.test(R);const T=E?rr.filter(E):rr.concat();if(g&&o&&(i.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",i.RevertItemProcessing.icon="GET_ICON_REMOVE"),p&&!o){const R=cn.DID_COMPLETE_ITEM_PROCESSING;R.info.translateX=cu,R.info.translateY=Qn,R.status.translateY=Qn,R.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(p&&!u&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(R=>{cn[R].status.translateY=Qn}),cn.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=lu),I&&o){i.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const R=cn.DID_COMPLETE_ITEM_PROCESSING;R.info.translateX=Je,R.status.translateY=Qn,R.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}f||(i.RemoveItem.disabled=!0),Me(i,(R,v)=>{const C=e.createChildView(Oo,{label:e.query(v.label),icon:e.query(v.icon),opacity:0});T.includes(R)&&e.appendChildView(C),v.disabled&&(C.element.setAttribute("disabled","disabled"),C.element.setAttribute("hidden","hidden")),C.element.dataset.align=e.query(`GET_STYLE_${v.align}`),C.element.classList.add(v.className),C.on("click",M=>{M.stopPropagation(),!v.disabled&&e.dispatch(v.action,{query:s})}),e.ref[`button${R}`]=C}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(hu)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(tu,{id:s})),e.ref.status=e.appendChildView(e.createChildView(au,{id:s}));const y=e.appendChildView(e.createChildView(bs,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));y.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=y;const A=e.appendChildView(e.createChildView(bs,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));A.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=A,e.ref.activeStyles=[]},gu=({root:e,actions:t,props:i})=>{Eu({root:e,actions:t,props:i});let s=t.concat().filter(o=>/^DID_/.test(o.type)).reverse().find(o=>cn[o.type]);if(s){e.ref.activeStyles=[];const o=cn[s.type];Me(du,(f,u)=>{const g=e.ref[f];Me(u,(p,I)=>{const E=o[f]&&typeof o[f][p]<"u"?o[f][p]:I;e.ref.activeStyles.push({control:g,key:p,value:E})})})}e.ref.activeStyles.forEach(({control:o,key:f,value:u})=>{o[f]=typeof u=="function"?u(e):u})},Eu=ze({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),mu=Pe({create:pu,write:gu,didCreateView:e=>{Yt("CREATE_VIEW",{...e,view:e})},name:"file"}),Iu=({root:e,props:t})=>{e.ref.fileName=St("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(mu,{id:t.id})),e.ref.data=!1},Tu=({root:e,props:t})=>{Le(e.ref.fileName,pr(e.query("GET_ITEM_NAME",t.id)))},_u=Pe({create:Iu,ignoreRect:!0,write:ze({DID_LOAD_ITEM:Tu}),didCreateView:e=>{Yt("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),Ds={type:"spring",damping:.6,mass:7},yu=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:Ds},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:Ds},styles:["translateY"]}}].forEach(i=>{Ru(e,i,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},Ru=(e,t,i)=>{const s=Pe({name:`panel-${t.name} filepond--${i}`,mixins:t.mixins,ignoreRectUpdate:!0}),o=e.createChildView(s,t.props);e.ref[t.name]=e.appendChildView(o)},Au=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=ho(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const i=e.ref.top.rect.element,s=e.ref.bottom.rect.element,o=Math.max(i.height+s.height,t.height);e.ref.center.translateY=i.height,e.ref.center.scaleY=(o-i.height-s.height)/100,e.ref.bottom.translateY=o-s.height},Lo=Pe({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:Au,create:yu,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),bu=e=>{const t=e.map(s=>s.id);let i;return{setIndex:s=>{i=s},getIndex:()=>i,getItemIndex:s=>t.indexOf(s.id)}},Ms={type:"spring",stiffness:.75,damping:.45,mass:10},Cs="spring",Ls={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},vu=({root:e,props:t})=>{if(e.ref.handleClick=s=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(_u,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(Lo,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const i=s=>{if(!s.isPrimary)return;let o=!1;const f={x:s.pageX,y:s.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:s.offsetX,y:s.offsetY};const u=bu(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:u});const g=T=>{if(!T.isPrimary)return;T.stopPropagation(),T.preventDefault(),t.dragOffset={x:T.pageX-f.x,y:T.pageY-f.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!o&&(o=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:u})},p=T=>{T.isPrimary&&(t.dragOffset={x:T.pageX-f.x,y:T.pageY-f.y},E())},I=()=>{E()},E=()=>{document.removeEventListener("pointercancel",I),document.removeEventListener("pointermove",g),document.removeEventListener("pointerup",p),e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:u}),o&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0)};document.addEventListener("pointercancel",I),document.addEventListener("pointermove",g),document.addEventListener("pointerup",p)};e.element.addEventListener("pointerdown",i)},wu=ze({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),Su=ze({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:i,shouldOptimize:s})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let o=t.concat().filter(u=>/^DID_/.test(u.type)).reverse().find(u=>Ls[u.type]);o&&o.type!==i.currentState&&(i.currentState=o.type,e.element.dataset.filepondItemState=Ls[i.currentState]||"");const f=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");f?s||(e.height=e.rect.element.width*f):(wu({root:e,actions:t,props:i}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),s&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),Ou=Pe({create:vu,write:Su,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:Cs,scaleY:Cs,translateX:Ms,translateY:Ms,opacity:{type:"tween",duration:150}}}});var gr=(e,t)=>Math.max(1,Math.floor((e+1)/t));const Er=(e,t,i)=>{if(!i)return;const s=e.rect.element.width,o=t.length;let f=null;if(o===0||i.top<t[0].rect.element.top)return-1;const g=t[0].rect.element,p=g.marginLeft+g.marginRight,I=g.width+p,E=gr(s,I);if(E===1){for(let A=0;A<o;A++){const R=t[A],v=R.rect.outer.top+R.rect.element.height*.5;if(i.top<v)return A}return o}const T=g.marginTop+g.marginBottom,y=g.height+T;for(let A=0;A<o;A++){const R=A%E,v=Math.floor(A/E),C=R*I,M=v*y,O=M-g.marginTop,L=C+I,x=M+y+g.marginBottom;if(i.top<x&&i.top>O){if(i.left<L)return A;A!==o-1?f=A:f=null}}return f!==null?f:o},Kn={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)}},Du=({root:e})=>{Ge(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},Mu=({root:e,action:t})=>{const{id:i,index:s,interactionMethod:o}=t;e.ref.addIndex=s;const f=Date.now();let u=f,g=1;if(o!==at.NONE){g=0;const p=e.query("GET_ITEM_INSERT_INTERVAL"),I=f-e.ref.lastItemSpanwDate;u=I<p?f+(p-I):f}e.ref.lastItemSpanwDate=u,e.appendChildView(e.createChildView(Ou,{spawnDate:u,id:i,opacity:g,interactionMethod:o}),s)},xs=(e,t,i,s=0,o=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=i,Date.now()>e.spawnDate&&(e.opacity===0&&Cu(e,t,i,s,o),e.scaleX=1,e.scaleY=1,e.opacity=1))},Cu=(e,t,i,s,o)=>{e.interactionMethod===at.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=i):e.interactionMethod===at.DROP?(e.translateX=null,e.translateX=t-s*20,e.translateY=null,e.translateY=i-o*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===at.BROWSE?(e.translateY=null,e.translateY=i-30):e.interactionMethod===at.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},Lu=({root:e,action:t})=>{const{id:i}=t,s=e.childViews.find(o=>o.id===i);s&&(s.scaleX=.9,s.scaleY=.9,s.opacity=0,s.markedForRemoval=!0)},Xi=e=>e.rect.element.height+e.rect.element.marginBottom+e.rect.element.marginTop,xu=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,Pu=({root:e,action:t})=>{const{id:i,dragState:s}=t,o=e.query("GET_ITEM",{id:i}),f=e.childViews.find(C=>C.id===i),u=e.childViews.length,g=s.getItemIndex(o);if(!f)return;const p={x:f.dragOrigin.x+f.dragOffset.x+f.dragCenter.x,y:f.dragOrigin.y+f.dragOffset.y+f.dragCenter.y},I=Xi(f),E=xu(f);let T=Math.floor(e.rect.outer.width/E);T>u&&(T=u);const y=Math.floor(u/T+1);Kn.setHeight=I*y,Kn.setWidth=E*T;var A={y:Math.floor(p.y/I),x:Math.floor(p.x/E),getGridIndex:function(){return p.y>Kn.getHeight||p.y<0||p.x>Kn.getWidth||p.x<0?g:this.y*T+this.x},getColIndex:function(){const M=e.query("GET_ACTIVE_ITEMS"),O=e.childViews.filter(Q=>Q.rect.element.height),L=M.map(Q=>O.find(Y=>Y.id===Q.id)),x=L.findIndex(Q=>Q===f),V=Xi(f),j=L.length;let l=j,F=0,G=0,ee=0;for(let Q=0;Q<j;Q++)if(F=Xi(L[Q]),ee=G,G=ee+F,p.y<G){if(x>Q){if(p.y<ee+V){l=Q;break}continue}l=Q;break}return l}};const R=T>1?A.getGridIndex():A.getColIndex();e.dispatch("MOVE_ITEM",{query:f,index:R});const v=s.getIndex();if(v===void 0||v!==R){if(s.setIndex(R),v===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:g,target:R})}},Nu=ze({DID_ADD_ITEM:Mu,DID_REMOVE_ITEM:Lu,DID_DRAG_ITEM:Pu}),Gu=({root:e,props:t,actions:i,shouldOptimize:s})=>{Nu({root:e,props:t,actions:i});const{dragCoordinates:o}=t,f=e.rect.element.width,u=e.childViews.filter(L=>L.rect.element.height),g=e.query("GET_ACTIVE_ITEMS").map(L=>u.find(x=>x.id===L.id)).filter(L=>L),p=o?Er(e,g,o):null,I=e.ref.addIndex||null;e.ref.addIndex=null;let E=0,T=0,y=0;if(g.length===0)return;const A=g[0].rect.element,R=A.marginTop+A.marginBottom,v=A.marginLeft+A.marginRight,C=A.width+v,M=A.height+R,O=gr(f,C);if(O===1){let L=0,x=0;g.forEach((V,j)=>{if(p){let G=j-p;G===-2?x=-R*.25:G===-1?x=-R*.75:G===0?x=R*.75:G===1?x=R*.25:x=0}s&&(V.translateX=null,V.translateY=null),V.markedForRemoval||xs(V,0,L+x);let F=(V.rect.element.height+R)*(V.markedForRemoval?V.opacity:1);L+=F})}else{let L=0,x=0;g.forEach((V,j)=>{j===p&&(E=1),j===I&&(y+=1),V.markedForRemoval&&V.opacity<.5&&(T-=1);const l=j+y+E+T,F=l%O,G=Math.floor(l/O),ee=F*C,Q=G*M,Y=Math.sign(ee-L),Z=Math.sign(Q-x);L=ee,x=Q,!V.markedForRemoval&&(s&&(V.translateX=null,V.translateY=null),xs(V,ee,Q,Y,Z))})}},Bu=(e,t)=>t.filter(i=>i.data&&i.data.id?e.id===i.data.id:!0),Fu=Pe({create:Du,write:Gu,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:Bu,mixins:{apis:["dragCoordinates"]}}),Uu=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(Fu)),t.dragCoordinates=null,t.overflowing=!1},Vu=({root:e,props:t,action:i})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:i.position.scopeLeft-e.ref.list.rect.element.left,top:i.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Hu=({props:e})=>{e.dragCoordinates=null},ku=ze({DID_DRAG:Vu,DID_END_DRAG:Hu}),$u=({root:e,props:t,actions:i})=>{if(ku({root:e,props:t,actions:i}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const s=Math.round(t.overflow);s!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=s)}},Wu=Pe({create:Uu,write:$u,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),dt=(e,t,i,s="")=>{i?Ge(e,t,s):e.removeAttribute(t)},qu=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=St("form"),i=e.parentNode,s=e.nextSibling;t.appendChild(e),t.reset(),s?i.insertBefore(e,s):i.appendChild(e)}}},zu=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,Ge(e.element,"name",e.query("GET_NAME")),Ge(e.element,"aria-controls",`filepond--assistant-${t.id}`),Ge(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),xo({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),Po({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),No({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),or({root:e}),Go({root:e,action:{value:e.query("GET_REQUIRED")}}),Bo({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=i=>{if(!e.element.value)return;const s=Array.from(e.element.files).map(o=>(o._relativePath=o.webkitRelativePath,o));setTimeout(()=>{t.onload(s),qu(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},xo=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&dt(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},Po=({root:e,action:t})=>{dt(e.element,"multiple",t.value)},No=({root:e,action:t})=>{dt(e.element,"webkitdirectory",t.value)},or=({root:e})=>{const t=e.query("GET_DISABLED"),i=e.query("GET_ALLOW_BROWSE"),s=t||!i;dt(e.element,"disabled",s)},Go=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&dt(e.element,"required",!0):dt(e.element,"required",!1)},Bo=({root:e,action:t})=>{dt(e.element,"capture",!!t.value,t.value===!0?"":t.value)},Ps=({root:e})=>{const{element:t}=e;if(e.query("GET_TOTAL_ITEMS")>0){dt(t,"required",!1),dt(t,"name",!1);const i=e.query("GET_ACTIVE_ITEMS");let s=!1;for(let o=0;o<i.length;o++)i[o].status===pe.LOAD_ERROR&&(s=!0);e.element.setCustomValidity(s?e.query("GET_LABEL_INVALID_FIELD"):"")}else dt(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&dt(t,"required",!0)},ju=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},Yu=Pe({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:zu,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:ze({DID_LOAD_ITEM:Ps,DID_REMOVE_ITEM:Ps,DID_THROW_ITEM_INVALID:ju,DID_SET_DISABLED:or,DID_SET_ALLOW_BROWSE:or,DID_SET_ALLOW_DIRECTORIES_ONLY:No,DID_SET_ALLOW_MULTIPLE:Po,DID_SET_ACCEPTED_FILE_TYPES:xo,DID_SET_CAPTURE_METHOD:Bo,DID_SET_REQUIRED:Go})}),Ns={ENTER:13,SPACE:32},Xu=({root:e,props:t})=>{const i=St("label");Ge(i,"for",`filepond--browser-${t.id}`),Ge(i,"id",`filepond--drop-label-${t.id}`),e.ref.handleKeyDown=s=>{(s.keyCode===Ns.ENTER||s.keyCode===Ns.SPACE)&&(s.preventDefault(),e.ref.label.click())},e.ref.handleClick=s=>{s.target===i||i.contains(s.target)||e.ref.label.click()},i.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Fo(i,t.caption),e.appendChild(i),e.ref.label=i},Fo=(e,t)=>{e.innerHTML=t;const i=e.querySelector(".filepond--label-action");return i&&Ge(i,"tabindex","0"),t},Zu=Pe({name:"drop-label",ignoreRect:!0,create:Xu,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:ze({DID_SET_LABEL_IDLE:({root:e,action:t})=>{Fo(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),Qu=Pe({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),Ku=({root:e})=>{const t=e.rect.element.width*.5,i=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(Qu,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:i}))},Ju=({root:e,action:t})=>{if(!e.ref.blob){Ku({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},ef=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},tf=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},nf=({root:e,props:t,actions:i})=>{rf({root:e,props:t,actions:i});const{blob:s}=e.ref;i.length===0&&s&&s.opacity===0&&(e.removeChildView(s),e.ref.blob=null)},rf=ze({DID_DRAG:Ju,DID_DROP:tf,DID_END_DRAG:ef}),sf=Pe({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:nf}),Uo=(e,t)=>{try{const i=new DataTransfer;t.forEach(s=>{s instanceof File?i.items.add(s):i.items.add(new File([s],s.name,{type:s.type}))}),e.files=i.files}catch{return!1}return!0},of=({root:e})=>{e.ref.fields={};const t=document.createElement("legend");t.textContent="Files",e.element.appendChild(t)},yi=(e,t)=>e.ref.fields[t],mr=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},Gs=({root:e})=>mr(e),af=({root:e,action:t})=>{const o=!(e.query("GET_ITEM",t.id).origin===Be.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),f=St("input");f.type=o?"file":"hidden",f.name=e.query("GET_NAME"),e.ref.fields[t.id]=f,mr(e)},lf=({root:e,action:t})=>{const i=yi(e,t.id);if(!i||(t.serverFileReference!==null&&(i.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const s=e.query("GET_ITEM",t.id);Uo(i,[s.file])},cf=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const i=yi(e,t.id);i&&Uo(i,[t.file])},0)},uf=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},ff=({root:e,action:t})=>{const i=yi(e,t.id);i&&(i.parentNode&&i.parentNode.removeChild(i),delete e.ref.fields[t.id])},df=({root:e,action:t})=>{const i=yi(e,t.id);i&&(t.value===null?i.removeAttribute("value"):i.type!="file"&&(i.value=t.value),mr(e))},hf=ze({DID_SET_DISABLED:uf,DID_ADD_ITEM:af,DID_LOAD_ITEM:lf,DID_REMOVE_ITEM:ff,DID_DEFINE_VALUE:df,DID_PREPARE_OUTPUT:cf,DID_REORDER_ITEMS:Gs,DID_SORT_ITEMS:Gs}),pf=Pe({tag:"fieldset",name:"data",create:of,write:hf,ignoreRect:!0}),gf=e=>"getRootNode"in e?e.getRootNode():document,Ef=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],mf=["css","csv","html","txt"],If={zip:"zip|compressed",epub:"application/epub+zip"},Vo=(e="")=>(e=e.toLowerCase(),Ef.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):mf.includes(e)?"text/"+e:If[e]||""),Ir=e=>new Promise((t,i)=>{const s=wf(e);if(s.length&&!Tf(e))return t(s);_f(e).then(t)}),Tf=e=>e.files?e.files.length>0:!1,_f=e=>new Promise((t,i)=>{const s=(e.items?Array.from(e.items):[]).filter(o=>yf(o)).map(o=>Rf(o));if(!s.length){t(e.files?Array.from(e.files):[]);return}Promise.all(s).then(o=>{const f=[];o.forEach(u=>{f.push.apply(f,u)}),t(f.filter(u=>u).map(u=>(u._relativePath||(u._relativePath=u.webkitRelativePath),u)))}).catch(console.error)}),yf=e=>{if(Ho(e)){const t=Tr(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},Rf=e=>new Promise((t,i)=>{if(vf(e)){Af(Tr(e)).then(t).catch(i);return}t([e.getAsFile()])}),Af=e=>new Promise((t,i)=>{const s=[];let o=0,f=0;const u=()=>{f===0&&o===0&&t(s)},g=p=>{o++;const I=p.createReader(),E=()=>{I.readEntries(T=>{if(T.length===0){o--,u();return}T.forEach(y=>{y.isDirectory?g(y):(f++,y.file(A=>{const R=bf(A);y.fullPath&&(R._relativePath=y.fullPath),s.push(R),f--,u()}))}),E()},i)};E()};g(e)}),bf=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,i=e.name,s=Vo(_i(e.name));return s.length&&(e=e.slice(0,e.size,s),e.name=i,e.lastModifiedDate=t),e},vf=e=>Ho(e)&&(Tr(e)||{}).isDirectory,Ho=e=>"webkitGetAsEntry"in e,Tr=e=>e.webkitGetAsEntry(),wf=e=>{let t=[];try{if(t=Of(e),t.length)return t;t=Sf(e)}catch{}return t},Sf=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},Of=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const i=t.match(/src\s*=\s*"(.+?)"/);if(i)return[i[1]]}return[]},di=[],jt=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),Df=(e,t,i)=>{const s=Mf(t),o={element:e,filterElement:i,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return o.destroy=s.addListener(o),o},Mf=e=>{const t=di.find(s=>s.element===e);if(t)return t;const i=Cf(e);return di.push(i),i},Cf=e=>{const t=[],i={dragenter:xf,dragover:Pf,dragleave:Gf,drop:Nf},s={};Me(i,(f,u)=>{s[f]=u(e,t),e.addEventListener(f,s[f],!1)});const o={element:e,addListener:f=>(t.push(f),()=>{t.splice(t.indexOf(f),1),t.length===0&&(di.splice(di.indexOf(o),1),Me(i,u=>{e.removeEventListener(u,s[u],!1)}))})};return o},Lf=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),_r=(e,t)=>{const i=gf(t),s=Lf(i,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return s===t||t.contains(s)};let ko=null;const Jn=(e,t)=>{try{e.dropEffect=t}catch{}},xf=(e,t)=>i=>{i.preventDefault(),ko=i.target,t.forEach(s=>{const{element:o,onenter:f}=s;_r(i,o)&&(s.state="enter",f(jt(i)))})},Pf=(e,t)=>i=>{i.preventDefault();const s=i.dataTransfer;Ir(s).then(o=>{let f=!1;t.some(u=>{const{filterElement:g,element:p,onenter:I,onexit:E,ondrag:T,allowdrop:y}=u;Jn(s,"copy");const A=y(o);if(!A){Jn(s,"none");return}if(_r(i,p)){if(f=!0,u.state===null){u.state="enter",I(jt(i));return}if(u.state="over",g&&!A){Jn(s,"none");return}T(jt(i))}else g&&!f&&Jn(s,"none"),u.state&&(u.state=null,E(jt(i)))})})},Nf=(e,t)=>i=>{i.preventDefault();const s=i.dataTransfer;Ir(s).then(o=>{t.forEach(f=>{const{filterElement:u,element:g,ondrop:p,onexit:I,allowdrop:E}=f;if(f.state=null,!(u&&!_r(i,g))){if(!E(o))return I(jt(i));p(jt(i),o)}})})},Gf=(e,t)=>i=>{ko===i.target&&t.forEach(s=>{const{onexit:o}=s;s.state=null,o(jt(i))})},Bf=(e,t,i)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:s,requiresDropOnElement:o,filterItems:f=E=>E}=i,u=Df(e,s?document.documentElement:e,o);let g="",p="";u.allowdrop=E=>t(f(E)),u.ondrop=(E,T)=>{const y=f(T);if(!t(y)){I.ondragend(E);return}p="drag-drop",I.onload(y,E)},u.ondrag=E=>{I.ondrag(E)},u.onenter=E=>{p="drag-over",I.ondragstart(E)},u.onexit=E=>{p="drag-exit",I.ondragend(E)};const I={updateHopperState:()=>{g!==p&&(e.dataset.hopperState=p,g=p)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{u.destroy()}};return I};let ar=!1;const dn=[],$o=e=>{const t=document.activeElement;if(t&&(/textarea|input/i.test(t.nodeName)||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")==="")){let s=!1,o=t;for(;o!==document.body;){if(o.classList.contains("filepond--root")){s=!0;break}o=o.parentNode}if(!s)return}Ir(e.clipboardData).then(s=>{s.length&&dn.forEach(o=>o(s))})},Ff=e=>{dn.includes(e)||(dn.push(e),!ar&&(ar=!0,document.addEventListener("paste",$o)))},Uf=e=>{fr(dn,dn.indexOf(e)),dn.length===0&&(document.removeEventListener("paste",$o),ar=!1)},Vf=()=>{const e=i=>{t.onload(i)},t={destroy:()=>{Uf(e)},onload:()=>{}};return Ff(e),t},Hf=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,Ge(e.element,"role","alert"),Ge(e.element,"aria-live","polite"),Ge(e.element,"aria-relevant","additions")};let Bs=null,Fs=null;const Zi=[],Ri=(e,t)=>{e.element.textContent=t},kf=e=>{e.element.textContent=""},Wo=(e,t,i)=>{const s=e.query("GET_TOTAL_ITEMS");Ri(e,`${i} ${t}, ${s} ${s===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(Fs),Fs=setTimeout(()=>{kf(e)},1500)},qo=e=>e.element.parentNode.contains(document.activeElement),$f=({root:e,action:t})=>{if(!qo(e))return;e.element.textContent="";const i=e.query("GET_ITEM",t.id);Zi.push(i.filename),clearTimeout(Bs),Bs=setTimeout(()=>{Wo(e,Zi.join(", "),e.query("GET_LABEL_FILE_ADDED")),Zi.length=0},750)},Wf=({root:e,action:t})=>{if(!qo(e))return;const i=t.item;Wo(e,i.filename,e.query("GET_LABEL_FILE_REMOVED"))},qf=({root:e,action:t})=>{const s=e.query("GET_ITEM",t.id).filename,o=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");Ri(e,`${s} ${o}`)},Us=({root:e,action:t})=>{const s=e.query("GET_ITEM",t.id).filename,o=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");Ri(e,`${s} ${o}`)},ei=({root:e,action:t})=>{const s=e.query("GET_ITEM",t.id).filename;Ri(e,`${t.status.main} ${s} ${t.status.sub}`)},zf=Pe({create:Hf,ignoreRect:!0,ignoreRectUpdate:!0,write:ze({DID_LOAD_ITEM:$f,DID_REMOVE_ITEM:Wf,DID_COMPLETE_ITEM_PROCESSING:qf,DID_ABORT_ITEM_PROCESSING:Us,DID_REVERT_ITEM_PROCESSING:Us,DID_THROW_ITEM_REMOVE_ERROR:ei,DID_THROW_ITEM_LOAD_ERROR:ei,DID_THROW_ITEM_INVALID:ei,DID_THROW_ITEM_PROCESSING_ERROR:ei}),tag:"span",name:"assistant"}),zo=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),i=>i.charAt(1).toUpperCase()),jo=(e,t=16,i=!0)=>{let s=Date.now(),o=null;return(...f)=>{clearTimeout(o);const u=Date.now()-s,g=()=>{s=Date.now(),e(...f)};u<t?i||(o=setTimeout(g,t-u)):g()}},jf=1e6,hi=e=>e.preventDefault(),Yf=({root:e,props:t})=>{const i=e.query("GET_ID");i&&(e.element.id=i);const s=e.query("GET_CLASS_NAME");s&&s.split(" ").filter(p=>p.length).forEach(p=>{e.element.classList.add(p)}),e.ref.label=e.appendChildView(e.createChildView(Zu,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(Wu,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(Lo,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(zf,{...t})),e.ref.data=e.appendChildView(e.createChildView(pf,{...t})),e.ref.measure=St("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(p=>!wt(p.value)).map(({name:p,value:I})=>{e.element.dataset[p]=I}),e.ref.widthPrevious=null,e.ref.widthUpdated=jo(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const o=window.matchMedia("(pointer: fine) and (hover: hover)").matches,f="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&f&&!o&&(e.element.addEventListener("touchmove",hi,{passive:!1}),e.element.addEventListener("gesturestart",hi));const u=e.query("GET_CREDITS");if(u.length===2){const p=document.createElement("a");p.className="filepond--credits",p.href=u[0],p.tabIndex=-1,p.target="_blank",p.rel="noopener noreferrer nofollow",p.textContent=u[1],e.element.appendChild(p),e.ref.credits=p}},Xf=({root:e,props:t,actions:i})=>{if(ed({root:e,props:t,actions:i}),i.filter(j=>/^DID_SET_STYLE_/.test(j.type)).filter(j=>!wt(j.data.value)).map(({type:j,data:l})=>{const F=zo(j.substring(8).toLowerCase(),"_");e.element.dataset[F]=l.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let s=e.ref.bounds;s||(s=e.ref.bounds=Kf(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:o,label:f,list:u,panel:g}=e.ref;o&&o.updateHopperState();const p=e.query("GET_PANEL_ASPECT_RATIO"),I=e.query("GET_ALLOW_MULTIPLE"),E=e.query("GET_TOTAL_ITEMS"),T=I?e.query("GET_MAX_FILES")||jf:1,y=E===T,A=i.find(j=>j.type==="DID_ADD_ITEM");if(y&&A){const j=A.data.interactionMethod;f.opacity=0,I?f.translateY=-40:j===at.API?f.translateX=40:j===at.BROWSE?f.translateY=40:f.translateY=30}else y||(f.opacity=1,f.translateX=0,f.translateY=0);const R=Zf(e),v=Qf(e),C=f.rect.element.height,M=!I||y?0:C,O=y?u.rect.element.marginTop:0,L=E===0?0:u.rect.element.marginBottom,x=M+O+v.visual+L,V=M+O+v.bounds+L;if(u.translateY=Math.max(0,M-u.rect.element.marginTop)-R.top,p){const j=e.rect.element.width,l=j*p;p!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=p,e.ref.updateHistory=[]);const F=e.ref.updateHistory;F.push(j);const G=2;if(F.length>G*2){const Q=F.length,Y=Q-10;let Z=0;for(let W=Q;W>=Y;W--)if(F[W]===F[W-2]&&Z++,Z>=G)return}g.scalable=!1,g.height=l;const ee=l-M-(L-R.bottom)-(y?O:0);v.visual>ee?u.overflow=ee:u.overflow=null,e.height=l}else if(s.fixedHeight){g.scalable=!1;const j=s.fixedHeight-M-(L-R.bottom)-(y?O:0);v.visual>j?u.overflow=j:u.overflow=null}else if(s.cappedHeight){const j=x>=s.cappedHeight,l=Math.min(s.cappedHeight,x);g.scalable=!0,g.height=j?l:l-R.top-R.bottom;const F=l-M-(L-R.bottom)-(y?O:0);x>s.cappedHeight&&v.visual>F?u.overflow=F:u.overflow=null,e.height=Math.min(s.cappedHeight,V-R.top-R.bottom)}else{const j=E>0?R.top+R.bottom:0;g.scalable=!0,g.height=Math.max(C,x-j),e.height=Math.max(C,V-j)}e.ref.credits&&g.heightCurrent&&(e.ref.credits.style.transform=`translateY(${g.heightCurrent}px)`)},Zf=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},Qf=e=>{let t=0,i=0;const s=e.ref.list,o=s.childViews[0],f=o.childViews.filter(O=>O.rect.element.height),u=e.query("GET_ACTIVE_ITEMS").map(O=>f.find(L=>L.id===O.id)).filter(O=>O);if(u.length===0)return{visual:t,bounds:i};const g=o.rect.element.width,p=Er(o,u,s.dragCoordinates),I=u[0].rect.element,E=I.marginTop+I.marginBottom,T=I.marginLeft+I.marginRight,y=I.width+T,A=I.height+E,R=typeof p<"u"&&p>=0?1:0,v=u.find(O=>O.markedForRemoval&&O.opacity<.45)?-1:0,C=u.length+R+v,M=gr(g,y);return M===1?u.forEach(O=>{const L=O.rect.element.height+E;i+=L,t+=L*O.opacity}):(i=Math.ceil(C/M)*A,t=i),{visual:t,bounds:i}},Kf=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},yr=(e,t)=>{const i=e.query("GET_ALLOW_REPLACE"),s=e.query("GET_ALLOW_MULTIPLE"),o=e.query("GET_TOTAL_ITEMS");let f=e.query("GET_MAX_FILES");const u=t.length;return!s&&u>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ce("warning",0,"Max files")}),!0):(f=s?f:1,!s&&i?!1:pn(f)&&o+u>f?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:Ce("warning",0,"Max files")}),!0):!1)},Jf=(e,t,i)=>{const s=e.childViews[0];return Er(s,t,{left:i.scopeLeft-s.rect.element.left,top:i.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},Vs=e=>{const t=e.query("GET_ALLOW_DROP"),i=e.query("GET_DISABLED"),s=t&&!i;if(s&&!e.ref.hopper){const o=Bf(e.element,f=>{const u=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?f.every(p=>Yt("ALLOW_HOPPER_ITEM",p,{query:e.query}).every(I=>I===!0)&&u(p)):!0},{filterItems:f=>{const u=e.query("GET_IGNORED_FILES");return f.filter(g=>zt(g)?!u.includes(g.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});o.onload=(f,u)=>{const p=e.ref.list.childViews[0].childViews.filter(E=>E.rect.element.height),I=e.query("GET_ACTIVE_ITEMS").map(E=>p.find(T=>T.id===E.id)).filter(E=>E);ut("ADD_ITEMS",f,{dispatch:e.dispatch}).then(E=>{if(yr(e,E))return!1;e.dispatch("ADD_ITEMS",{items:E,index:Jf(e.ref.list,I,u),interactionMethod:at.DROP})}),e.dispatch("DID_DROP",{position:u}),e.dispatch("DID_END_DRAG",{position:u})},o.ondragstart=f=>{e.dispatch("DID_START_DRAG",{position:f})},o.ondrag=jo(f=>{e.dispatch("DID_DRAG",{position:f})}),o.ondragend=f=>{e.dispatch("DID_END_DRAG",{position:f})},e.ref.hopper=o,e.ref.drip=e.appendChildView(e.createChildView(sf))}else!s&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},Hs=(e,t)=>{const i=e.query("GET_ALLOW_BROWSE"),s=e.query("GET_DISABLED"),o=i&&!s;o&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(Yu,{...t,onload:f=>{ut("ADD_ITEMS",f,{dispatch:e.dispatch}).then(u=>{if(yr(e,u))return!1;e.dispatch("ADD_ITEMS",{items:u,index:-1,interactionMethod:at.BROWSE})})}}),0):!o&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},ks=e=>{const t=e.query("GET_ALLOW_PASTE"),i=e.query("GET_DISABLED"),s=t&&!i;s&&!e.ref.paster?(e.ref.paster=Vf(),e.ref.paster.onload=o=>{ut("ADD_ITEMS",o,{dispatch:e.dispatch}).then(f=>{if(yr(e,f))return!1;e.dispatch("ADD_ITEMS",{items:f,index:-1,interactionMethod:at.PASTE})})}):!s&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},ed=ze({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{Hs(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{Vs(e)},DID_SET_ALLOW_PASTE:({root:e})=>{ks(e)},DID_SET_DISABLED:({root:e,props:t})=>{Vs(e),ks(e),Hs(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),td=Pe({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:Yf,write:Xf,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",hi),e.element.removeEventListener("gesturestart",hi)},mixins:{styles:["height"]}}),nd=(e={})=>{let t=null;const i=fi(),s=ml(nc(i),[yc,sc(i)],[zc,rc(i)]);s.dispatch("SET_OPTIONS",{options:e});const o=()=>{document.hidden||s.dispatch("KICK")};document.addEventListener("visibilitychange",o);let f=null,u=!1,g=!1,p=null,I=null;const E=()=>{u||(u=!0),clearTimeout(f),f=setTimeout(()=>{u=!1,p=null,I=null,g&&(g=!1,s.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",E);const T=td(s,{id:ur()});let y=!1,A=!1;const R={_read:()=>{u&&(I=window.innerWidth,p||(p=I),!g&&I!==p&&(s.dispatch("DID_START_RESIZE"),g=!0)),A&&y&&(y=T.element.offsetParent===null),!y&&(T._read(),A=T.rect.element.hidden)},_write:k=>{const q=s.processActionQueue().filter(te=>!/^SET_/.test(te.type));y&&!q.length||(O(q),y=T._write(k,q,g),lc(s.query("GET_ITEMS")),y&&s.processDispatchQueue())}},v=k=>q=>{const te={type:k};if(!q)return te;if(q.hasOwnProperty("error")&&(te.error=q.error?{...q.error}:null),q.status&&(te.status={...q.status}),q.file&&(te.output=q.file),q.source)te.file=q.source;else if(q.item||q.id){const K=q.item?q.item:s.query("GET_ITEM",q.id);te.file=K?Qe(K):null}return q.items&&(te.items=q.items.map(Qe)),/progress/.test(k)&&(te.progress=q.progress),q.hasOwnProperty("origin")&&q.hasOwnProperty("target")&&(te.origin=q.origin,te.target=q.target),te},C={DID_DESTROY:v("destroy"),DID_INIT:v("init"),DID_THROW_MAX_FILES:v("warning"),DID_INIT_ITEM:v("initfile"),DID_START_ITEM_LOAD:v("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:v("addfileprogress"),DID_LOAD_ITEM:v("addfile"),DID_THROW_ITEM_INVALID:[v("error"),v("addfile")],DID_THROW_ITEM_LOAD_ERROR:[v("error"),v("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[v("error"),v("removefile")],DID_PREPARE_OUTPUT:v("preparefile"),DID_START_ITEM_PROCESSING:v("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:v("processfileprogress"),DID_ABORT_ITEM_PROCESSING:v("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:v("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:v("processfiles"),DID_REVERT_ITEM_PROCESSING:v("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[v("error"),v("processfile")],DID_REMOVE_ITEM:v("removefile"),DID_UPDATE_ITEMS:v("updatefiles"),DID_ACTIVATE_ITEM:v("activatefile"),DID_REORDER_ITEMS:v("reorderfiles")},M=k=>{const q={pond:se,...k};delete q.type,T.element.dispatchEvent(new CustomEvent(`FilePond:${k.type}`,{detail:q,bubbles:!0,cancelable:!0,composed:!0}));const te=[];k.hasOwnProperty("error")&&te.push(k.error),k.hasOwnProperty("file")&&te.push(k.file);const K=["type","error","file"];Object.keys(k).filter(ne=>!K.includes(ne)).forEach(ne=>te.push(k[ne])),se.fire(k.type,...te);const de=s.query(`GET_ON${k.type.toUpperCase()}`);de&&de(...te)},O=k=>{k.length&&k.filter(q=>C[q.type]).forEach(q=>{const te=C[q.type];(Array.isArray(te)?te:[te]).forEach(K=>{q.type==="DID_INIT_ITEM"?M(K(q.data)):setTimeout(()=>{M(K(q.data))},0)})})},L=k=>s.dispatch("SET_OPTIONS",{options:k}),x=k=>s.query("GET_ACTIVE_ITEM",k),V=k=>new Promise((q,te)=>{s.dispatch("REQUEST_ITEM_PREPARE",{query:k,success:K=>{q(K)},failure:K=>{te(K)}})}),j=(k,q={})=>new Promise((te,K)=>{G([{source:k,options:q}],{index:q.index}).then(de=>te(de&&de[0])).catch(K)}),l=k=>k.file&&k.id,F=(k,q)=>(typeof k=="object"&&!l(k)&&!q&&(q=k,k=void 0),s.dispatch("REMOVE_ITEM",{...q,query:k}),s.query("GET_ACTIVE_ITEM",k)===null),G=(...k)=>new Promise((q,te)=>{const K=[],de={};if(Ei(k[0]))K.push.apply(K,k[0]),Object.assign(de,k[1]||{});else{const ne=k[k.length-1];typeof ne=="object"&&!(ne instanceof Blob)&&Object.assign(de,k.pop()),K.push(...k)}s.dispatch("ADD_ITEMS",{items:K,index:de.index,interactionMethod:at.API,success:q,failure:te})}),ee=()=>s.query("GET_ACTIVE_ITEMS"),Q=k=>new Promise((q,te)=>{s.dispatch("REQUEST_ITEM_PROCESSING",{query:k,success:K=>{q(K)},failure:K=>{te(K)}})}),Y=(...k)=>{const q=Array.isArray(k[0])?k[0]:k,te=q.length?q:ee();return Promise.all(te.map(V))},Z=(...k)=>{const q=Array.isArray(k[0])?k[0]:k;if(!q.length){const te=ee().filter(K=>!(K.status===pe.IDLE&&K.origin===Be.LOCAL)&&K.status!==pe.PROCESSING&&K.status!==pe.PROCESSING_COMPLETE&&K.status!==pe.PROCESSING_REVERT_ERROR);return Promise.all(te.map(Q))}return Promise.all(q.map(Q))},W=(...k)=>{const q=Array.isArray(k[0])?k[0]:k;let te;typeof q[q.length-1]=="object"?te=q.pop():Array.isArray(k[0])&&(te=k[1]);const K=ee();return q.length?q.map(ne=>Ht(ne)?K[ne]?K[ne].id:null:ne).filter(ne=>ne).map(ne=>F(ne,te)):Promise.all(K.map(ne=>F(ne,te)))},se={...Ti(),...R,...ic(s,i),setOptions:L,addFile:j,addFiles:G,getFile:x,processFile:Q,prepareFile:V,removeFile:F,moveFile:(k,q)=>s.dispatch("MOVE_ITEM",{query:k,index:q}),getFiles:ee,processFiles:Z,removeFiles:W,prepareFiles:Y,sort:k=>s.dispatch("SORT",{compare:k}),browse:()=>{var k=T.element.querySelector("input[type=file]");k&&k.click()},destroy:()=>{se.fire("destroy",T.element),s.dispatch("ABORT_ALL"),T._destroy(),window.removeEventListener("resize",E),document.removeEventListener("visibilitychange",o),s.dispatch("DID_DESTROY")},insertBefore:k=>fs(T.element,k),insertAfter:k=>ds(T.element,k),appendTo:k=>k.appendChild(T.element),replaceElement:k=>{fs(T.element,k),k.parentNode.removeChild(k),t=k},restoreElement:()=>{t&&(ds(t,T.element),T.element.parentNode.removeChild(T.element),t=null)},isAttachedTo:k=>T.element===k||t===k,element:{get:()=>T.element},status:{get:()=>s.query("GET_STATUS")}};return s.dispatch("DID_INIT"),xt(se)},Yo=(e={})=>{const t={};return Me(fi(),(s,o)=>{t[s]=o[0]}),nd({...t,...e})},id=e=>e.charAt(0).toLowerCase()+e.slice(1),rd=e=>zo(e.replace(/^data-/,"")),Xo=(e,t)=>{Me(t,(i,s)=>{Me(e,(o,f)=>{const u=new RegExp(i);if(!u.test(o)||(delete e[o],s===!1))return;if(qe(s)){e[s]=f;return}const p=s.group;Fe(s)&&!e[p]&&(e[p]={}),e[p][id(o.replace(u,""))]=f}),s.mapping&&Xo(e[s.group],s.mapping)})},sd=(e,t={})=>{const i=[];Me(e.attributes,o=>{i.push(e.attributes[o])});const s=i.filter(o=>o.name).reduce((o,f)=>{const u=Ge(e,f.name);return o[rd(f.name)]=u===f.name?!0:u,o},{});return Xo(s,t),s},od=(e,t={})=>{const i={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Yt("SET_ATTRIBUTE_TO_OPTION_MAP",i);const s={...t},o=sd(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,i);Object.keys(o).forEach(u=>{Fe(o[u])?(Fe(s[u])||(s[u]={}),Object.assign(s[u],o[u])):s[u]=o[u]}),s.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(u=>({source:u.value,options:{type:u.dataset.type}})));const f=Yo(s);return e.files&&Array.from(e.files).forEach(u=>{f.addFile(u)}),f.replaceElement(e),f},ad=(...e)=>El(e[0])?od(...e):Yo(...e),ld=["fire","_read","_write"],$s=e=>{const t={};return mo(e,t,ld),t},cd=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(i,s)=>t[s]),ud=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),i=URL.createObjectURL(t),s=new Worker(i);return{transfer:(o,f)=>{},post:(o,f,u)=>{const g=ur();s.onmessage=p=>{p.data.id===g&&f(p.data.message)},s.postMessage({id:g,message:o},u)},terminate:()=>{s.terminate(),URL.revokeObjectURL(i)}}},fd=e=>new Promise((t,i)=>{const s=new Image;s.onload=()=>{t(s)},s.onerror=o=>{i(o)},s.src=e}),Zo=(e,t)=>{const i=e.slice(0,e.size,e.type);return i.lastModifiedDate=e.lastModifiedDate,i.name=t,i},dd=e=>Zo(e,e.name),Ws=[],hd=e=>{if(Ws.includes(e))return;Ws.push(e);const t=e({addFilter:uc,utils:{Type:z,forin:Me,isString:qe,isFile:zt,toNaturalFileSize:Do,replaceInString:cd,getExtensionFromFilename:_i,getFilenameWithoutExtension:wo,guesstimateMimeType:Vo,getFileFromBlob:hn,getFilenameFromURL:Bn,createRoute:ze,createWorker:ud,createView:Pe,createItemAPI:Qe,loadImage:fd,copyFile:dd,renameFile:Zo,createBlob:Ao,applyFilterChain:ut,text:Le,getNumericAspectRatioFromString:_o},views:{fileActionButton:Oo}});fc(t.options)},pd=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",gd=()=>"Promise"in window,Ed=()=>"slice"in Blob.prototype,md=()=>"URL"in window&&"createObjectURL"in window.URL,Id=()=>"visibilityState"in document,Td=()=>"performance"in window,_d=()=>"supports"in(window.CSS||{}),yd=()=>/MSIE|Trident/.test(window.navigator.userAgent),qs=(()=>{const e=uo()&&!pd()&&Id()&&gd()&&Ed()&&md()&&Td()&&(_d()||yd());return()=>e})(),Ct={apps:[]},Rd="filepond",Xt=()=>{};let zs={},li=Xt,Qi=Xt,js=Xt,Ys=Xt,lr=Xt,Xs=Xt,Zs=Xt;if(qs()){kl(()=>{Ct.apps.forEach(i=>i._read())},i=>{Ct.apps.forEach(s=>s._write(i))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:qs,create:li,destroy:Qi,parse:js,find:Ys,registerPlugin:lr,setOptions:Zs}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>Me(fi(),(i,s)=>{zs[i]=s[1]});zs={},t(),li=(...i)=>{const s=ad(...i);return s.on("destroy",Qi),Ct.apps.push(s),$s(s)},Qi=i=>{const s=Ct.apps.findIndex(o=>o.isAttachedTo(i));return s>=0?(Ct.apps.splice(s,1)[0].restoreElement(),!0):!1},js=i=>Array.from(i.querySelectorAll(`.${Rd}`)).filter(f=>!Ct.apps.find(u=>u.isAttachedTo(f))).map(f=>li(f)),Ys=i=>{const s=Ct.apps.find(o=>o.isAttachedTo(i));return s?$s(s):null},lr=(...i)=>{i.forEach(hd),t()},Xs=()=>{const i={};return Me(fi(),(s,o)=>{i[s]=o[0]}),i},Zs=i=>(Fe(i)&&(Ct.apps.forEach(s=>{s.setOptions(i)}),dc(i)),Xs())}const Qo=({addFilter:e,utils:t})=>{const{Type:i,replaceInString:s,toNaturalFileSize:o}=t;return e("ALLOW_HOPPER_ITEM",(f,{query:u})=>{if(!u("GET_ALLOW_FILE_SIZE_VALIDATION"))return!0;const g=u("GET_MAX_FILE_SIZE");if(g!==null&&f.size>g)return!1;const p=u("GET_MIN_FILE_SIZE");return!(p!==null&&f.size<p)}),e("LOAD_FILE",(f,{query:u})=>new Promise((g,p)=>{if(!u("GET_ALLOW_FILE_SIZE_VALIDATION"))return g(f);const I=u("GET_FILE_VALIDATE_SIZE_FILTER");if(I&&!I(f))return g(f);const E=u("GET_MAX_FILE_SIZE");if(E!==null&&f.size>E){p({status:{main:u("GET_LABEL_MAX_FILE_SIZE_EXCEEDED"),sub:s(u("GET_LABEL_MAX_FILE_SIZE"),{filesize:o(E,".",u("GET_FILE_SIZE_BASE"),u("GET_FILE_SIZE_LABELS",u))})}});return}const T=u("GET_MIN_FILE_SIZE");if(T!==null&&f.size<T){p({status:{main:u("GET_LABEL_MIN_FILE_SIZE_EXCEEDED"),sub:s(u("GET_LABEL_MIN_FILE_SIZE"),{filesize:o(T,".",u("GET_FILE_SIZE_BASE"),u("GET_FILE_SIZE_LABELS",u))})}});return}const y=u("GET_MAX_TOTAL_FILE_SIZE");if(y!==null&&u("GET_ACTIVE_ITEMS").reduce((R,v)=>R+v.fileSize,0)>y){p({status:{main:u("GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED"),sub:s(u("GET_LABEL_MAX_TOTAL_FILE_SIZE"),{filesize:o(y,".",u("GET_FILE_SIZE_BASE"),u("GET_FILE_SIZE_LABELS",u))})}});return}g(f)})),{options:{allowFileSizeValidation:[!0,i.BOOLEAN],maxFileSize:[null,i.INT],minFileSize:[null,i.INT],maxTotalFileSize:[null,i.INT],fileValidateSizeFilter:[null,i.FUNCTION],labelMinFileSizeExceeded:["File is too small",i.STRING],labelMinFileSize:["Minimum file size is {filesize}",i.STRING],labelMaxFileSizeExceeded:["File is too large",i.STRING],labelMaxFileSize:["Maximum file size is {filesize}",i.STRING],labelMaxTotalFileSizeExceeded:["Maximum total size exceeded",i.STRING],labelMaxTotalFileSize:["Maximum total file size is {filesize}",i.STRING]}}},Ad=typeof window<"u"&&typeof window.document<"u";Ad&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Qo}));const bd=e=>/^image\/jpeg/.test(e.type),Ut={JPEG:65496,APP1:65505,EXIF:1165519206,TIFF:18761,Orientation:274,Unknown:65280},Vt=(e,t,i=!1)=>e.getUint16(t,i),Qs=(e,t,i=!1)=>e.getUint32(t,i),vd=e=>new Promise((t,i)=>{const s=new FileReader;s.onload=function(o){const f=new DataView(o.target.result);if(Vt(f,0)!==Ut.JPEG){t(-1);return}const u=f.byteLength;let g=2;for(;g<u;){const p=Vt(f,g);if(g+=2,p===Ut.APP1){if(Qs(f,g+=2)!==Ut.EXIF)break;const I=Vt(f,g+=6)===Ut.TIFF;g+=Qs(f,g+4,I);const E=Vt(f,g,I);g+=2;for(let T=0;T<E;T++)if(Vt(f,g+T*12,I)===Ut.Orientation){t(Vt(f,g+T*12+8,I));return}}else{if((p&Ut.Unknown)!==Ut.Unknown)break;g+=Vt(f,g)}}t(-1)},s.readAsArrayBuffer(e.slice(0,64*1024))}),wd=typeof window<"u"&&typeof window.document<"u",Sd=()=>wd,Od="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/4QA6RXhpZgAATU0AKgAAAAgAAwESAAMAAAABAAYAAAEoAAMAAAABAAIAAAITAAMAAAABAAEAAAAAAAD/2wBDAP//////////////////////////////////////////////////////////////////////////////////////wAALCAABAAIBASIA/8QAJgABAAAAAAAAAAAAAAAAAAAAAxABAAAAAAAAAAAAAAAAAAAAAP/aAAgBAQAAPwBH/9k=";let Ko;const ci=Sd()?new Image:{};ci.onload=()=>Ko=ci.naturalWidth>ci.naturalHeight;ci.src=Od;const Dd=()=>Ko,Jo=({addFilter:e,utils:t})=>{const{Type:i,isFile:s}=t;return e("DID_LOAD_ITEM",(o,{query:f})=>new Promise((u,g)=>{const p=o.file;if(!s(p)||!bd(p)||!f("GET_ALLOW_IMAGE_EXIF_ORIENTATION")||!Dd())return u(o);vd(p).then(I=>{o.setMetadata("exif",{orientation:I}),u(o)})})),{options:{allowImageExifOrientation:[!0,i.BOOLEAN]}}},Md=typeof window<"u"&&typeof window.document<"u";Md&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:Jo}));const Cd=e=>/^image/.test(e.type),Ld=e=>new Promise((t,i)=>{const s=document.createElement("img");s.src=URL.createObjectURL(e),s.onerror=f=>{clearInterval(o),i(f)};const o=setInterval(()=>{s.naturalWidth&&s.naturalHeight&&(clearInterval(o),URL.revokeObjectURL(s.src),t({width:s.naturalWidth,height:s.naturalHeight}))},1)}),ea=({addFilter:e,utils:t})=>{const{Type:i,replaceInString:s,isFile:o}=t,f=(u,g,p)=>new Promise((I,E)=>{const T=({width:y,height:A})=>{const{minWidth:R,minHeight:v,maxWidth:C,maxHeight:M,minResolution:O,maxResolution:L}=g,x=y*A;y<R||A<v?E("TOO_SMALL"):y>C||A>M?E("TOO_BIG"):O!==null&&x<O?E("TOO_LOW_RES"):L!==null&&x>L&&E("TOO_HIGH_RES"),I()};Ld(u).then(T).catch(()=>{if(!p){E();return}p(u,g).then(T).catch(()=>E())})});return e("LOAD_FILE",(u,{query:g})=>new Promise((p,I)=>{if(!o(u)||!Cd(u)||!g("GET_ALLOW_IMAGE_VALIDATE_SIZE")){p(u);return}const E={minWidth:g("GET_IMAGE_VALIDATE_SIZE_MIN_WIDTH"),minHeight:g("GET_IMAGE_VALIDATE_SIZE_MIN_HEIGHT"),maxWidth:g("GET_IMAGE_VALIDATE_SIZE_MAX_WIDTH"),maxHeight:g("GET_IMAGE_VALIDATE_SIZE_MAX_HEIGHT"),minResolution:g("GET_IMAGE_VALIDATE_SIZE_MIN_RESOLUTION"),maxResolution:g("GET_IMAGE_VALIDATE_SIZE_MAX_RESOLUTION")},T=g("GET_IMAGE_VALIDATE_SIZE_MEASURE");f(u,E,T).then(()=>{p(u)}).catch(y=>{const A=y?{TOO_SMALL:{label:g("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_SIZE_TOO_SMALL"),details:g("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MIN_SIZE")},TOO_BIG:{label:g("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_SIZE_TOO_BIG"),details:g("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MAX_SIZE")},TOO_LOW_RES:{label:g("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_RESOLUTION_TOO_LOW"),details:g("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MIN_RESOLUTION")},TOO_HIGH_RES:{label:g("GET_IMAGE_VALIDATE_SIZE_LABEL_IMAGE_RESOLUTION_TOO_HIGH"),details:g("GET_IMAGE_VALIDATE_SIZE_LABEL_EXPECTED_MAX_RESOLUTION")}}[y]:{label:g("GET_IMAGE_VALIDATE_SIZE_LABEL_FORMAT_ERROR"),details:u.type};I({status:{main:A.label,sub:y?s(A.details,E):A.details}})})})),{options:{allowImageValidateSize:[!0,i.BOOLEAN],imageValidateSizeLabelFormatError:["Image type not supported",i.STRING],imageValidateSizeMeasure:[null,i.FUNCTION],imageValidateSizeMinResolution:[null,i.INT],imageValidateSizeMaxResolution:[null,i.INT],imageValidateSizeLabelImageResolutionTooLow:["Resolution is too low",i.STRING],imageValidateSizeLabelImageResolutionTooHigh:["Resolution is too high",i.STRING],imageValidateSizeLabelExpectedMinResolution:["Minimum resolution is {minResolution}",i.STRING],imageValidateSizeLabelExpectedMaxResolution:["Maximum resolution is {maxResolution}",i.STRING],imageValidateSizeMinWidth:[1,i.INT],imageValidateSizeMinHeight:[1,i.INT],imageValidateSizeMaxWidth:[65535,i.INT],imageValidateSizeMaxHeight:[65535,i.INT],imageValidateSizeLabelImageSizeTooSmall:["Image is too small",i.STRING],imageValidateSizeLabelImageSizeTooBig:["Image is too big",i.STRING],imageValidateSizeLabelExpectedMinSize:["Minimum size is {minWidth} Ã {minHeight}",i.STRING],imageValidateSizeLabelExpectedMaxSize:["Maximum size is {maxWidth} Ã {maxHeight}",i.STRING]}}},xd=typeof window<"u"&&typeof window.document<"u";xd&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ea}));const Ks=e=>/^image/.test(e.type),ta=({addFilter:e,utils:t})=>{const{Type:i,isFile:s,getNumericAspectRatioFromString:o}=t,f=(I,E)=>!(!Ks(I.file)||!E("GET_ALLOW_IMAGE_CROP")),u=I=>typeof I=="object",g=I=>typeof I=="number",p=(I,E)=>I.setMetadata("crop",Object.assign({},I.getMetadata("crop"),E));return e("DID_CREATE_ITEM",(I,{query:E})=>{I.extend("setImageCrop",T=>{if(!(!f(I,E)||!u(center)))return I.setMetadata("crop",T),T}),I.extend("setImageCropCenter",T=>{if(!(!f(I,E)||!u(T)))return p(I,{center:T})}),I.extend("setImageCropZoom",T=>{if(!(!f(I,E)||!g(T)))return p(I,{zoom:Math.max(1,T)})}),I.extend("setImageCropRotation",T=>{if(!(!f(I,E)||!g(T)))return p(I,{rotation:T})}),I.extend("setImageCropFlip",T=>{if(!(!f(I,E)||!u(T)))return p(I,{flip:T})}),I.extend("setImageCropAspectRatio",T=>{if(!f(I,E)||typeof T>"u")return;const y=I.getMetadata("crop"),A=o(T),R={center:{x:.5,y:.5},flip:y?Object.assign({},y.flip):{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:A};return I.setMetadata("crop",R),R})}),e("DID_LOAD_ITEM",(I,{query:E})=>new Promise((T,y)=>{const A=I.file;if(!s(A)||!Ks(A)||!E("GET_ALLOW_IMAGE_CROP")||I.getMetadata("crop"))return T(I);const v=E("GET_IMAGE_CROP_ASPECT_RATIO");I.setMetadata("crop",{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},rotation:0,zoom:1,aspectRatio:v?o(v):null}),T(I)})),{options:{allowImageCrop:[!0,i.BOOLEAN],imageCropAspectRatio:[null,i.STRING]}}},Pd=typeof window<"u"&&typeof window.document<"u";Pd&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:ta}));const Ki=e=>/^image/.test(e.type),na=e=>{const{addFilter:t,utils:i,views:s}=e,{Type:o,createRoute:f,createItemAPI:u=E=>E}=i,{fileActionButton:g}=s;t("SHOULD_REMOVE_ON_REVERT",(E,{item:T,query:y})=>new Promise(A=>{const{file:R}=T,v=y("GET_ALLOW_IMAGE_EDIT")&&y("GET_IMAGE_EDIT_ALLOW_EDIT")&&Ki(R);A(!v)})),t("DID_LOAD_ITEM",(E,{query:T,dispatch:y})=>new Promise((A,R)=>{if(E.origin>1){A(E);return}const{file:v}=E;if(!T("GET_ALLOW_IMAGE_EDIT")||!T("GET_IMAGE_EDIT_INSTANT_EDIT")){A(E);return}if(!Ki(v)){A(E);return}const C=(O,L,x)=>V=>{p.shift(),V?L(O):x(O),y("KICK"),M()},M=()=>{if(!p.length)return;const{item:O,resolve:L,reject:x}=p[0];y("EDIT_ITEM",{id:O.id,handleEditorResponse:C(O,L,x)})};I({item:E,resolve:A,reject:R}),p.length===1&&M()})),t("DID_CREATE_ITEM",(E,{query:T,dispatch:y})=>{E.extend("edit",()=>{y("EDIT_ITEM",{id:E.id})})});const p=[],I=E=>(p.push(E),E);return t("CREATE_VIEW",E=>{const{is:T,view:y,query:A}=E;if(!A("GET_ALLOW_IMAGE_EDIT"))return;const R=A("GET_ALLOW_IMAGE_PREVIEW");if(!(T("file-info")&&!R||T("file")&&R))return;const C=A("GET_IMAGE_EDIT_EDITOR");if(!C)return;C.filepondCallbackBridge||(C.outputData=!0,C.outputFile=!1,C.filepondCallbackBridge={onconfirm:C.onconfirm||(()=>{}),oncancel:C.oncancel||(()=>{})});const M=({root:x,props:V,action:j})=>{const{id:l}=V,{handleEditorResponse:F}=j;C.cropAspectRatio=x.query("GET_IMAGE_CROP_ASPECT_RATIO")||C.cropAspectRatio,C.outputCanvasBackgroundColor=x.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||C.outputCanvasBackgroundColor;const G=x.query("GET_ITEM",l);if(!G)return;const ee=G.file,Q=G.getMetadata("crop"),Y={center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},Z=G.getMetadata("resize"),W=G.getMetadata("filter")||null,se=G.getMetadata("filters")||null,k=G.getMetadata("colors")||null,q=G.getMetadata("markup")||null,te={crop:Q||Y,size:Z?{upscale:Z.upscale,mode:Z.mode,width:Z.size.width,height:Z.size.height}:null,filter:se?se.id||se.matrix:x.query("GET_ALLOW_IMAGE_FILTER")&&x.query("GET_IMAGE_FILTER_COLOR_MATRIX")&&!k?W:null,color:k,markup:q};C.onconfirm=({data:K})=>{const{crop:de,size:ne,filter:ve,color:we,colorMatrix:Oe,markup:ke}=K,le={};if(de&&(le.crop=de),ne){const ge=(G.getMetadata("resize")||{}).size,Ae={width:ne.width,height:ne.height};!(Ae.width&&Ae.height)&&ge&&(Ae.width=ge.width,Ae.height=ge.height),(Ae.width||Ae.height)&&(le.resize={upscale:ne.upscale,mode:ne.mode,size:Ae})}ke&&(le.markup=ke),le.colors=we,le.filters=ve,le.filter=Oe,G.setMetadata(le),C.filepondCallbackBridge.onconfirm(K,u(G)),F&&(C.onclose=()=>{F(!0),C.onclose=null})},C.oncancel=()=>{C.filepondCallbackBridge.oncancel(u(G)),F&&(C.onclose=()=>{F(!1),C.onclose=null})},C.open(ee,te)},O=({root:x,props:V})=>{if(!A("GET_IMAGE_EDIT_ALLOW_EDIT"))return;const{id:j}=V,l=A("GET_ITEM",j);if(!l)return;const F=l.file;if(Ki(F))if(x.ref.handleEdit=G=>{G.stopPropagation(),x.dispatch("EDIT_ITEM",{id:j})},R){const G=y.createChildView(g,{label:"edit",icon:A("GET_IMAGE_EDIT_ICON_EDIT"),opacity:0});G.element.classList.add("filepond--action-edit-item"),G.element.dataset.align=A("GET_STYLE_IMAGE_EDIT_BUTTON_EDIT_ITEM_POSITION"),G.on("click",x.ref.handleEdit),x.ref.buttonEditItem=y.appendChildView(G)}else{const G=y.element.querySelector(".filepond--file-info-main"),ee=document.createElement("button");ee.className="filepond--action-edit-item-alt",ee.innerHTML=A("GET_IMAGE_EDIT_ICON_EDIT")+"<span>edit</span>",ee.addEventListener("click",x.ref.handleEdit),G.appendChild(ee),x.ref.editButton=ee}};y.registerDestroyer(({root:x})=>{x.ref.buttonEditItem&&x.ref.buttonEditItem.off("click",x.ref.handleEdit),x.ref.editButton&&x.ref.editButton.removeEventListener("click",x.ref.handleEdit)});const L={EDIT_ITEM:M,DID_LOAD_ITEM:O};if(R){const x=({root:V})=>{V.ref.buttonEditItem&&(V.ref.buttonEditItem.opacity=1)};L.DID_IMAGE_PREVIEW_SHOW=x}y.registerWriter(f(L))}),{options:{allowImageEdit:[!0,o.BOOLEAN],styleImageEditButtonEditItemPosition:["bottom center",o.STRING],imageEditInstantEdit:[!1,o.BOOLEAN],imageEditAllowEdit:[!0,o.BOOLEAN],imageEditIconEdit:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false"><path d="M8.5 17h1.586l7-7L15.5 8.414l-7 7V17zm-1.707-2.707l8-8a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-8 8A1 1 0 0 1 10.5 19h-3a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707z" fill="currentColor" fill-rule="nonzero"/></svg>',o.STRING],imageEditEditor:[null,o.OBJECT]}}},Nd=typeof window<"u"&&typeof window.document<"u";Nd&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:na}));const Gd=e=>/^image/.test(e.type),Bd=e=>e.substr(0,e.lastIndexOf("."))||e,Fd={jpeg:"jpg","svg+xml":"svg"},Ud=(e,t)=>{const i=Bd(e),s=t.split("/")[1],o=Fd[s]||s;return`${i}.${o}`},Vd=e=>/jpeg|png|svg\+xml/.test(e)?e:"image/jpeg",Hd=e=>/^image/.test(e.type),kd={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},$d=(e,t,i)=>(i===-1&&(i=1),kd[i](e,t)),xn=(e,t)=>({x:e,y:t}),Wd=(e,t)=>e.x*t.x+e.y*t.y,Js=(e,t)=>xn(e.x-t.x,e.y-t.y),qd=(e,t)=>Wd(Js(e,t),Js(e,t)),eo=(e,t)=>Math.sqrt(qd(e,t)),to=(e,t)=>{const i=e,s=1.5707963267948966,o=t,f=1.5707963267948966-t,u=Math.sin(s),g=Math.sin(o),p=Math.sin(f),I=Math.cos(f),E=i/u,T=E*g,y=E*p;return xn(I*T,I*y)},zd=(e,t)=>{const i=e.width,s=e.height,o=to(i,t),f=to(s,t),u=xn(e.x+Math.abs(o.x),e.y-Math.abs(o.y)),g=xn(e.x+e.width+Math.abs(f.y),e.y+Math.abs(f.x)),p=xn(e.x-Math.abs(f.y),e.y+e.height-Math.abs(f.x));return{width:eo(u,g),height:eo(u,p)}},ia=(e,t,i=0,s={x:.5,y:.5})=>{const o=s.x>.5?1-s.x:s.x,f=s.y>.5?1-s.y:s.y,u=o*2*e.width,g=f*2*e.height,p=zd(t,i);return Math.max(p.width/u,p.height/g)},ra=(e,t)=>{let i=e.width,s=i*t;s>e.height&&(s=e.height,i=s/t);const o=(e.width-i)*.5,f=(e.height-s)*.5;return{x:o,y:f,width:i,height:s}},no=(e,t,i=1)=>{const s=e.height/e.width;let o=1,f=t,u=1,g=s;g>f&&(g=f,u=g/s);const p=Math.max(o/u,f/g),I=e.width/(i*p*u),E=I*t;return{width:I,height:E}},sa=e=>{e.width=1,e.height=1,e.getContext("2d").clearRect(0,0,1,1)},io=e=>e&&(e.horizontal||e.vertical),jd=(e,t,i)=>{if(t<=1&&!io(i))return e.width=e.naturalWidth,e.height=e.naturalHeight,e;const s=document.createElement("canvas"),o=e.naturalWidth,f=e.naturalHeight,u=t>=5&&t<=8;u?(s.width=f,s.height=o):(s.width=o,s.height=f);const g=s.getContext("2d");if(t&&g.transform.apply(g,$d(o,f,t)),io(i)){const p=[1,0,0,1,0,0];(!u&&i.horizontal||u&i.vertical)&&(p[0]=-1,p[4]=o),(!u&&i.vertical||u&&i.horizontal)&&(p[3]=-1,p[5]=f),g.transform(...p)}return g.drawImage(e,0,0,o,f),s},Yd=(e,t,i={},s={})=>{const{canvasMemoryLimit:o,background:f=null}=s,u=i.zoom||1,g=jd(e,t,i.flip),p={width:g.width,height:g.height},I=i.aspectRatio||p.height/p.width;let E=no(p,I,u);if(o){const L=E.width*E.height;if(L>o){const x=Math.sqrt(o)/Math.sqrt(L);p.width=Math.floor(p.width*x),p.height=Math.floor(p.height*x),E=no(p,I,u)}}const T=document.createElement("canvas"),y={x:E.width*.5,y:E.height*.5},A={width:E.width,height:E.height},R=typeof i.scaleToFit>"u"||i.scaleToFit,v=u*ia(p,ra(A,I),i.rotation,R?i.center:{x:.5,y:.5});T.width=Math.round(E.width/v),T.height=Math.round(E.height/v),y.x/=v,y.y/=v;const C={x:y.x-p.width*(i.center?i.center.x:.5),y:y.y-p.height*(i.center?i.center.y:.5)},M=T.getContext("2d");f&&(M.fillStyle=f,M.fillRect(0,0,T.width,T.height)),M.translate(y.x,y.y),M.rotate(i.rotation||0),M.drawImage(g,C.x-y.x,C.y-y.y,p.width,p.height);const O=M.getImageData(0,0,T.width,T.height);return sa(T),O},Xd=typeof window<"u"&&typeof window.document<"u";Xd&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,i){var s=this.toDataURL(t,i).split(",")[1];setTimeout(function(){for(var o=atob(s),f=o.length,u=new Uint8Array(f),g=0;g<f;g++)u[g]=o.charCodeAt(g);e(new Blob([u],{type:t||"image/png"}))})}}));const Zd=(e,t,i=null)=>new Promise(s=>{const o=i?i(e):e;Promise.resolve(o).then(f=>{f.toBlob(s,t.type,t.quality)})}),pi=(e,t)=>Nn(e.x*t,e.y*t),gi=(e,t)=>Nn(e.x+t.x,e.y+t.y),oa=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return t===0?{x:0,y:0}:Nn(e.x/t,e.y/t)},Lt=(e,t,i)=>{const s=Math.cos(t),o=Math.sin(t),f=Nn(e.x-i.x,e.y-i.y);return Nn(i.x+s*f.x-o*f.y,i.y+o*f.x+s*f.y)},Nn=(e=0,t=0)=>({x:e,y:t}),Ve=(e,t,i=1,s)=>{if(typeof e=="string")return parseFloat(e)*i;if(typeof e=="number")return e*(s?t[s]:Math.min(t.width,t.height))},Zt=(e,t,i)=>{const s=e.borderStyle||e.lineStyle||"solid",o=e.backgroundColor||e.fontColor||"transparent",f=e.borderColor||e.lineColor||"transparent",u=Ve(e.borderWidth||e.lineWidth,t,i),g=e.lineCap||"round",p=e.lineJoin||"round",I=typeof s=="string"?"":s.map(T=>Ve(T,t,i)).join(","),E=e.opacity||1;return{"stroke-linecap":g,"stroke-linejoin":p,"stroke-width":u||0,"stroke-dasharray":I,stroke:f,fill:o,opacity:E}},st=e=>e!=null,gn=(e,t,i=1)=>{let s=Ve(e.x,t,i,"width")||Ve(e.left,t,i,"width"),o=Ve(e.y,t,i,"height")||Ve(e.top,t,i,"height"),f=Ve(e.width,t,i,"width"),u=Ve(e.height,t,i,"height"),g=Ve(e.right,t,i,"width"),p=Ve(e.bottom,t,i,"height");return st(o)||(st(u)&&st(p)?o=t.height-u-p:o=p),st(s)||(st(f)&&st(g)?s=t.width-f-g:s=g),st(f)||(st(s)&&st(g)?f=t.width-s-g:f=0),st(u)||(st(o)&&st(p)?u=t.height-o-p:u=0),{x:s||0,y:o||0,width:f||0,height:u||0}},Qd=e=>e.map((t,i)=>`${i===0?"M":"L"} ${t.x} ${t.y}`).join(" "),_t=(e,t)=>Object.keys(t).forEach(i=>e.setAttribute(i,t[i])),Kd="http://www.w3.org/2000/svg",un=(e,t)=>{const i=document.createElementNS(Kd,e);return t&&_t(i,t),i},Jd=e=>_t(e,{...e.rect,...e.styles}),eh=e=>{const t=e.rect.x+e.rect.width*.5,i=e.rect.y+e.rect.height*.5,s=e.rect.width*.5,o=e.rect.height*.5;return _t(e,{cx:t,cy:i,rx:s,ry:o,...e.styles})},th={contain:"xMidYMid meet",cover:"xMidYMid slice"},nh=(e,t)=>{_t(e,{...e.rect,...e.styles,preserveAspectRatio:th[t.fit]||"none"})},ih={left:"start",center:"middle",right:"end"},rh=(e,t,i,s)=>{const o=Ve(t.fontSize,i,s),f=t.fontFamily||"sans-serif",u=t.fontWeight||"normal",g=ih[t.textAlign]||"start";_t(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":u,"font-size":o,"font-family":f,"text-anchor":g}),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},sh=(e,t,i,s)=>{_t(e,{...e.rect,...e.styles,fill:"none"});const o=e.childNodes[0],f=e.childNodes[1],u=e.childNodes[2],g=e.rect,p={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(_t(o,{x1:g.x,y1:g.y,x2:p.x,y2:p.y}),!t.lineDecoration)return;f.style.display="none",u.style.display="none";const I=oa({x:p.x-g.x,y:p.y-g.y}),E=Ve(.05,i,s);if(t.lineDecoration.indexOf("arrow-begin")!==-1){const T=pi(I,E),y=gi(g,T),A=Lt(g,2,y),R=Lt(g,-2,y);_t(f,{style:"display:block;",d:`M${A.x},${A.y} L${g.x},${g.y} L${R.x},${R.y}`})}if(t.lineDecoration.indexOf("arrow-end")!==-1){const T=pi(I,-E),y=gi(p,T),A=Lt(p,2,y),R=Lt(p,-2,y);_t(u,{style:"display:block;",d:`M${A.x},${A.y} L${p.x},${p.y} L${R.x},${R.y}`})}},oh=(e,t,i,s)=>{_t(e,{...e.styles,fill:"none",d:Qd(t.points.map(o=>({x:Ve(o.x,i,s,"width"),y:Ve(o.y,i,s,"height")})))})},ti=e=>t=>un(e,{id:t.id}),ah=e=>{const t=un("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=()=>{t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},lh=e=>{const t=un("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),i=un("line");t.appendChild(i);const s=un("path");t.appendChild(s);const o=un("path");return t.appendChild(o),t},ch={image:ah,rect:ti("rect"),ellipse:ti("ellipse"),text:ti("text"),path:ti("path"),line:lh},uh={rect:Jd,ellipse:eh,image:nh,text:rh,path:oh,line:sh},fh=(e,t)=>ch[e](t),dh=(e,t,i,s,o)=>{t!=="path"&&(e.rect=gn(i,s,o)),e.styles=Zt(i,s,o),uh[t](e,i,s,o)},aa=(e,t)=>e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0,hh=(e,t={},i,s)=>new Promise(o=>{const{background:f=null}=s,u=new FileReader;u.onloadend=()=>{const g=u.result,p=document.createElement("div");p.style.cssText="position:absolute;pointer-events:none;width:0;height:0;visibility:hidden;",p.innerHTML=g;const I=p.querySelector("svg");document.body.appendChild(p);const E=I.getBBox();p.parentNode.removeChild(p);const T=p.querySelector("title"),y=I.getAttribute("viewBox")||"",A=I.getAttribute("width")||"",R=I.getAttribute("height")||"";let v=parseFloat(A)||null,C=parseFloat(R)||null;const M=(A.match(/[a-z]+/)||[])[0]||"",O=(R.match(/[a-z]+/)||[])[0]||"",L=y.split(" ").map(parseFloat),x=L.length?{x:L[0],y:L[1],width:L[2],height:L[3]}:E;let V=v??x.width,j=C??x.height;I.style.overflow="visible",I.setAttribute("width",V),I.setAttribute("height",j);let l="";if(i&&i.length){const Oe={width:V,height:j};l=i.sort(aa).reduce((ke,le)=>{const ge=fh(le[0],le[1]);return dh(ge,le[0],le[1],Oe),ge.removeAttribute("id"),ge.getAttribute("opacity")===1&&ge.removeAttribute("opacity"),ke+`
`+ge.outerHTML+`
`},""),l=`

<g>${l.replace(/&nbsp;/g," ")}</g>

`}const F=t.aspectRatio||j/V,G=V,ee=G*F,Q=typeof t.scaleToFit>"u"||t.scaleToFit,Y=t.center?t.center.x:.5,Z=t.center?t.center.y:.5,W=ia({width:V,height:j},ra({width:G,height:ee},F),t.rotation,Q?{x:Y,y:Z}:{x:.5,y:.5}),se=t.zoom*W,k=t.rotation*(180/Math.PI),q={x:G*.5,y:ee*.5},te={x:q.x-V*Y,y:q.y-j*Z},K=[`rotate(${k} ${q.x} ${q.y})`,`translate(${q.x} ${q.y})`,`scale(${se})`,`translate(${-q.x} ${-q.y})`,`translate(${te.x} ${te.y})`],de=t.flip&&t.flip.horizontal,ne=t.flip&&t.flip.vertical,ve=[`scale(${de?-1:1} ${ne?-1:1})`,`translate(${de?-V:0} ${ne?-j:0})`],we=`<?xml version="1.0" encoding="UTF-8"?>
<svg width="${G}${M}" height="${ee}${O}" 
viewBox="0 0 ${G} ${ee}" ${f?'style="background:'+f+'" ':""}
preserveAspectRatio="xMinYMin"
xmlns:xlink="http://www.w3.org/1999/xlink"
xmlns="http://www.w3.org/2000/svg">
<!-- Generated by PQINA - https://pqina.nl/ -->
<title>${T?T.textContent:""}</title>
<g transform="${K.join(" ")}">
<g transform="${ve.join(" ")}">
${I.outerHTML}${l}
</g>
</g>
</svg>`;o(we)},u.readAsText(e)}),ph=e=>{let t;try{t=new ImageData(e.width,e.height)}catch{t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(e.data),t},gh=()=>{const e={resize:E,filter:I},t=(T,y)=>(T.forEach(A=>{y=e[A.type](y,A.data)}),y),i=(T,y)=>{let A=T.transforms,R=null;if(A.forEach(v=>{v.type==="filter"&&(R=v)}),R){let v=null;A.forEach(C=>{C.type==="resize"&&(v=C)}),v&&(v.data.matrix=R.data,A=A.filter(C=>C.type!=="filter"))}y(t(A,T.imageData))};self.onmessage=T=>{i(T.data.message,y=>{self.postMessage({id:T.data.id,message:y},[y.data.buffer])})};const s=1,o=1,f=1;function u(T,y,A){const R=y[T]/255,v=y[T+1]/255,C=y[T+2]/255,M=y[T+3]/255,O=R*A[0]+v*A[1]+C*A[2]+M*A[3]+A[4],L=R*A[5]+v*A[6]+C*A[7]+M*A[8]+A[9],x=R*A[10]+v*A[11]+C*A[12]+M*A[13]+A[14],V=R*A[15]+v*A[16]+C*A[17]+M*A[18]+A[19],j=Math.max(0,O*V)+s*(1-V),l=Math.max(0,L*V)+o*(1-V),F=Math.max(0,x*V)+f*(1-V);y[T]=Math.max(0,Math.min(1,j))*255,y[T+1]=Math.max(0,Math.min(1,l))*255,y[T+2]=Math.max(0,Math.min(1,F))*255}const g=self.JSON.stringify([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]);function p(T){return self.JSON.stringify(T||[])===g}function I(T,y){if(!y||p(y))return T;const A=T.data,R=A.length,v=y[0],C=y[1],M=y[2],O=y[3],L=y[4],x=y[5],V=y[6],j=y[7],l=y[8],F=y[9],G=y[10],ee=y[11],Q=y[12],Y=y[13],Z=y[14],W=y[15],se=y[16],k=y[17],q=y[18],te=y[19];let K=0,de=0,ne=0,ve=0,we=0,Oe=0,ke=0,le=0,ge=0,Ae=0,xe=0,Re=0;for(;K<R;K+=4)de=A[K]/255,ne=A[K+1]/255,ve=A[K+2]/255,we=A[K+3]/255,Oe=de*v+ne*C+ve*M+we*O+L,ke=de*x+ne*V+ve*j+we*l+F,le=de*G+ne*ee+ve*Q+we*Y+Z,ge=de*W+ne*se+ve*k+we*q+te,Ae=Math.max(0,Oe*ge)+s*(1-ge),xe=Math.max(0,ke*ge)+o*(1-ge),Re=Math.max(0,le*ge)+f*(1-ge),A[K]=Math.max(0,Math.min(1,Ae))*255,A[K+1]=Math.max(0,Math.min(1,xe))*255,A[K+2]=Math.max(0,Math.min(1,Re))*255;return T}function E(T,y){let{mode:A="contain",upscale:R=!1,width:v,height:C,matrix:M}=y;if(M=!M||p(M)?null:M,!v&&!C)return I(T,M);if(v===null?v=C:C===null&&(C=v),A!=="force"){let Y=v/T.width,Z=C/T.height,W=1;if(A==="cover"?W=Math.max(Y,Z):A==="contain"&&(W=Math.min(Y,Z)),W>1&&R===!1)return I(T,M);v=T.width*W,C=T.height*W}const O=T.width,L=T.height,x=Math.round(v),V=Math.round(C),j=T.data,l=new Uint8ClampedArray(x*V*4),F=O/x,G=L/V,ee=Math.ceil(F*.5),Q=Math.ceil(G*.5);for(let Y=0;Y<V;Y++)for(let Z=0;Z<x;Z++){let W=(Z+Y*x)*4,se=0,k=0,q=0,te=0,K=0,de=0,ne=0,ve=(Y+.5)*G;for(let we=Math.floor(Y*G);we<(Y+1)*G;we++){let Oe=Math.abs(ve-(we+.5))/Q,ke=(Z+.5)*F,le=Oe*Oe;for(let ge=Math.floor(Z*F);ge<(Z+1)*F;ge++){let Ae=Math.abs(ke-(ge+.5))/ee,xe=Math.sqrt(le+Ae*Ae);if(xe>=-1&&xe<=1&&(se=2*xe*xe*xe-3*xe*xe+1,se>0)){Ae=4*(ge+we*O);let Re=j[Ae+3];ne+=se*Re,q+=se,Re<255&&(se=se*Re/250),te+=se*j[Ae],K+=se*j[Ae+1],de+=se*j[Ae+2],k+=se}}}l[W]=te/k,l[W+1]=K/k,l[W+2]=de/k,l[W+3]=ne/q,M&&u(W,l,M)}return{data:l,width:x,height:V}}},Eh=(e,t)=>{if(e.getUint32(t+4,!1)!==1165519206)return;t+=4;const i=e.getUint16(t+=6,!1)===18761;t+=e.getUint32(t+4,i);const s=e.getUint16(t,i);t+=2;for(let o=0;o<s;o++)if(e.getUint16(t+o*12,i)===274)return e.setUint16(t+o*12+8,1,i),!0;return!1},mh=e=>{const t=new DataView(e);if(t.getUint16(0)!==65496)return null;let i=2,s,o,f=!1;for(;i<t.byteLength&&(s=t.getUint16(i,!1),o=t.getUint16(i+2,!1)+2,!(!(s>=65504&&s<=65519||s===65534)||(f||(f=Eh(t,i)),i+o>t.byteLength)));)i+=o;return e.slice(0,i)},Ih=e=>new Promise(t=>{const i=new FileReader;i.onload=()=>t(mh(i.result)||null),i.readAsArrayBuffer(e.slice(0,256*1024))}),Th=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,_h=(e,t)=>{const i=Th();if(i){const s=new i;return s.append(e),s.getBlob(t)}return new Blob([e],{type:t})},yh=()=>Math.random().toString(36).substr(2,9),Rh=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),i=URL.createObjectURL(t),s=new Worker(i),o=[];return{transfer:()=>{},post:(f,u,g)=>{const p=yh();o[p]=u,s.onmessage=I=>{const E=o[I.data.id];E&&(E(I.data.message),delete o[I.data.id])},s.postMessage({id:p,message:f},g)},terminate:()=>{s.terminate(),URL.revokeObjectURL(i)}}},Ah=e=>new Promise((t,i)=>{const s=new Image;s.onload=()=>{t(s)},s.onerror=o=>{i(o)},s.src=e}),bh=e=>e.reduce((t,i)=>t.then(s=>i().then(Array.prototype.concat.bind(s))),Promise.resolve([])),vh=(e,t)=>new Promise(i=>{const s={width:e.width,height:e.height},o=e.getContext("2d"),f=t.sort(aa).map(u=>()=>new Promise(g=>{Lh[u[0]](o,s,u[1],g)&&g()}));bh(f).then(()=>i(e))}),En=(e,t)=>{e.beginPath(),e.lineCap=t["stroke-linecap"],e.lineJoin=t["stroke-linejoin"],e.lineWidth=t["stroke-width"],t["stroke-dasharray"].length&&e.setLineDash(t["stroke-dasharray"].split(",")),e.fillStyle=t.fill,e.strokeStyle=t.stroke,e.globalAlpha=t.opacity||1},mn=e=>{e.fill(),e.stroke(),e.globalAlpha=1},wh=(e,t,i)=>{const s=gn(i,t),o=Zt(i,t);return En(e,o),e.rect(s.x,s.y,s.width,s.height),mn(e),!0},Sh=(e,t,i)=>{const s=gn(i,t),o=Zt(i,t);En(e,o);const f=s.x,u=s.y,g=s.width,p=s.height,I=.5522848,E=g/2*I,T=p/2*I,y=f+g,A=u+p,R=f+g/2,v=u+p/2;return e.moveTo(f,v),e.bezierCurveTo(f,v-T,R-E,u,R,u),e.bezierCurveTo(R+E,u,y,v-T,y,v),e.bezierCurveTo(y,v+T,R+E,A,R,A),e.bezierCurveTo(R-E,A,f,v+T,f,v),mn(e),!0},Oh=(e,t,i,s)=>{const o=gn(i,t),f=Zt(i,t);En(e,f);const u=new Image;new URL(i.src,window.location.href).origin!==window.location.origin&&(u.crossOrigin=""),u.onload=()=>{if(i.fit==="cover"){const p=o.width/o.height,I=p>1?u.width:u.height*p,E=p>1?u.width/p:u.height,T=u.width*.5-I*.5,y=u.height*.5-E*.5;e.drawImage(u,T,y,I,E,o.x,o.y,o.width,o.height)}else if(i.fit==="contain"){const p=Math.min(o.width/u.width,o.height/u.height),I=p*u.width,E=p*u.height,T=o.x+o.width*.5-I*.5,y=o.y+o.height*.5-E*.5;e.drawImage(u,0,0,u.width,u.height,T,y,I,E)}else e.drawImage(u,0,0,u.width,u.height,o.x,o.y,o.width,o.height);mn(e),s()},u.src=i.src},Dh=(e,t,i)=>{const s=gn(i,t),o=Zt(i,t);En(e,o);const f=Ve(i.fontSize,t),u=i.fontFamily||"sans-serif",g=i.fontWeight||"normal",p=i.textAlign||"left";return e.font=`${g} ${f}px ${u}`,e.textAlign=p,e.fillText(i.text,s.x,s.y),mn(e),!0},Mh=(e,t,i)=>{const s=Zt(i,t);En(e,s),e.beginPath();const o=i.points.map(u=>({x:Ve(u.x,t,1,"width"),y:Ve(u.y,t,1,"height")}));e.moveTo(o[0].x,o[0].y);const f=o.length;for(let u=1;u<f;u++)e.lineTo(o[u].x,o[u].y);return mn(e),!0},Ch=(e,t,i)=>{const s=gn(i,t),o=Zt(i,t);En(e,o),e.beginPath();const f={x:s.x,y:s.y},u={x:s.x+s.width,y:s.y+s.height};e.moveTo(f.x,f.y),e.lineTo(u.x,u.y);const g=oa({x:u.x-f.x,y:u.y-f.y}),p=.04*Math.min(t.width,t.height);if(i.lineDecoration.indexOf("arrow-begin")!==-1){const I=pi(g,p),E=gi(f,I),T=Lt(f,2,E),y=Lt(f,-2,E);e.moveTo(T.x,T.y),e.lineTo(f.x,f.y),e.lineTo(y.x,y.y)}if(i.lineDecoration.indexOf("arrow-end")!==-1){const I=pi(g,-p),E=gi(u,I),T=Lt(u,2,E),y=Lt(u,-2,E);e.moveTo(T.x,T.y),e.lineTo(u.x,u.y),e.lineTo(y.x,y.y)}return mn(e),!0},Lh={rect:wh,ellipse:Sh,image:Oh,text:Dh,line:Ch,path:Mh},xh=e=>{const t=document.createElement("canvas");return t.width=e.width,t.height=e.height,t.getContext("2d").putImageData(e,0,0),t},Ph=(e,t,i={})=>new Promise((s,o)=>{if(!e||!Hd(e))return o({status:"not an image file",file:e});const{stripImageHead:f,beforeCreateBlob:u,afterCreateBlob:g,canvasMemoryLimit:p}=i,{crop:I,size:E,filter:T,markup:y,output:A}=t,R=t.image&&t.image.orientation?Math.max(1,Math.min(8,t.image.orientation)):null,v=A&&A.quality,C=v===null?null:v/100,M=A&&A.type||null,O=A&&A.background||null,L=[];E&&(typeof E.width=="number"||typeof E.height=="number")&&L.push({type:"resize",data:E}),T&&T.length===20&&L.push({type:"filter",data:T});const x=l=>{const F=g?g(l):l;Promise.resolve(F).then(s)},V=(l,F)=>{const G=xh(l),ee=y.length?vh(G,y):G;Promise.resolve(ee).then(Q=>{Zd(Q,F,u).then(Y=>{if(sa(Q),f)return x(Y);Ih(e).then(Z=>{Z!==null&&(Y=new Blob([Z,Y.slice(20)],{type:Y.type})),x(Y)})}).catch(o)})};if(/svg/.test(e.type)&&M===null)return hh(e,I,y,{background:O}).then(l=>{s(_h(l,"image/svg+xml"))});const j=URL.createObjectURL(e);Ah(j).then(l=>{URL.revokeObjectURL(j);const F=Yd(l,R,I,{canvasMemoryLimit:p,background:O}),G={quality:C,type:M||e.type};if(!L.length)return V(F,G);const ee=Rh(gh);ee.post({transforms:L,imageData:F},Q=>{V(ph(Q),G),ee.terminate()},[F.data.buffer])}).catch(o)}),Nh=["x","y","left","top","right","bottom","width","height"],Gh=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,Bh=e=>{const[t,i]=e,s=i.points?{}:Nh.reduce((o,f)=>(o[f]=Gh(i[f]),o),{});return[t,{zIndex:0,...i,...s}]},Fh=e=>new Promise((t,i)=>{const s=new Image;s.src=URL.createObjectURL(e);const o=()=>{const u=s.naturalWidth,g=s.naturalHeight;u&&g&&(URL.revokeObjectURL(s.src),clearInterval(f),t({width:u,height:g}))};s.onerror=u=>{URL.revokeObjectURL(s.src),clearInterval(f),i(u)};const f=setInterval(o,1);o()});typeof window<"u"&&typeof window.document<"u"&&(HTMLCanvasElement.prototype.toBlob||Object.defineProperty(HTMLCanvasElement.prototype,"toBlob",{value:function(e,t,i){const s=this;setTimeout(()=>{const o=s.toDataURL(t,i).split(",")[1],f=atob(o);let u=f.length;const g=new Uint8Array(u);for(;u--;)g[u]=f.charCodeAt(u);e(new Blob([g],{type:t||"image/png"}))})}}));const Rr=typeof window<"u"&&typeof window.document<"u",Uh=Rr&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,la=({addFilter:e,utils:t})=>{const{Type:i,forin:s,getFileFromBlob:o,isFile:f}=t,u=["crop","resize","filter","markup","output"],g=E=>(T,y,A)=>T(y,E?E(A):A),p=E=>E.aspectRatio===null&&E.rotation===0&&E.zoom===1&&E.center&&E.center.x===.5&&E.center.y===.5&&E.flip&&E.flip.horizontal===!1&&E.flip.vertical===!1;e("SHOULD_PREPARE_OUTPUT",(E,{query:T})=>new Promise(y=>{y(!T("IS_ASYNC"))}));const I=(E,T,y)=>new Promise(A=>{if(!E("GET_ALLOW_IMAGE_TRANSFORM")||y.archived||!f(T)||!Gd(T))return A(!1);Fh(T).then(()=>{const R=E("GET_IMAGE_TRANSFORM_IMAGE_FILTER");if(R){const v=R(T);if(v==null)return handleRevert(!0);if(typeof v=="boolean")return A(v);if(typeof v.then=="function")return v.then(A)}A(!0)}).catch(R=>{A(!1)})});return e("DID_CREATE_ITEM",(E,{query:T,dispatch:y})=>{T("GET_ALLOW_IMAGE_TRANSFORM")&&E.extend("requestPrepare",()=>new Promise((A,R)=>{y("REQUEST_PREPARE_OUTPUT",{query:E.id,item:E,success:A,failure:R},!0)}))}),e("PREPARE_OUTPUT",(E,{query:T,item:y})=>new Promise(A=>{I(T,E,y).then(R=>{if(!R)return A(E);const v=[];T("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_ORIGINAL")&&v.push(()=>new Promise(F=>{F({name:T("GET_IMAGE_TRANSFORM_VARIANTS_ORIGINAL_NAME"),file:E})})),T("GET_IMAGE_TRANSFORM_VARIANTS_INCLUDE_DEFAULT")&&v.push((F,G,ee)=>new Promise(Q=>{F(G,ee).then(Y=>Q({name:T("GET_IMAGE_TRANSFORM_VARIANTS_DEFAULT_NAME"),file:Y}))}));const C=T("GET_IMAGE_TRANSFORM_VARIANTS")||{};s(C,(F,G)=>{const ee=g(G);v.push((Q,Y,Z)=>new Promise(W=>{ee(Q,Y,Z).then(se=>W({name:F,file:se}))}))});const M=T("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY"),O=T("GET_IMAGE_TRANSFORM_OUTPUT_QUALITY_MODE"),L=M===null?null:M/100,x=T("GET_IMAGE_TRANSFORM_OUTPUT_MIME_TYPE"),V=T("GET_IMAGE_TRANSFORM_CLIENT_TRANSFORMS")||u;y.setMetadata("output",{type:x,quality:L,client:V},!0);const j=(F,G)=>new Promise((ee,Q)=>{const Y={...G};Object.keys(Y).filter(ne=>ne!=="exif").forEach(ne=>{V.indexOf(ne)===-1&&delete Y[ne]});const{resize:Z,exif:W,output:se,crop:k,filter:q,markup:te}=Y,K={image:{orientation:W?W.orientation:null},output:se&&(se.type||typeof se.quality=="number"||se.background)?{type:se.type,quality:typeof se.quality=="number"?se.quality*100:null,background:se.background||T("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR")||null}:void 0,size:Z&&(Z.size.width||Z.size.height)?{mode:Z.mode,upscale:Z.upscale,...Z.size}:void 0,crop:k&&!p(k)?{...k}:void 0,markup:te&&te.length?te.map(Bh):[],filter:q};if(K.output){const ne=se.type?se.type!==F.type:!1,ve=/\/jpe?g$/.test(F.type),we=se.quality!==null?ve&&O==="always":!1;if(!!!(K.size||K.crop||K.filter||ne||we))return ee(F)}const de={beforeCreateBlob:T("GET_IMAGE_TRANSFORM_BEFORE_CREATE_BLOB"),afterCreateBlob:T("GET_IMAGE_TRANSFORM_AFTER_CREATE_BLOB"),canvasMemoryLimit:T("GET_IMAGE_TRANSFORM_CANVAS_MEMORY_LIMIT"),stripImageHead:T("GET_IMAGE_TRANSFORM_OUTPUT_STRIP_IMAGE_HEAD")};Ph(F,K,de).then(ne=>{const ve=o(ne,Ud(F.name,Vd(ne.type)));ee(ve)}).catch(Q)}),l=v.map(F=>F(j,E,y.getMetadata()));Promise.all(l).then(F=>{A(F.length===1&&F[0].name===null?F[0].file:F)})})})),{options:{allowImageTransform:[!0,i.BOOLEAN],imageTransformImageFilter:[null,i.FUNCTION],imageTransformOutputMimeType:[null,i.STRING],imageTransformOutputQuality:[null,i.INT],imageTransformOutputStripImageHead:[!0,i.BOOLEAN],imageTransformClientTransforms:[null,i.ARRAY],imageTransformOutputQualityMode:["always",i.STRING],imageTransformVariants:[null,i.OBJECT],imageTransformVariantsIncludeDefault:[!0,i.BOOLEAN],imageTransformVariantsDefaultName:[null,i.STRING],imageTransformVariantsIncludeOriginal:[!1,i.BOOLEAN],imageTransformVariantsOriginalName:["original_",i.STRING],imageTransformBeforeCreateBlob:[null,i.FUNCTION],imageTransformAfterCreateBlob:[null,i.FUNCTION],imageTransformCanvasMemoryLimit:[Rr&&Uh?4096*4096:null,i.INT],imageTransformCanvasBackgroundColor:[null,i.STRING]}}};Rr&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:la}));const Vh=e=>/^image/.test(e.type),ro=(e,t)=>Gn(e.x*t,e.y*t),so=(e,t)=>Gn(e.x+t.x,e.y+t.y),Hh=e=>{const t=Math.sqrt(e.x*e.x+e.y*e.y);return t===0?{x:0,y:0}:Gn(e.x/t,e.y/t)},ni=(e,t,i)=>{const s=Math.cos(t),o=Math.sin(t),f=Gn(e.x-i.x,e.y-i.y);return Gn(i.x+s*f.x-o*f.y,i.y+o*f.x+s*f.y)},Gn=(e=0,t=0)=>({x:e,y:t}),Ke=(e,t,i=1,s)=>{if(typeof e=="string")return parseFloat(e)*i;if(typeof e=="number")return e*(s?t[s]:Math.min(t.width,t.height))},kh=(e,t,i)=>{const s=e.borderStyle||e.lineStyle||"solid",o=e.backgroundColor||e.fontColor||"transparent",f=e.borderColor||e.lineColor||"transparent",u=Ke(e.borderWidth||e.lineWidth,t,i),g=e.lineCap||"round",p=e.lineJoin||"round",I=typeof s=="string"?"":s.map(T=>Ke(T,t,i)).join(","),E=e.opacity||1;return{"stroke-linecap":g,"stroke-linejoin":p,"stroke-width":u||0,"stroke-dasharray":I,stroke:f,fill:o,opacity:E}},ot=e=>e!=null,$h=(e,t,i=1)=>{let s=Ke(e.x,t,i,"width")||Ke(e.left,t,i,"width"),o=Ke(e.y,t,i,"height")||Ke(e.top,t,i,"height"),f=Ke(e.width,t,i,"width"),u=Ke(e.height,t,i,"height"),g=Ke(e.right,t,i,"width"),p=Ke(e.bottom,t,i,"height");return ot(o)||(ot(u)&&ot(p)?o=t.height-u-p:o=p),ot(s)||(ot(f)&&ot(g)?s=t.width-f-g:s=g),ot(f)||(ot(s)&&ot(g)?f=t.width-s-g:f=0),ot(u)||(ot(o)&&ot(p)?u=t.height-o-p:u=0),{x:s||0,y:o||0,width:f||0,height:u||0}},Wh=e=>e.map((t,i)=>`${i===0?"M":"L"} ${t.x} ${t.y}`).join(" "),yt=(e,t)=>Object.keys(t).forEach(i=>e.setAttribute(i,t[i])),qh="http://www.w3.org/2000/svg",fn=(e,t)=>{const i=document.createElementNS(qh,e);return t&&yt(i,t),i},zh=e=>yt(e,{...e.rect,...e.styles}),jh=e=>{const t=e.rect.x+e.rect.width*.5,i=e.rect.y+e.rect.height*.5,s=e.rect.width*.5,o=e.rect.height*.5;return yt(e,{cx:t,cy:i,rx:s,ry:o,...e.styles})},Yh={contain:"xMidYMid meet",cover:"xMidYMid slice"},Xh=(e,t)=>{yt(e,{...e.rect,...e.styles,preserveAspectRatio:Yh[t.fit]||"none"})},Zh={left:"start",center:"middle",right:"end"},Qh=(e,t,i,s)=>{const o=Ke(t.fontSize,i,s),f=t.fontFamily||"sans-serif",u=t.fontWeight||"normal",g=Zh[t.textAlign]||"start";yt(e,{...e.rect,...e.styles,"stroke-width":0,"font-weight":u,"font-size":o,"font-family":f,"text-anchor":g}),e.text!==t.text&&(e.text=t.text,e.textContent=t.text.length?t.text:" ")},Kh=(e,t,i,s)=>{yt(e,{...e.rect,...e.styles,fill:"none"});const o=e.childNodes[0],f=e.childNodes[1],u=e.childNodes[2],g=e.rect,p={x:e.rect.x+e.rect.width,y:e.rect.y+e.rect.height};if(yt(o,{x1:g.x,y1:g.y,x2:p.x,y2:p.y}),!t.lineDecoration)return;f.style.display="none",u.style.display="none";const I=Hh({x:p.x-g.x,y:p.y-g.y}),E=Ke(.05,i,s);if(t.lineDecoration.indexOf("arrow-begin")!==-1){const T=ro(I,E),y=so(g,T),A=ni(g,2,y),R=ni(g,-2,y);yt(f,{style:"display:block;",d:`M${A.x},${A.y} L${g.x},${g.y} L${R.x},${R.y}`})}if(t.lineDecoration.indexOf("arrow-end")!==-1){const T=ro(I,-E),y=so(p,T),A=ni(p,2,y),R=ni(p,-2,y);yt(u,{style:"display:block;",d:`M${A.x},${A.y} L${p.x},${p.y} L${R.x},${R.y}`})}},Jh=(e,t,i,s)=>{yt(e,{...e.styles,fill:"none",d:Wh(t.points.map(o=>({x:Ke(o.x,i,s,"width"),y:Ke(o.y,i,s,"height")})))})},ii=e=>t=>fn(e,{id:t.id}),ep=e=>{const t=fn("image",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round",opacity:"0"});return t.onload=()=>{t.setAttribute("opacity",e.opacity||1)},t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",e.src),t},tp=e=>{const t=fn("g",{id:e.id,"stroke-linecap":"round","stroke-linejoin":"round"}),i=fn("line");t.appendChild(i);const s=fn("path");t.appendChild(s);const o=fn("path");return t.appendChild(o),t},np={image:ep,rect:ii("rect"),ellipse:ii("ellipse"),text:ii("text"),path:ii("path"),line:tp},ip={rect:zh,ellipse:jh,image:Xh,text:Qh,path:Jh,line:Kh},rp=(e,t)=>np[e](t),sp=(e,t,i,s,o)=>{t!=="path"&&(e.rect=$h(i,s,o)),e.styles=kh(i,s,o),ip[t](e,i,s,o)},op=["x","y","left","top","right","bottom","width","height"],ap=e=>typeof e=="string"&&/%/.test(e)?parseFloat(e)/100:e,lp=e=>{const[t,i]=e,s=i.points?{}:op.reduce((o,f)=>(o[f]=ap(i[f]),o),{});return[t,{zIndex:0,...i,...s}]},cp=(e,t)=>e[1].zIndex>t[1].zIndex?1:e[1].zIndex<t[1].zIndex?-1:0,up=e=>e.utils.createView({name:"image-preview-markup",tag:"svg",ignoreRect:!0,mixins:{apis:["width","height","crop","markup","resize","dirty"]},write:({root:t,props:i})=>{if(!i.dirty)return;const{crop:s,resize:o,markup:f}=i,u=i.width,g=i.height;let p=s.width,I=s.height;if(o){const{size:A}=o;let R=A&&A.width,v=A&&A.height;const C=o.mode,M=o.upscale;R&&!v&&(v=R),v&&!R&&(R=v);const O=p<R&&I<v;if(!O||O&&M){let L=R/p,x=v/I;if(C==="force")p=R,I=v;else{let V;C==="cover"?V=Math.max(L,x):C==="contain"&&(V=Math.min(L,x)),p=p*V,I=I*V}}}const E={width:u,height:g};t.element.setAttribute("width",E.width),t.element.setAttribute("height",E.height);const T=Math.min(u/p,g/I);t.element.innerHTML="";const y=t.query("GET_IMAGE_PREVIEW_MARKUP_FILTER");f.filter(y).map(lp).sort(cp).forEach(A=>{const[R,v]=A,C=rp(R,v);sp(C,R,v,E,T),t.element.appendChild(C)})}}),Pn=(e,t)=>({x:e,y:t}),fp=(e,t)=>e.x*t.x+e.y*t.y,oo=(e,t)=>Pn(e.x-t.x,e.y-t.y),dp=(e,t)=>fp(oo(e,t),oo(e,t)),ao=(e,t)=>Math.sqrt(dp(e,t)),lo=(e,t)=>{const i=e,s=1.5707963267948966,o=t,f=1.5707963267948966-t,u=Math.sin(s),g=Math.sin(o),p=Math.sin(f),I=Math.cos(f),E=i/u,T=E*g,y=E*p;return Pn(I*T,I*y)},hp=(e,t)=>{const i=e.width,s=e.height,o=lo(i,t),f=lo(s,t),u=Pn(e.x+Math.abs(o.x),e.y-Math.abs(o.y)),g=Pn(e.x+e.width+Math.abs(f.y),e.y+Math.abs(f.x)),p=Pn(e.x-Math.abs(f.y),e.y+e.height-Math.abs(f.x));return{width:ao(u,g),height:ao(u,p)}},pp=(e,t,i=1)=>{const s=e.height/e.width;let o=1,f=t,u=1,g=s;g>f&&(g=f,u=g/s);const p=Math.max(o/u,f/g),I=e.width/(i*p*u),E=I*t;return{width:I,height:E}},ca=(e,t,i,s)=>{const o=s.x>.5?1-s.x:s.x,f=s.y>.5?1-s.y:s.y,u=o*2*e.width,g=f*2*e.height,p=hp(t,i);return Math.max(p.width/u,p.height/g)},ua=(e,t)=>{let i=e.width,s=i*t;s>e.height&&(s=e.height,i=s/t);const o=(e.width-i)*.5,f=(e.height-s)*.5;return{x:o,y:f,width:i,height:s}},gp=(e,t={})=>{let{zoom:i,rotation:s,center:o,aspectRatio:f}=t;f||(f=e.height/e.width);const u=pp(e,f,i),g={width:u.width,height:u.height},p=typeof t.scaleToFit>"u"||t.scaleToFit,I=ca(e,ua(g,f),s,p?o:{x:.5,y:.5}),E=i*I;return{widthFloat:u.width/E,heightFloat:u.height/E,width:Math.round(u.width/E),height:Math.round(u.height/E)}},Tt={type:"spring",stiffness:.5,damping:.45,mass:10},Ep=e=>e.utils.createView({name:"image-bitmap",ignoreRect:!0,mixins:{styles:["scaleX","scaleY"]},create:({root:t,props:i})=>{t.appendChild(i.image)}}),mp=e=>e.utils.createView({name:"image-canvas-wrapper",tag:"div",ignoreRect:!0,mixins:{apis:["crop","width","height"],styles:["originX","originY","translateX","translateY","scaleX","scaleY","rotateZ"],animations:{originX:Tt,originY:Tt,scaleX:Tt,scaleY:Tt,translateX:Tt,translateY:Tt,rotateZ:Tt}},create:({root:t,props:i})=>{i.width=i.image.width,i.height=i.image.height,t.ref.bitmap=t.appendChildView(t.createChildView(Ep(e),{image:i.image}))},write:({root:t,props:i})=>{const{flip:s}=i.crop,{bitmap:o}=t.ref;o.scaleX=s.horizontal?-1:1,o.scaleY=s.vertical?-1:1}}),Ip=e=>e.utils.createView({name:"image-clip",tag:"div",ignoreRect:!0,mixins:{apis:["crop","markup","resize","width","height","dirty","background"],styles:["width","height","opacity"],animations:{opacity:{type:"tween",duration:250}}},didWriteView:function({root:t,props:i}){i.background&&(t.element.style.backgroundColor=i.background)},create:({root:t,props:i})=>{t.ref.image=t.appendChildView(t.createChildView(mp(e),Object.assign({},i))),t.ref.createMarkup=()=>{t.ref.markup||(t.ref.markup=t.appendChildView(t.createChildView(up(e),Object.assign({},i))))},t.ref.destroyMarkup=()=>{t.ref.markup&&(t.removeChildView(t.ref.markup),t.ref.markup=null)};const s=t.query("GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR");s!==null&&(s==="grid"?t.element.dataset.transparencyIndicator=s:t.element.dataset.transparencyIndicator="color")},write:({root:t,props:i,shouldOptimize:s})=>{const{crop:o,markup:f,resize:u,dirty:g,width:p,height:I}=i;t.ref.image.crop=o;const E={width:p,height:I,center:{x:p*.5,y:I*.5}},T={width:t.ref.image.width,height:t.ref.image.height},y={x:o.center.x*T.width,y:o.center.y*T.height},A={x:E.center.x-T.width*o.center.x,y:E.center.y-T.height*o.center.y},R=Math.PI*2+o.rotation%(Math.PI*2),v=o.aspectRatio||T.height/T.width,C=typeof o.scaleToFit>"u"||o.scaleToFit,M=ca(T,ua(E,v),R,C?o.center:{x:.5,y:.5}),O=o.zoom*M;f&&f.length?(t.ref.createMarkup(),t.ref.markup.width=p,t.ref.markup.height=I,t.ref.markup.resize=u,t.ref.markup.dirty=g,t.ref.markup.markup=f,t.ref.markup.crop=gp(T,o)):t.ref.markup&&t.ref.destroyMarkup();const L=t.ref.image;if(s){L.originX=null,L.originY=null,L.translateX=null,L.translateY=null,L.rotateZ=null,L.scaleX=null,L.scaleY=null;return}L.originX=y.x,L.originY=y.y,L.translateX=A.x,L.translateY=A.y,L.rotateZ=R,L.scaleX=O,L.scaleY=O}}),Tp=e=>e.utils.createView({name:"image-preview",tag:"div",ignoreRect:!0,mixins:{apis:["image","crop","markup","resize","dirty","background"],styles:["translateY","scaleX","scaleY","opacity"],animations:{scaleX:Tt,scaleY:Tt,translateY:Tt,opacity:{type:"tween",duration:400}}},create:({root:t,props:i})=>{t.ref.clip=t.appendChildView(t.createChildView(Ip(e),{id:i.id,image:i.image,crop:i.crop,markup:i.markup,resize:i.resize,dirty:i.dirty,background:i.background}))},write:({root:t,props:i,shouldOptimize:s})=>{const{clip:o}=t.ref,{image:f,crop:u,markup:g,resize:p,dirty:I}=i;if(o.crop=u,o.markup=g,o.resize=p,o.dirty=I,o.opacity=s?0:1,s||t.rect.element.hidden)return;const E=f.height/f.width;let T=u.aspectRatio||E;const y=t.rect.inner.width,A=t.rect.inner.height;let R=t.query("GET_IMAGE_PREVIEW_HEIGHT");const v=t.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),C=t.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),M=t.query("GET_PANEL_ASPECT_RATIO"),O=t.query("GET_ALLOW_MULTIPLE");M&&!O&&(R=y*M,T=M);let L=R!==null?R:Math.max(v,Math.min(y*T,C)),x=L/T;x>y&&(x=y,L=x*T),L>A&&(L=A,x=A/T),o.width=x,o.height=L}});let _p=`<svg width="500" height="200" viewBox="0 0 500 200" preserveAspectRatio="none">
    <defs>
        <radialGradient id="gradient-__UID__" cx=".5" cy="1.25" r="1.15">
            <stop offset='50%' stop-color='#000000'/>
            <stop offset='56%' stop-color='#0a0a0a'/>
            <stop offset='63%' stop-color='#262626'/>
            <stop offset='69%' stop-color='#4f4f4f'/>
            <stop offset='75%' stop-color='#808080'/>
            <stop offset='81%' stop-color='#b1b1b1'/>
            <stop offset='88%' stop-color='#dadada'/>
            <stop offset='94%' stop-color='#f6f6f6'/>
            <stop offset='100%' stop-color='#ffffff'/>
        </radialGradient>
        <mask id="mask-__UID__">
            <rect x="0" y="0" width="500" height="200" fill="url(#gradient-__UID__)"></rect>
        </mask>
    </defs>
    <rect x="0" width="500" height="200" fill="currentColor" mask="url(#mask-__UID__)"></rect>
</svg>`,co=0;const yp=e=>e.utils.createView({name:"image-preview-overlay",tag:"div",ignoreRect:!0,create:({root:t,props:i})=>{let s=_p;if(document.querySelector("base")){const o=new URL(window.location.href.replace(window.location.hash,"")).href;s=s.replace(/url\(\#/g,"url("+o+"#")}co++,t.element.classList.add(`filepond--image-preview-overlay-${i.status}`),t.element.innerHTML=s.replace(/__UID__/g,co)},mixins:{styles:["opacity"],animations:{opacity:{type:"spring",mass:25}}}}),Rp=function(){self.onmessage=e=>{createImageBitmap(e.data.message.file).then(t=>{self.postMessage({id:e.data.id,message:t},[t])})}},Ap=function(){self.onmessage=e=>{const t=e.data.message.imageData,i=e.data.message.colorMatrix,s=t.data,o=s.length,f=i[0],u=i[1],g=i[2],p=i[3],I=i[4],E=i[5],T=i[6],y=i[7],A=i[8],R=i[9],v=i[10],C=i[11],M=i[12],O=i[13],L=i[14],x=i[15],V=i[16],j=i[17],l=i[18],F=i[19];let G=0,ee=0,Q=0,Y=0,Z=0;for(;G<o;G+=4)ee=s[G]/255,Q=s[G+1]/255,Y=s[G+2]/255,Z=s[G+3]/255,s[G]=Math.max(0,Math.min((ee*f+Q*u+Y*g+Z*p+I)*255,255)),s[G+1]=Math.max(0,Math.min((ee*E+Q*T+Y*y+Z*A+R)*255,255)),s[G+2]=Math.max(0,Math.min((ee*v+Q*C+Y*M+Z*O+L)*255,255)),s[G+3]=Math.max(0,Math.min((ee*x+Q*V+Y*j+Z*l+F)*255,255));self.postMessage({id:e.data.id,message:t},[t.data.buffer])}},bp=(e,t)=>{let i=new Image;i.onload=()=>{const s=i.naturalWidth,o=i.naturalHeight;i=null,t(s,o)},i.src=e},vp={1:()=>[1,0,0,1,0,0],2:e=>[-1,0,0,1,e,0],3:(e,t)=>[-1,0,0,-1,e,t],4:(e,t)=>[1,0,0,-1,0,t],5:()=>[0,1,1,0,0,0],6:(e,t)=>[0,1,-1,0,t,0],7:(e,t)=>[0,-1,-1,0,t,e],8:e=>[0,-1,1,0,0,e]},wp=(e,t,i,s)=>{s!==-1&&e.transform.apply(e,vp[s](t,i))},Sp=(e,t,i,s)=>{t=Math.round(t),i=Math.round(i);const o=document.createElement("canvas");o.width=t,o.height=i;const f=o.getContext("2d");return s>=5&&s<=8&&([t,i]=[i,t]),wp(f,t,i,s),f.drawImage(e,0,0,t,i),o},fa=e=>/^image/.test(e.type)&&!/svg/.test(e.type),Op=10,Dp=10,Mp=e=>{const t=Math.min(Op/e.width,Dp/e.height),i=document.createElement("canvas"),s=i.getContext("2d"),o=i.width=Math.ceil(e.width*t),f=i.height=Math.ceil(e.height*t);s.drawImage(e,0,0,o,f);let u=null;try{u=s.getImageData(0,0,o,f).data}catch{return null}const g=u.length;let p=0,I=0,E=0,T=0;for(;T<g;T+=4)p+=u[T]*u[T],I+=u[T+1]*u[T+1],E+=u[T+2]*u[T+2];return p=Ji(p,g),I=Ji(I,g),E=Ji(E,g),{r:p,g:I,b:E}},Ji=(e,t)=>Math.floor(Math.sqrt(e/(t/4))),Cp=(e,t)=>(t=t||document.createElement("canvas"),t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t),Lp=e=>{let t;try{t=new ImageData(e.width,e.height)}catch{t=document.createElement("canvas").getContext("2d").createImageData(e.width,e.height)}return t.data.set(new Uint8ClampedArray(e.data)),t},xp=e=>new Promise((t,i)=>{const s=new Image;s.crossOrigin="Anonymous",s.onload=()=>{t(s)},s.onerror=o=>{i(o)},s.src=e}),Pp=e=>{const t=yp(e),i=Tp(e),{createWorker:s}=e.utils,o=(O,L,x)=>new Promise(V=>{O.ref.imageData||(O.ref.imageData=x.getContext("2d").getImageData(0,0,x.width,x.height));const j=Lp(O.ref.imageData);if(!L||L.length!==20)return x.getContext("2d").putImageData(j,0,0),V();const l=s(Ap);l.post({imageData:j,colorMatrix:L},F=>{x.getContext("2d").putImageData(F,0,0),l.terminate(),V()},[j.data.buffer])}),f=(O,L)=>{O.removeChildView(L),L.image.width=1,L.image.height=1,L._destroy()},u=({root:O})=>{const L=O.ref.images.shift();return L.opacity=0,L.translateY=-15,O.ref.imageViewBin.push(L),L},g=({root:O,props:L,image:x})=>{const V=L.id,j=O.query("GET_ITEM",{id:V});if(!j)return;const l=j.getMetadata("crop")||{center:{x:.5,y:.5},flip:{horizontal:!1,vertical:!1},zoom:1,rotation:0,aspectRatio:null},F=O.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR");let G,ee,Q=!1;O.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(G=j.getMetadata("markup")||[],ee=j.getMetadata("resize"),Q=!0);const Y=O.appendChildView(O.createChildView(i,{id:V,image:x,crop:l,resize:ee,markup:G,dirty:Q,background:F,opacity:0,scaleX:1.15,scaleY:1.15,translateY:15}),O.childViews.length);O.ref.images.push(Y),Y.opacity=1,Y.scaleX=1,Y.scaleY=1,Y.translateY=0,setTimeout(()=>{O.dispatch("DID_IMAGE_PREVIEW_SHOW",{id:V})},250)},p=({root:O,props:L})=>{const x=O.query("GET_ITEM",{id:L.id});if(!x)return;const V=O.ref.images[O.ref.images.length-1];V.crop=x.getMetadata("crop"),V.background=O.query("GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR"),O.query("GET_IMAGE_PREVIEW_MARKUP_SHOW")&&(V.dirty=!0,V.resize=x.getMetadata("resize"),V.markup=x.getMetadata("markup"))},I=({root:O,props:L,action:x})=>{if(!/crop|filter|markup|resize/.test(x.change.key)||!O.ref.images.length)return;const V=O.query("GET_ITEM",{id:L.id});if(V){if(/filter/.test(x.change.key)){const j=O.ref.images[O.ref.images.length-1];o(O,x.change.value,j.image);return}if(/crop|markup|resize/.test(x.change.key)){const j=V.getMetadata("crop"),l=O.ref.images[O.ref.images.length-1];if(j&&j.aspectRatio&&l.crop&&l.crop.aspectRatio&&Math.abs(j.aspectRatio-l.crop.aspectRatio)>1e-5){const F=u({root:O});g({root:O,props:L,image:Cp(F.image)})}else p({root:O,props:L})}}},E=O=>{const x=window.navigator.userAgent.match(/Firefox\/([0-9]+)\./),V=x?parseInt(x[1]):null;return V!==null&&V<=58?!1:"createImageBitmap"in window&&fa(O)},T=({root:O,props:L})=>{const{id:x}=L,V=O.query("GET_ITEM",x);if(!V)return;const j=URL.createObjectURL(V.file);bp(j,(l,F)=>{O.dispatch("DID_IMAGE_PREVIEW_CALCULATE_SIZE",{id:x,width:l,height:F})})},y=({root:O,props:L})=>{const{id:x}=L,V=O.query("GET_ITEM",x);if(!V)return;const j=URL.createObjectURL(V.file),l=()=>{xp(j).then(F)},F=G=>{URL.revokeObjectURL(j);const Q=(V.getMetadata("exif")||{}).orientation||-1;let{width:Y,height:Z}=G;if(!Y||!Z)return;Q>=5&&Q<=8&&([Y,Z]=[Z,Y]);const W=Math.max(1,window.devicePixelRatio*.75),k=O.query("GET_IMAGE_PREVIEW_ZOOM_FACTOR")*W,q=Z/Y,te=O.rect.element.width,K=O.rect.element.height;let de=te,ne=de*q;q>1?(de=Math.min(Y,te*k),ne=de*q):(ne=Math.min(Z,K*k),de=ne/q);const ve=Sp(G,de,ne,Q),we=()=>{const ke=O.query("GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR")?Mp(data):null;V.setMetadata("color",ke,!0),"close"in G&&G.close(),O.ref.overlayShadow.opacity=1,g({root:O,props:L,image:ve})},Oe=V.getMetadata("filter");Oe?o(O,Oe,ve).then(we):we()};if(E(V.file)){const G=s(Rp);G.post({file:V.file},ee=>{if(G.terminate(),!ee){l();return}F(ee)})}else l()},A=({root:O})=>{const L=O.ref.images[O.ref.images.length-1];L.translateY=0,L.scaleX=1,L.scaleY=1,L.opacity=1},R=({root:O})=>{O.ref.overlayShadow.opacity=1,O.ref.overlayError.opacity=0,O.ref.overlaySuccess.opacity=0},v=({root:O})=>{O.ref.overlayShadow.opacity=.25,O.ref.overlayError.opacity=1},C=({root:O})=>{O.ref.overlayShadow.opacity=.25,O.ref.overlaySuccess.opacity=1},M=({root:O})=>{O.ref.images=[],O.ref.imageData=null,O.ref.imageViewBin=[],O.ref.overlayShadow=O.appendChildView(O.createChildView(t,{opacity:0,status:"idle"})),O.ref.overlaySuccess=O.appendChildView(O.createChildView(t,{opacity:0,status:"success"})),O.ref.overlayError=O.appendChildView(O.createChildView(t,{opacity:0,status:"failure"}))};return e.utils.createView({name:"image-preview-wrapper",create:M,styles:["height"],apis:["height"],destroy:({root:O})=>{O.ref.images.forEach(L=>{L.image.width=1,L.image.height=1})},didWriteView:({root:O})=>{O.ref.images.forEach(L=>{L.dirty=!1})},write:e.utils.createRoute({DID_IMAGE_PREVIEW_DRAW:A,DID_IMAGE_PREVIEW_CONTAINER_CREATE:T,DID_FINISH_CALCULATE_PREVIEWSIZE:y,DID_UPDATE_ITEM_METADATA:I,DID_THROW_ITEM_LOAD_ERROR:v,DID_THROW_ITEM_PROCESSING_ERROR:v,DID_THROW_ITEM_INVALID:v,DID_COMPLETE_ITEM_PROCESSING:C,DID_START_ITEM_PROCESSING:R,DID_REVERT_ITEM_PROCESSING:R},({root:O})=>{const L=O.ref.imageViewBin.filter(x=>x.opacity===0);O.ref.imageViewBin=O.ref.imageViewBin.filter(x=>x.opacity>0),L.forEach(x=>f(O,x)),L.length=0})})},da=e=>{const{addFilter:t,utils:i}=e,{Type:s,createRoute:o,isFile:f}=i,u=Pp(e);return t("CREATE_VIEW",g=>{const{is:p,view:I,query:E}=g;if(!p("file")||!E("GET_ALLOW_IMAGE_PREVIEW"))return;const T=({root:C,props:M})=>{const{id:O}=M,L=E("GET_ITEM",O);if(!L||!f(L.file)||L.archived)return;const x=L.file;if(!Vh(x)||!E("GET_IMAGE_PREVIEW_FILTER_ITEM")(L))return;const V="createImageBitmap"in(window||{}),j=E("GET_IMAGE_PREVIEW_MAX_FILE_SIZE");if(!V&&j&&x.size>j)return;C.ref.imagePreview=I.appendChildView(I.createChildView(u,{id:O}));const l=C.query("GET_IMAGE_PREVIEW_HEIGHT");l&&C.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:L.id,height:l});const F=!V&&x.size>E("GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE");C.dispatch("DID_IMAGE_PREVIEW_CONTAINER_CREATE",{id:O},F)},y=(C,M)=>{if(!C.ref.imagePreview)return;let{id:O}=M;const L=C.query("GET_ITEM",{id:O});if(!L)return;const x=C.query("GET_PANEL_ASPECT_RATIO"),V=C.query("GET_ITEM_PANEL_ASPECT_RATIO"),j=C.query("GET_IMAGE_PREVIEW_HEIGHT");if(x||V||j)return;let{imageWidth:l,imageHeight:F}=C.ref;if(!l||!F)return;const G=C.query("GET_IMAGE_PREVIEW_MIN_HEIGHT"),ee=C.query("GET_IMAGE_PREVIEW_MAX_HEIGHT"),Y=(L.getMetadata("exif")||{}).orientation||-1;if(Y>=5&&Y<=8&&([l,F]=[F,l]),!fa(L.file)||C.query("GET_IMAGE_PREVIEW_UPSCALE")){const te=2048/l;l*=te,F*=te}const Z=F/l,W=(L.getMetadata("crop")||{}).aspectRatio||Z;let se=Math.max(G,Math.min(F,ee));const k=C.rect.element.width,q=Math.min(k*W,se);C.dispatch("DID_UPDATE_PANEL_HEIGHT",{id:L.id,height:q})},A=({root:C})=>{C.ref.shouldRescale=!0},R=({root:C,action:M})=>{M.change.key==="crop"&&(C.ref.shouldRescale=!0)},v=({root:C,action:M})=>{C.ref.imageWidth=M.width,C.ref.imageHeight=M.height,C.ref.shouldRescale=!0,C.ref.shouldDrawPreview=!0,C.dispatch("KICK")};I.registerWriter(o({DID_RESIZE_ROOT:A,DID_STOP_RESIZE:A,DID_LOAD_ITEM:T,DID_IMAGE_PREVIEW_CALCULATE_SIZE:v,DID_UPDATE_ITEM_METADATA:R},({root:C,props:M})=>{C.ref.imagePreview&&(C.rect.element.hidden||(C.ref.shouldRescale&&(y(C,M),C.ref.shouldRescale=!1),C.ref.shouldDrawPreview&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{C.dispatch("DID_FINISH_CALCULATE_PREVIEWSIZE",{id:M.id})})}),C.ref.shouldDrawPreview=!1)))}))}),{options:{allowImagePreview:[!0,s.BOOLEAN],imagePreviewFilterItem:[()=>!0,s.FUNCTION],imagePreviewHeight:[null,s.INT],imagePreviewMinHeight:[44,s.INT],imagePreviewMaxHeight:[256,s.INT],imagePreviewMaxFileSize:[null,s.INT],imagePreviewZoomFactor:[2,s.INT],imagePreviewUpscale:[!1,s.BOOLEAN],imagePreviewMaxInstantPreviewFileSize:[1e6,s.INT],imagePreviewTransparencyIndicator:[null,s.STRING],imagePreviewCalculateAverageImageColor:[!1,s.BOOLEAN],imagePreviewMarkupShow:[!0,s.BOOLEAN],imagePreviewMarkupFilter:[()=>!0,s.FUNCTION]}}},Np=typeof window<"u"&&typeof window.document<"u";Np&&document.dispatchEvent(new CustomEvent("FilePond:pluginloaded",{detail:da}));lr(Qo,Jo,ea,ta,na,la,da);const Gp=document.getElementById("general-file-uploader"),ri=document.getElementById("general-file-submit");li(Gp,{server:"/file/filepond",instantUpload:!0,maxFileSize:"50MB",onaddfilestart:e=>{ri.disabled=!0,ri.textContent=LN.FilesPleaseWait},onprocessfiles:e=>{ri.disabled=!1,ri.textContent=LN.GenericSave}});gl.option({alwaysShowNavOnTouchDevices:!0,disableScrolling:!0,fadeDuration:0,fitImagesInViewport:!0,resizeDuration:0,imageFadeDuration:0});
