function i(n){document.getElementById("new-submit").addEventListener("click",t=>{const e=t.target.parentElement.parentElement.getElementsByClassName("form-control"),{url:a,req:s}=n(e);fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(()=>location.reload())})}function o(n){document.addEventListener("click",t=>{if(!t.target.classList.contains("update-submit"))return;const e=parseInt(t.target.dataset.id),a=t.target.parentElement.parentElement.getElementsByClassName("form-control"),{url:s,req:l}=n(e,a);fetch(s,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}).then(()=>location.reload())})}i(n=>{let t={Latin:"",Languages:{}};for(const e of n)e.dataset.field=="latin"?t.Latin=e.value:e.dataset.field=="lang"&&(t.Languages[e.dataset.lang]=e.value);return{url:"/species",req:t}});o((n,t)=>{let e={ID:n,Latin:"",Languages:{}};for(const a of t)a.dataset.field=="latin"?e.Latin=a.value:a.dataset.field=="lang"&&(e.Languages[a.dataset.lang]=a.value);return{url:"/species",req:e}});
